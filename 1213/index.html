<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Fine-tuning CodeLlama-7B for Fortran Code Generation</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/5.3.3/zephyr/bootstrap.min.css"
      integrity="sha512-CWXb9sx63+REyEBV/cte+dE1hSsYpJifb57KkqAXjsN3gZQt6phZt7e5RhgZrUbaNfCdtdpcqDZtuTEB+D3q2Q=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/styles/atom-one-dark.min.css" />
    <link
      rel="stylesheet"
      href="https://unpkg.com/highlightjs-copy/dist/highlightjs-copy.min.css" />
    <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/highlight.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/languages/fortran.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/languages/python.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/languages/cpp.min.js"></script>
    <script src="https://unpkg.com/highlightjs-copy/dist/highlightjs-copy.min.js"></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js"
      integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+"
      crossorigin="anonymous"></script>
  </head>
  <body>
    
<div class="container">
  <div class="row">
    <div class="col d-flex justify-content-between align-items-center">
      <h2>Intersection of Three Sorted Arrays</h2>
      <div>
        <a href="/fortran-llm/" class="btn btn-outline-primary me-2">
          üè†
        </a>
        <a
          href="/fortran-llm/1207/"
          class="btn btn-outline-secondary me-2">
          ‚¨ÖÔ∏è
        </a>
        <a
          href="/fortran-llm/1217/"
          class="btn btn-outline-secondary">
          ‚û°Ô∏è
        </a>
      </div>
    </div>
  </div>

  <div class="row">
    <div class="col">
      <div class="leetcode-problem-content card">
        <div class="card-body">
          <p>Given three integer arrays <code>arr1</code>, <code>arr2</code> and <code>arr3</code> <strong>sorted</strong> in <strong>strictly increasing</strong> order, return a sorted array of <strong>only</strong> the integers that appeared in <strong>all</strong> three arrays.</p>
<p><strong>Example 1:</strong></p>
<p><strong>Input:</strong> arr1 = [1,2,3,4,5], arr2 = [1,2,5,7,9], arr3 = [1,3,4,5,8]
<strong>Output:</strong> [1,5]
<strong>Explanation:</strong> Only 1 and 5 appeared in the three arrays.</p>
<p><strong>Example 2:</strong></p>
<p><strong>Input:</strong> arr1 = [197,418,523,876,1356], arr2 = [501,880,1593,1710,1870], arr3 = [521,682,1337,1395,1764]
<strong>Output:</strong> []</p>
<p><strong>Constraints:</strong></p>
<ul>
<li><code>1 &lt;= arr1.length, arr2.length, arr3.length &lt;= 1000</code></li>
<li><code>1 &lt;= arr1[i], arr2[i], arr3[i] &lt;= 2000</code></li>
</ul>
          <hr />
          <span class="fst-italic">
            Note: This problem is from
            <a
              href="https://leetcode.com/problems/intersection-of-three-sorted-arrays/description/">LeetCode</a>.
          </span>
        </div>
      </div>
      <style>
        .leetcode-problem-content {
          max-height: 200px;
          overflow-y: auto;
        }
      </style>
    </div>
  </div>
  <div class="row">
    <div class="col-md-6">
      <ul class="nav nav-underline mb-2" id="myTab" role="tablist">
        <li class="nav-item" role="presentation">
          <button
            class="nav-link active"
            id="our-model-tab"
            data-bs-toggle="tab"
            data-bs-target="#our-model-tab-pane"
            type="button"
            role="tab"
            aria-controls="our-model-tab-pane"
            aria-selected="true">
            ü¶æ Our model
          </button>
        </li>
      </ul>
      <div class="tab-content" id="myTabContent">
        <div
          class="tab-pane fade show active"
          id="our-model-tab-pane"
          role="tabpanel"
          aria-labelledby="our-model-tab"
          tabindex="0">
          <div class="row mb-2">
            <div class="col">
              <div
                class="card border-success"
                style="border-width: 2px">
                <div class="card-body">
                  <span class="font-emoji">
                    ‚úÖ
                  </span>
                  <strong>Compiled</strong>
                </div>
              </div>
            </div>

            <div class="col">
              <div
                class="card border-success"
                style="border-width: 2px">
                <div class="card-body">
                  <span class="font_emoji">
                    ‚úÖ
                  </span>
                  <strong>Executed</strong>
                </div>
              </div>
            </div>

            <div class="col">
              <div
                class="card border-danger"
                style="border-width: 2px">
                <div class="card-body">
                  <span class="font-emoji">
                    ‚ùå
                  </span>
                  <strong>Correct</strong>
                </div>
              </div>
            </div>
          </div>
          <pre><code class="language-fortran model-code">program main
    use, intrinsic :: iso_fortran_env, only : error_unit, DP => REAL64
    implicit none
    integer, parameter :: n = 5
    integer, dimension(n) :: arr1, arr2, arr3
    integer, dimension(:), allocatable :: result
    integer :: i, j, k

    ! Example 1
    arr1 = [1, 2, 3, 4, 5]
    arr2 = [1, 2, 5, 7, 9]
    arr3 = [1, 3, 4, 5, 8]
    call solve(arr1, arr2, arr3, result)
    write (unit=error_unit, fmt='(*(I0, 1X))') result

    ! Example 2
    arr1 = [197, 418, 523, 876, 1356]
    arr2 = [501, 880, 1593, 1710, 1870]
    arr3 = [521, 682, 1337, 1395, 1764]
    call solve(arr1, arr2, arr3, result)
    write (unit=error_unit, fmt='(*(I0, 1X))') result

contains

    subroutine solve(arr1, arr2, arr3, result)
        implicit none
        integer, dimension(:), intent(in) :: arr1
        integer, dimension(:), intent(in) :: arr2
        integer, dimension(:), intent(in) :: arr3
        integer, dimension(:), allocatable, intent(out) :: result
        integer :: i, j, k

        allocate (result(size(arr1)))

        i = 1
        j = 1
        k = 1
        do while (i <= size(arr1) .and. j <= size(arr2) .and. k <= size(arr3))
            if (arr1(i) == arr2(j) .and. arr1(i) == arr3(k)) then
                result(i) = arr1(i)
                i = i + 1
                j = j + 1
                k = k + 1
            else if (arr1(i) < arr2(j)) then
                i = i + 1
            else if (arr1(i) > arr3(k)) then
                k = k + 1
            else
                stop "Error: unexpected condition"
            end if
        end do

        result = result(1:i-1)
    end subroutine solve

end program main</code></pre>

           
          <div class="alert alert-danger" role="alert">
            <strong>stderr</strong>
            <pre>STOP Error: unexpected condition
</pre>
          </div>
          
        </div>
      </div>
    </div>
    <div class="col-md-6">
      <ul class="nav nav-underline mb-2" id="myTab" role="tablist">
        <li class="nav-item" role="presentation">
          <button
            class="nav-link active"
            id="codellama-tab"
            data-bs-toggle="tab"
            data-bs-target="#codellama-tab-pane"
            type="button"
            role="tab"
            aria-controls="codellama-tab-pane"
            aria-selected="true">
            ü¶ô CodeLlama-7B
          </button>
        </li>
        <li class="nav-item" role="presentation">
          <button
            class="nav-link"
            id="python-tab"
            data-bs-toggle="tab"
            data-bs-target="#python-tab-pane"
            type="button"
            role="tab"
            aria-controls="python-tab-pane"
            aria-selected="false">
            üêç Python
          </button>
        </li>
        <li class="nav-item" role="presentation">
          <button
            class="nav-link"
            id="cpp-tab"
            data-bs-toggle="tab"
            data-bs-target="#cpp-tab-pane"
            type="button"
            role="tab"
            aria-controls="cpp-tab-pane"
            aria-selected="false">
            ü§† C++
          </button>
        </li>
      </ul>
      <div class="tab-content" id="myTabContent">
        <div
          class="tab-pane fade show active"
          id="codellama-tab-pane"
          role="tabpanel"
          aria-labelledby="codellama-tab"
          tabindex="0">
          <div class="row mb-2">
            <div class="col">
              <div
                class="card border-danger"
                style="border-width: 2px">
                <div class="card-body">
                  <span class="font-emoji">
                    ‚ùå
                  </span>
                  <strong>Compiled</strong>
                </div>
              </div>
            </div>

            <div class="col">
              <div
                class="card border-danger"
                style="border-width: 2px">
                <div class="card-body">
                  <span class="font-emoji">
                    ‚ùå
                  </span>
                  <strong>Executed</strong>
                </div>
              </div>
            </div>

            <div class="col">
              <div
                class="card border-danger"
                style="border-width: 2px">
                <div class="card-body">
                  <span class="font-emoji">
                    ‚ùå
                  </span>
                  <strong>Correct</strong>
                </div>
              </div>
            </div>
          </div>
          <pre><code class="language-fortran model-code">module main

implicit none

integer, parameter :: n = 1000
integer :: i, j, k
integer :: arr1(n), arr2(n), arr3(n)
integer :: result(n)

! read input
read (*, *) arr1
read (*, *) arr2
read (*, *) arr3

! initialize result array
result = 0

! loop through each element in arr1
do i = 1, size(arr1)
    ! check if element is in arr2 and arr3
    if (binary_search(arr2, arr1(i)) .and. binary_search(arr3, arr1(i))) then
        ! if element is in both arr2 and arr3, add it to result
        result(i) = arr1(i)
    end if
end do

! sort result array
call sort(result)

! print output
do i = 1, size(result)
    write (*, *) result(i)
end do

contains

! binary search function
function binary_search(arr, x) result(found)
    integer, intent(in) :: arr(:)
    integer, intent(in) :: x
    logical :: found
    integer :: low, high, mid

    low = 1
    high = size(arr)

    do while (low <= high)
        mid = (low + high) / 2
        if (arr(mid) == x) then
            found = .true.
            return
        else if (arr(mid) < x) then
            low = mid + 1
        else
            high = mid - 1
        end if
    end do

    found = .false.
end function binary_search

! sort function
subroutine sort(arr)
    integer, intent(inout) :: arr(:)
    integer :: i, j, temp

    do i = 1, size(arr) - 1
        do j = i + 1, size(arr)
            if (arr(i) > arr(j)) then
                temp = arr(i)
                arr(i) = arr(j)
                arr(j) = temp
            end if
        end do
    end do
end subroutine sort

end module main

! test cases
program test_cases
    use main
    implicit none

    integer, parameter :: n = 5
    integer :: arr1(n), arr2(n), arr3(n)

    ! example 1
    arr1 = [1, 2, 3, 4, 5]
    arr2 = [1, 2, 5, 7, 9]
    arr3 = [1, 3, 4, 5, 8]
    call solve(arr1, arr2, arr3)

    ! example 2
    arr1 = [197, 418, 523, 876, 1356]
    arr2 = [501, 880, 1593, 1710, 1870]
    arr3 = [521, 682, 1337, 1395, 1764]
    call solve(arr1, arr2, arr3)
end program test_cases
</code></pre>
           
          <div class="alert alert-danger" role="alert">
            <strong>stderr</strong>
            <pre>temp.f95:11:16:

   11 | read (*, *) arr1
      |                1
Error: Unexpected READ statement in MODULE at (1)
temp.f95:12:16:

   12 | read (*, *) arr2
      |                1
Error: Unexpected READ statement in MODULE at (1)
temp.f95:13:16:

   13 | read (*, *) arr3
      |                1
Error: Unexpected READ statement in MODULE at (1)
temp.f95:16:10:

   16 | result = 0
      |          1
Error: Unexpected assignment statement in MODULE at (1)
temp.f95:19:20:

   19 | do i = 1, size(arr1)
      |                    1
Error: Unexpected DO statement in MODULE at (1)
temp.f95:21:77:

   21 |     if (binary_search(arr2, arr1(i)) .and. binary_search(arr3, arr1(i))) then
      |                                                                             1
Error: Unexpected block IF statement in MODULE at (1)
temp.f95:23:27:

   23 |         result(i) = arr1(i)
      |                           1
Error: Unexpected assignment statement in MODULE at (1)
temp.f95:24:7:

   24 |     end if
      |       1
Error: Expecting END MODULE statement at (1)
temp.f95:25:3:

   25 | end do
      |   1
Error: Expecting END MODULE statement at (1)
temp.f95:28:17:

   28 | call sort(result)
      |                 1
Error: Unexpected CALL statement in MODULE at (1)
temp.f95:31:22:

   31 | do i = 1, size(result)
      |                      1
Error: Unexpected DO statement in MODULE at (1)
temp.f95:32:26:

   32 |     write (*, *) result(i)
      |                          1
Error: Unexpected WRITE statement in MODULE at (1)
temp.f95:33:3:

   33 | end do
      |   1
Error: Expecting END MODULE statement at (1)
temp.f95:82:9:

   82 |     use main
      |         1
Fatal Error: Cannot open module file ‚Äòmain.mod‚Äô for reading at (1): No such file or directory
compilation terminated.
</pre>
          </div>
          
        </div>
        <div
          class="tab-pane fade"
          id="python-tab-pane"
          role="tabpanel"
          aria-labelledby="python-tab"
          tabindex="0">
          <alert class="alert alert-info d-flex">
            <strong>üåê Data from online sources</strong>
          </alert>
          <pre><code class="language-python">def arraysIntersection(arr1, arr2, arr3):
    i, j, k = 0, 0, 0
    result = []
    while i &lt; len(arr1) and j &lt; len(arr2) and k &lt; len(arr3):
        if arr1[i] == arr2[j] and arr2[j] == arr3[k]:
            result.append(arr1[i])
            i, j, k = i + 1, j + 1, k + 1
        else:
            if arr1[i] &lt;= arr2[j] and arr1[i] &lt;= arr3[k]:
                i += 1
            elif arr2[j] &lt;= arr3[k]:
                j += 1
            else:
                k += 1
    return result
</code></pre>
<p>The algorithm for finding the intersection of three sorted integer arrays follows these steps:</p>
<ol>
<li>Initialize three pointers, each pointing to the starting index of the three input arrays <code>arr1</code>, <code>arr2</code>, and <code>arr3</code>.</li>
<li>Create an empty result array <code>result</code> to store the values found in the intersection.</li>
<li>Use a <code>while</code> loop that continues as long as none of the pointers reach the end of their respective arrays.</li>
<li>Inside the loop, compare the values pointed by the three pointers. </li>
<li>If all three values are the same, add the value to the result array and move all three pointers forward by 1.</li>
<li>If the values are not the same, find the minimum of the three values and move the pointer pointing to the minimum value forward by 1.</li>
<li>When the loop ends and any of the pointers have reached the end of their respective arrays, the algorithm is terminated, and the result array is returned.</li>
</ol>
<p>This algorithm has a time complexity of O(n), where n is the length of the input arrays since it only iterates once through the arrays. The space complexity is O(m) where m is the number of elements in the intersection.</p>
        </div>
        <div
          class="tab-pane fade"
          id="cpp-tab-pane"
          role="tabpanel"
          aria-labelledby="cpp-tab"
          tabindex="0">
          <alert class="alert alert-info d-flex">
            <strong>üåê Data from online sources</strong>
          </alert>
          <pre><code class="language-cpp">#include &lt;vector&gt;
using namespace std;

vector&lt;int&gt; arraysIntersection(vector&lt;int&gt;&amp; arr1, vector&lt;int&gt;&amp; arr2, vector&lt;int&gt;&amp; arr3) {
    int i = 0, j = 0, k = 0;
    vector&lt;int&gt; result;
    while (i &lt; arr1.size() &amp;&amp; j &lt; arr2.size() &amp;&amp; k &lt; arr3.size()) {
        if (arr1[i] == arr2[j] &amp;&amp; arr2[j] == arr3[k]) {
            result.push_back(arr1[i]);
            i++; j++; k++;
        } else {
            if (arr1[i] &lt;= arr2[j] &amp;&amp; arr1[i] &lt;= arr3[k]) i++;
            else if (arr2[j] &lt;= arr3[k]) j++;
            else k++;
        }
    }
    return result;
}
</code></pre>
<p>The algorithm for finding the intersection of three sorted integer arrays follows these steps:</p>
<ol>
<li>Initialize three pointers, each pointing to the starting index of the three input arrays <code>arr1</code>, <code>arr2</code>, and <code>arr3</code>.</li>
<li>Create an empty result array <code>result</code> to store the values found in the intersection.</li>
<li>Use a <code>while</code> loop that continues as long as none of the pointers reach the end of their respective arrays.</li>
<li>Inside the loop, compare the values pointed by the three pointers. </li>
<li>If all three values are the same, add the value to the result array and move all three pointers forward by 1.</li>
<li>If the values are not the same, find the minimum of the three values and move the pointer pointing to the minimum value forward by 1.</li>
<li>When the loop ends and any of the pointers have reached the end of their respective arrays, the algorithm is terminated, and the result array is returned.</li>
</ol>
<p>This algorithm has a time complexity of O(n), where n is the length of the input arrays since it only iterates once through the arrays. The space complexity is O(m) where m is the number of elements in the intersection.</p>
        </div>
      </div>
      <style>
        .model-code {
          max-height: 600px;
          overflow-y: auto;
        }

        .font-emoji {
          font-family: emoji;
        }
      </style>
    </div>
  </div>
</div>
<script>
  hljs.addPlugin(new CopyButtonPlugin());
  hljs.highlightAll();
</script>

  </body>
</html>