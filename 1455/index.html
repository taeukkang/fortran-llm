<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Fine-tuning CodeLlama-7B for Fortran Code Generation</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/5.3.3/zephyr/bootstrap.min.css"
      integrity="sha512-CWXb9sx63+REyEBV/cte+dE1hSsYpJifb57KkqAXjsN3gZQt6phZt7e5RhgZrUbaNfCdtdpcqDZtuTEB+D3q2Q=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/styles/atom-one-dark.min.css" />
    <link
      rel="stylesheet"
      href="https://unpkg.com/highlightjs-copy/dist/highlightjs-copy.min.css" />
    <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/highlight.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/languages/fortran.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/languages/python.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/languages/cpp.min.js"></script>
    <script src="https://unpkg.com/highlightjs-copy/dist/highlightjs-copy.min.js"></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js"
      integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+"
      crossorigin="anonymous"></script>
  </head>
  <body>
    
<div class="container">
  <div class="row">
    <div class="col d-flex justify-content-between align-items-center">
      <h2>Check If a Word Occurs As a Prefix of Any Word in a Sentence</h2>
      <div>
        <a href="/fortran-llm/" class="btn btn-outline-primary me-2">
          üè†
        </a>
        <a
          href="/fortran-llm/1450/"
          class="btn btn-outline-secondary me-2">
          ‚¨ÖÔ∏è
        </a>
        <a
          href="/fortran-llm/1460/"
          class="btn btn-outline-secondary">
          ‚û°Ô∏è
        </a>
      </div>
    </div>
  </div>

  <div class="row">
    <div class="col">
      <div class="leetcode-problem-content card">
        <div class="card-body">
          <p>Given a <code>sentence</code> that consists of some words separated by a <strong>single space</strong>, and a <code>searchWord</code>, check if <code>searchWord</code> is a prefix of any word in <code>sentence</code>.</p>
<p>Return <em>the index of the word in</em> <code>sentence</code> <em>(<strong>1-indexed</strong>) where</em> <code>searchWord</code> <em>is a prefix of this word</em>. If <code>searchWord</code> is a prefix of more than one word, return the index of the first word <strong>(minimum index)</strong>. If there is no such word return <code>-1</code>.</p>
<p>A <strong>prefix</strong> of a string <code>s</code> is any leading contiguous substring of <code>s</code>.</p>
<p><strong>Example 1:</strong></p>
<p><strong>Input:</strong> sentence =  "i love eating burger ", searchWord =  "burg "
<strong>Output:</strong> 4
<strong>Explanation:</strong>  "burg " is prefix of  "burger " which is the 4th word in the sentence.</p>
<p><strong>Example 2:</strong></p>
<p><strong>Input:</strong> sentence =  "this problem is an easy problem ", searchWord =  "pro "
<strong>Output:</strong> 2
<strong>Explanation:</strong>  "pro " is prefix of  "problem " which is the 2nd and the 6th word in the sentence, but we return 2 as it's the minimal index.</p>
<p><strong>Example 3:</strong></p>
<p><strong>Input:</strong> sentence =  "i am tired ", searchWord =  "you "
<strong>Output:</strong> -1
<strong>Explanation:</strong>  "you " is not a prefix of any word in the sentence.</p>
<p><strong>Constraints:</strong></p>
<ul>
<li><code>1 &lt;= sentence.length &lt;= 100</code></li>
<li><code>1 &lt;= searchWord.length &lt;= 10</code></li>
<li><code>sentence</code> consists of lowercase English letters and spaces.</li>
<li><code>searchWord</code> consists of lowercase English letters.</li>
</ul>
          <hr />
          <span class="fst-italic">
            Note: This problem is from
            <a
              href="https://leetcode.com/problems/check-if-a-word-occurs-as-a-prefix-of-any-word-in-a-sentence/description/">LeetCode</a>.
          </span>
        </div>
      </div>
      <style>
        .leetcode-problem-content {
          max-height: 200px;
          overflow-y: auto;
        }
      </style>
    </div>
  </div>
  <div class="row">
    <div class="col-md-6">
      <ul class="nav nav-underline mb-2" id="myTab" role="tablist">
        <li class="nav-item" role="presentation">
          <button
            class="nav-link active"
            id="our-model-tab"
            data-bs-toggle="tab"
            data-bs-target="#our-model-tab-pane"
            type="button"
            role="tab"
            aria-controls="our-model-tab-pane"
            aria-selected="true">
            ü¶æ Our model
          </button>
        </li>
      </ul>
      <div class="tab-content" id="myTabContent">
        <div
          class="tab-pane fade show active"
          id="our-model-tab-pane"
          role="tabpanel"
          aria-labelledby="our-model-tab"
          tabindex="0">
          <div class="row mb-2">
            <div class="col">
              <div
                class="card border-danger"
                style="border-width: 2px">
                <div class="card-body">
                  <span class="font-emoji">
                    ‚ùå
                  </span>
                  <strong>Compiled</strong>
                </div>
              </div>
            </div>

            <div class="col">
              <div
                class="card border-danger"
                style="border-width: 2px">
                <div class="card-body">
                  <span class="font_emoji">
                    ‚ùå
                  </span>
                  <strong>Executed</strong>
                </div>
              </div>
            </div>

            <div class="col">
              <div
                class="card border-danger"
                style="border-width: 2px">
                <div class="card-body">
                  <span class="font-emoji">
                    ‚ùå
                  </span>
                  <strong>Correct</strong>
                </div>
              </div>
            </div>
          </div>
          <pre><code class="language-fortran model-code">program main
    implicit none

    character(len=100) :: sentence
    character(len=10) :: searchWord
    integer :: i, j, idx, minIdx
    logical :: found

    ! Example 1
    sentence = "i love eating burger "
    searchWord = "burg "
    write(*,*) 'Example 1:'
    write(*,*) 'Input: ', trim(sentence), ', ', trim(searchWord)
    idx = findPrefixIndex(sentence, searchWord)
    write(*,*) 'Output: ', idx

    ! Example 2
    sentence = "this problem is an easy problem "
    searchWord = "pro "
    write(*,*) 'Example 2:'
    write(*,*) 'Input: ', trim(sentence), ', ', trim(searchWord)
    idx = findPrefixIndex(sentence, searchWord)
    write(*,*) 'Output: ', idx

    ! Example 3
    sentence = "i am tired "
    searchWord = "you "
    write(*,*) 'Example 3:'
    write(*,*) 'Input: ', trim(sentence), ', ', trim(searchWord)
    idx = findPrefixIndex(sentence, searchWord)
    write(*,*) 'Output: ', idx

contains

    function findPrefixIndex(sentence, searchWord) result(idx)
        implicit none
        character(len=*), intent(in) :: sentence
        character(len=*), intent(in) :: searchWord
        integer :: idx
        logical :: found

        idx = -1
        found = .false.
        do i = 1, size(sentence)
            if (sentence(i:i+size(searchWord)-1) == searchWord) then
                found = .true.
                idx = i
                exit
            end if
        end do

        if (.not. found) then
            idx = -1
        end if
    end function findPrefixIndex
end program main</code></pre>

           
          <div class="alert alert-danger" role="alert">
            <strong>stderr</strong>
            <pre>temp.f95:45:34:

   45 |             if (sentence(i:i+size(searchWord)-1) == searchWord) then
      |                                  1
Error: ‚Äòarray‚Äô argument of ‚Äòsize‚Äô intrinsic at (1) must be an array
temp.f95:44:23:

   44 |         do i = 1, size(sentence)
      |                       1
Error: ‚Äòarray‚Äô argument of ‚Äòsize‚Äô intrinsic at (1) must be an array
</pre>
          </div>
          
        </div>
      </div>
    </div>
    <div class="col-md-6">
      <ul class="nav nav-underline mb-2" id="myTab" role="tablist">
        <li class="nav-item" role="presentation">
          <button
            class="nav-link active"
            id="codellama-tab"
            data-bs-toggle="tab"
            data-bs-target="#codellama-tab-pane"
            type="button"
            role="tab"
            aria-controls="codellama-tab-pane"
            aria-selected="true">
            ü¶ô CodeLlama-7B
          </button>
        </li>
        <li class="nav-item" role="presentation">
          <button
            class="nav-link"
            id="python-tab"
            data-bs-toggle="tab"
            data-bs-target="#python-tab-pane"
            type="button"
            role="tab"
            aria-controls="python-tab-pane"
            aria-selected="false">
            üêç Python
          </button>
        </li>
        <li class="nav-item" role="presentation">
          <button
            class="nav-link"
            id="cpp-tab"
            data-bs-toggle="tab"
            data-bs-target="#cpp-tab-pane"
            type="button"
            role="tab"
            aria-controls="cpp-tab-pane"
            aria-selected="false">
            ü§† C++
          </button>
        </li>
      </ul>
      <div class="tab-content" id="myTabContent">
        <div
          class="tab-pane fade show active"
          id="codellama-tab-pane"
          role="tabpanel"
          aria-labelledby="codellama-tab"
          tabindex="0">
          <div class="row mb-2">
            <div class="col">
              <div
                class="card border-success"
                style="border-width: 2px">
                <div class="card-body">
                  <span class="font-emoji">
                    ‚úÖ
                  </span>
                  <strong>Compiled</strong>
                </div>
              </div>
            </div>

            <div class="col">
              <div
                class="card border-danger"
                style="border-width: 2px">
                <div class="card-body">
                  <span class="font-emoji">
                    ‚ùå
                  </span>
                  <strong>Executed</strong>
                </div>
              </div>
            </div>

            <div class="col">
              <div
                class="card border-danger"
                style="border-width: 2px">
                <div class="card-body">
                  <span class="font-emoji">
                    ‚ùå
                  </span>
                  <strong>Correct</strong>
                </div>
              </div>
            </div>
          </div>
          <pre><code class="language-fortran model-code">! Declare variables
integer :: sentence_length, search_word_length, i, j, min_index, index
character(len=100) :: sentence, search_word
logical :: found

! Read input
read(*,*) sentence
read(*,*) search_word

! Initialize variables
sentence_length = len_trim(sentence)
search_word_length = len_trim(search_word)
min_index = 100
found = .false.

! Loop through words in sentence
do i = 1, sentence_length
    ! Check if current word is a prefix of search word
    if (sentence(i:i+search_word_length-1) == search_word) then
        ! If so, update minimum index
        min_index = min(min_index, i)
        found = .true.
    end if
end do

! Output result
if (found) then
    write(*,*) min_index
else
    write(*,*) -1
end if

end
</code></pre>
           
          <div class="alert alert-danger" role="alert">
            <strong>stderr</strong>
            <pre>At line 7 of file temp.f95 (unit = 5, file = 'stdin')
Fortran runtime error: End of file

Error termination. Backtrace:
#0  0x786755e6a960 in ???
#1  0x786755e6b4d9 in ???
#2  0x7867560bf17b in ???
#3  0x7867560b8684 in ???
#4  0x7867560b92aa in ???
#5  0x572c0dc0f22d in MAIN__
#6  0x572c0dc0f477 in main
</pre>
          </div>
          
        </div>
        <div
          class="tab-pane fade"
          id="python-tab-pane"
          role="tabpanel"
          aria-labelledby="python-tab"
          tabindex="0">
          <alert class="alert alert-info d-flex">
            <strong>üåê Data from online sources</strong>
          </alert>
          <pre><code class="language-python">def filter_restaurants(restaurants, vegan_friendly, max_price, max_distance):
    def custom_compare(a, b):
        if a[1] == b[1]:
            return b[0] - a[0]
        return b[1] - a[1]

    filtered_restaurants = [
        r for r in restaurants
        if (vegan_friendly == 0 or r[2] == vegan_friendly) and r[3] &lt;= max_price and r[4] &lt;= max_distance
    ]

    filtered_restaurants.sort(key=lambda r: (r[1], r[0]), reverse=True)

    return [r[0] for r in filtered_restaurants]
</code></pre>
<p>The algorithm filters the given restaurants by checking each restaurant's vegan-friendly status, price, and distance. If the veganFriendly input is 0, the restaurant is considered regardless of its vegan-friendly status. If it is 1, only those restaurants with a vegan-friendly status of 1 are considered. Additionally, the restaurant's price and distance must be less than or equal to the given maxPrice and maxDistance, respectively. After filtering, the restaurants are sorted based on their ratings in descending order, and if two restaurants have the same rating, they are sorted by their IDs in descending order. Finally, the list of restaurant IDs is returned.</p>
        </div>
        <div
          class="tab-pane fade"
          id="cpp-tab-pane"
          role="tabpanel"
          aria-labelledby="cpp-tab"
          tabindex="0">
          <alert class="alert alert-info d-flex">
            <strong>üåê Data from online sources</strong>
          </alert>
          <pre><code class="language-cpp">#include &lt;vector&gt;
#include &lt;algorithm&gt;

using namespace std;

bool customCompare(vector&lt;int&gt;&amp; a, vector&lt;int&gt;&amp; b) {
    if (a[1] == b[1]) return a[0] &gt; b[0];
    return a[1] &gt; b[1];
}

vector&lt;int&gt; filterRestaurants(vector&lt;vector&lt;int&gt;&gt;&amp; restaurants, int veganFriendly, int maxPrice, int maxDistance) {
    vector&lt;vector&lt;int&gt;&gt; filteredRestaurants;
    for (auto&amp; r : restaurants) {
        if ((veganFriendly == 0 || r[2] == veganFriendly) &amp;&amp; r[3] &lt;= maxPrice &amp;&amp; r[4] &lt;= maxDistance) {
            filteredRestaurants.push_back(r);
        }
    }
    sort(filteredRestaurants.begin(), filteredRestaurants.end(), customCompare);
    vector&lt;int&gt; ids;
    for (auto&amp; r : filteredRestaurants) {
        ids.push_back(r[0]);
    }
    return ids;
}
</code></pre>
<p>The algorithm filters the given restaurants by checking each restaurant's vegan-friendly status, price, and distance. If the veganFriendly input is 0, the restaurant is considered regardless of its vegan-friendly status. If it is 1, only those restaurants with a vegan-friendly status of 1 are considered. Additionally, the restaurant's price and distance must be less than or equal to the given maxPrice and maxDistance, respectively. After filtering, the restaurants are sorted based on their ratings in descending order, and if two restaurants have the same rating, they are sorted by their IDs in descending order. Finally, the list of restaurant IDs is returned.</p>
        </div>
      </div>
      <style>
        .model-code {
          max-height: 600px;
          overflow-y: auto;
        }

        .font-emoji {
          font-family: emoji;
        }
      </style>
    </div>
  </div>
</div>
<script>
  hljs.addPlugin(new CopyButtonPlugin());
  hljs.highlightAll();
</script>

  </body>
</html>