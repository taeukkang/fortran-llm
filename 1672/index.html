<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Fine-tuning CodeLlama-7B for Fortran Code Generation</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/5.3.3/zephyr/bootstrap.min.css"
      integrity="sha512-CWXb9sx63+REyEBV/cte+dE1hSsYpJifb57KkqAXjsN3gZQt6phZt7e5RhgZrUbaNfCdtdpcqDZtuTEB+D3q2Q=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/styles/atom-one-dark.min.css" />
    <link
      rel="stylesheet"
      href="https://unpkg.com/highlightjs-copy/dist/highlightjs-copy.min.css" />
    <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/highlight.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/languages/fortran.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/languages/python.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/languages/cpp.min.js"></script>
    <script src="https://unpkg.com/highlightjs-copy/dist/highlightjs-copy.min.js"></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js"
      integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+"
      crossorigin="anonymous"></script>
  </head>
  <body>
    
<div class="container">
  <div class="row">
    <div class="col d-flex justify-content-between align-items-center">
      <h2>Richest Customer Wealth</h2>
      <div>
        <a href="/fortran-llm/" class="btn btn-outline-primary me-2">
          🏠
        </a>
        <a
          href="/fortran-llm/1668/"
          class="btn btn-outline-secondary me-2">
          ⬅️
        </a>
        <a
          href="/fortran-llm/1678/"
          class="btn btn-outline-secondary">
          ➡️
        </a>
      </div>
    </div>
  </div>

  <div class="row">
    <div class="col">
      <div class="leetcode-problem-content card">
        <div class="card-body">
          <p>You are given an <code>m x n</code> integer grid <code>accounts</code> where <code>accounts[i][j]</code> is the amount of money the <code>i​​​​​​​​​​​th​​​​</code> customer has in the <code>j​​​​​​​​​​​th</code>​​​​ bank. Return <em>the <strong>wealth</strong> that the richest customer has.</em></p>
<p>A customer's <strong>wealth</strong> is the amount of money they have in all their bank accounts. The richest customer is the customer that has the maximum <strong>wealth</strong>.</p>
<p><strong>Example 1:</strong></p>
<p><strong>Input:</strong> accounts = [[1,2,3],[3,2,1]]
<strong>Output:</strong> 6
<strong>Explanation</strong><strong>:</strong>
<code>1st customer has wealth = 1 + 2 + 3 = 6</code>
<code>2nd customer has wealth = 3 + 2 + 1 = 6</code>
Both customers are considered the richest with a wealth of 6 each, so return 6.</p>
<p><strong>Example 2:</strong></p>
<p><strong>Input:</strong> accounts = [[1,5],[7,3],[3,5]]
<strong>Output:</strong> 10
<strong>Explanation</strong>: 
1st customer has wealth = 6
2nd customer has wealth = 10 
3rd customer has wealth = 8
The 2nd customer is the richest with a wealth of 10.</p>
<p><strong>Example 3:</strong></p>
<p><strong>Input:</strong> accounts = [[2,8,7],[7,1,3],[1,9,5]]
<strong>Output:</strong> 17</p>
<p><strong>Constraints:</strong></p>
<ul>
<li><code>m == accounts.length</code></li>
<li><code>n == accounts[i].length</code></li>
<li><code>1 &lt;= m, n &lt;= 50</code></li>
<li><code>1 &lt;= accounts[i][j] &lt;= 100</code></li>
</ul>
          <hr />
          <span class="fst-italic">
            Note: This problem is from
            <a
              href="https://leetcode.com/problems/richest-customer-wealth/description/">LeetCode</a>.
          </span>
        </div>
      </div>
      <style>
        .leetcode-problem-content {
          max-height: 200px;
          overflow-y: auto;
        }
      </style>
    </div>
  </div>
  <div class="row">
    <div class="col-md-6">
      <ul class="nav nav-underline mb-2" id="myTab" role="tablist">
        <li class="nav-item" role="presentation">
          <button
            class="nav-link active"
            id="our-model-tab"
            data-bs-toggle="tab"
            data-bs-target="#our-model-tab-pane"
            type="button"
            role="tab"
            aria-controls="our-model-tab-pane"
            aria-selected="true">
            🦾 Our model
          </button>
        </li>
      </ul>
      <div class="tab-content" id="myTabContent">
        <div
          class="tab-pane fade show active"
          id="our-model-tab-pane"
          role="tabpanel"
          aria-labelledby="our-model-tab"
          tabindex="0">
          <div class="row mb-2">
            <div class="col">
              <div
                class="card border-danger"
                style="border-width: 2px">
                <div class="card-body">
                  <span class="font-emoji">
                    ❌
                  </span>
                  <strong>Compiled</strong>
                </div>
              </div>
            </div>

            <div class="col">
              <div
                class="card border-danger"
                style="border-width: 2px">
                <div class="card-body">
                  <span class="font_emoji">
                    ❌
                  </span>
                  <strong>Executed</strong>
                </div>
              </div>
            </div>

            <div class="col">
              <div
                class="card border-danger"
                style="border-width: 2px">
                <div class="card-body">
                  <span class="font-emoji">
                    ❌
                  </span>
                  <strong>Correct</strong>
                </div>
              </div>
            </div>
          </div>
          <pre><code class="language-fortran model-code">program main
    implicit none

    integer, parameter :: m = 2, n = 3
    integer, dimension(m, n) :: accounts
    integer :: i, j, wealth

    ! Example 1
    accounts = reshape([1, 2, 3, 3, 2, 1], shape=[m, n])
    write (*, '(a, i0)') 'Example 1: ', max_wealth(accounts)

    ! Example 2
    accounts = reshape([1, 5, 7, 3], shape=[m, n])
    write (*, '(a, i0)') 'Example 2: ', max_wealth(accounts)

    ! Example 3
    accounts = reshape([2, 8, 7, 7, 1, 3, 1, 9, 5], shape=[m, n])
    write (*, '(a, i0)') 'Example 3: ', max_wealth(accounts)

contains

    function max_wealth(accounts) result(wealth)
        implicit none
        integer, intent(in) :: accounts(:, :)
        integer :: i, j, wealth

        wealth = 0
        do i = 1, size(accounts, 1)
            do j = 1, size(accounts, 2)
                wealth = max(wealth, sum(accounts(i, :)))
            end do
        end do
    end function max_wealth
end program main</code></pre>

           
          <div class="alert alert-danger" role="alert">
            <strong>stderr</strong>
            <pre>temp.f95:13:23:

   13 |     accounts = reshape([1, 5, 7, 3], shape=[m, n])
      |                       1
Error: Without padding, there are not enough elements in the intrinsic RESHAPE source at (1) to match the shape
</pre>
          </div>
          
        </div>
      </div>
    </div>
    <div class="col-md-6">
      <ul class="nav nav-underline mb-2" id="myTab" role="tablist">
        <li class="nav-item" role="presentation">
          <button
            class="nav-link active"
            id="codellama-tab"
            data-bs-toggle="tab"
            data-bs-target="#codellama-tab-pane"
            type="button"
            role="tab"
            aria-controls="codellama-tab-pane"
            aria-selected="true">
            🦙 CodeLlama-7B
          </button>
        </li>
        <li class="nav-item" role="presentation">
          <button
            class="nav-link"
            id="python-tab"
            data-bs-toggle="tab"
            data-bs-target="#python-tab-pane"
            type="button"
            role="tab"
            aria-controls="python-tab-pane"
            aria-selected="false">
            🐍 Python
          </button>
        </li>
        <li class="nav-item" role="presentation">
          <button
            class="nav-link"
            id="cpp-tab"
            data-bs-toggle="tab"
            data-bs-target="#cpp-tab-pane"
            type="button"
            role="tab"
            aria-controls="cpp-tab-pane"
            aria-selected="false">
            🤠 C++
          </button>
        </li>
      </ul>
      <div class="tab-content" id="myTabContent">
        <div
          class="tab-pane fade show active"
          id="codellama-tab-pane"
          role="tabpanel"
          aria-labelledby="codellama-tab"
          tabindex="0">
          <div class="row mb-2">
            <div class="col">
              <div
                class="card border-danger"
                style="border-width: 2px">
                <div class="card-body">
                  <span class="font-emoji">
                    ❌
                  </span>
                  <strong>Compiled</strong>
                </div>
              </div>
            </div>

            <div class="col">
              <div
                class="card border-danger"
                style="border-width: 2px">
                <div class="card-body">
                  <span class="font-emoji">
                    ❌
                  </span>
                  <strong>Executed</strong>
                </div>
              </div>
            </div>

            <div class="col">
              <div
                class="card border-danger"
                style="border-width: 2px">
                <div class="card-body">
                  <span class="font-emoji">
                    ❌
                  </span>
                  <strong>Correct</strong>
                </div>
              </div>
            </div>
          </div>
          <pre><code class="language-fortran model-code">module wealth
  implicit none
contains
  function get_wealth(accounts) result(wealth)
    integer, intent(in) :: accounts(:, :)
    integer :: wealth, i, j

    wealth = 0
    do i = 1, size(accounts, 1)
      do j = 1, size(accounts, 2)
        wealth = max(wealth, sum(accounts(i, :)))
      end do
    end do
  end function get_wealth
end module wealth

program wealth_test
  use wealth
  implicit none
  integer, parameter :: m = 2, n = 3
  integer :: accounts(m, n) = reshape([1, 2, 3, 3, 2, 1], shape(accounts))
  integer :: wealth

  wealth = get_wealth(accounts)
  write (*, *) "Wealth: ", wealth

  accounts = reshape([1, 5, 7, 3, 2, 1, 9, 5], shape(accounts))
  wealth = get_wealth(accounts)
  write (*, *) "Wealth: ", wealth

  accounts = reshape([2, 8, 7, 7, 1, 3, 1, 9, 5], shape(accounts))
  wealth = get_wealth(accounts)
  write (*, *) "Wealth: ", wealth
end program wealth_test
</code></pre>
           
          <div class="alert alert-danger" role="alert">
            <strong>stderr</strong>
            <pre>temp.f95:22:19:

   22 |   integer :: wealth
      |                   1
Error: Symbol ‘wealth_test’ at (1) cannot have a type
temp.f95:24:9:

   24 |   wealth = get_wealth(accounts)
      |         1
Error: ‘wealth’ at (1) is not a variable
temp.f95:25:33:

   25 |   write (*, *) "Wealth: ", wealth
      |                                 1
Error: Symbol at (1) is not appropriate for an expression
temp.f95:28:9:

   28 |   wealth = get_wealth(accounts)
      |         1
Error: ‘wealth’ at (1) is not a variable
temp.f95:29:33:

   29 |   write (*, *) "Wealth: ", wealth
      |                                 1
Error: Symbol at (1) is not appropriate for an expression
temp.f95:32:9:

   32 |   wealth = get_wealth(accounts)
      |         1
Error: ‘wealth’ at (1) is not a variable
temp.f95:33:33:

   33 |   write (*, *) "Wealth: ", wealth
      |                                 1
Error: Symbol at (1) is not appropriate for an expression
</pre>
          </div>
          
        </div>
        <div
          class="tab-pane fade"
          id="python-tab-pane"
          role="tabpanel"
          aria-labelledby="python-tab"
          tabindex="0">
          <alert class="alert alert-info d-flex">
            <strong>🌐 Data from online sources</strong>
          </alert>
          <pre><code class="language-python">def maximumWealth(accounts):
    max_wealth = 0
    for customer in accounts:
        wealth = sum(customer)
        max_wealth = max(max_wealth, wealth)
    return max_wealth
</code></pre>
<p>The algorithm iterates through each customer in the given grid (accounts) and calculates their total wealth by summing the values in their bank accounts. After calculating the wealth for a customer, the algorithm checks if it is greater than the current maximum wealth, and if so, the maximum wealth gets updated to the new wealth value. After all iterations, the algorithm returns the maximum wealth found.</p>
<p>The approach is the same for each language, just with minor syntactical differences between them.</p>
        </div>
        <div
          class="tab-pane fade"
          id="cpp-tab-pane"
          role="tabpanel"
          aria-labelledby="cpp-tab"
          tabindex="0">
          <alert class="alert alert-info d-flex">
            <strong>🌐 Data from online sources</strong>
          </alert>
          <pre><code class="language-cpp">int maximumWealth(vector&lt;vector&lt;int&gt;&gt;&amp; accounts) {
    int max_wealth = 0;
    for (auto&amp; customer : accounts) {
        int wealth = 0;
        for (int account : customer) {
            wealth += account;
        }
        max_wealth = max(max_wealth, wealth);
    }
    return max_wealth;
}
</code></pre>
<p>The algorithm iterates through each customer in the given grid (accounts) and calculates their total wealth by summing the values in their bank accounts. After calculating the wealth for a customer, the algorithm checks if it is greater than the current maximum wealth, and if so, the maximum wealth gets updated to the new wealth value. After all iterations, the algorithm returns the maximum wealth found.</p>
<p>The approach is the same for each language, just with minor syntactical differences between them.</p>
        </div>
      </div>
      <style>
        .model-code {
          max-height: 600px;
          overflow-y: auto;
        }

        .font-emoji {
          font-family: emoji;
        }
      </style>
    </div>
  </div>
</div>
<script>
  hljs.addPlugin(new CopyButtonPlugin());
  hljs.highlightAll();
</script>

  </body>
</html>