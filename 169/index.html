<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Fine-tuning CodeLlama-7B for Fortran Code Generation</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/5.3.3/zephyr/bootstrap.min.css"
      integrity="sha512-CWXb9sx63+REyEBV/cte+dE1hSsYpJifb57KkqAXjsN3gZQt6phZt7e5RhgZrUbaNfCdtdpcqDZtuTEB+D3q2Q=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/styles/atom-one-dark.min.css" />
    <link
      rel="stylesheet"
      href="https://unpkg.com/highlightjs-copy/dist/highlightjs-copy.min.css" />
    <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/highlight.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/languages/fortran.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/languages/python.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/languages/cpp.min.js"></script>
    <script src="https://unpkg.com/highlightjs-copy/dist/highlightjs-copy.min.js"></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js"
      integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+"
      crossorigin="anonymous"></script>
  </head>
  <body>
    
<div class="container">
  <div class="row">
    <div class="col d-flex justify-content-between align-items-center">
      <h2>Majority Element</h2>
      <div>
        <a href="/" class="btn btn-outline-primary me-2">
          üè†
        </a>
        <a
          href="/168/"
          class="btn btn-outline-secondary me-2">
          ‚¨ÖÔ∏è
        </a>
        <a
          href="/170/"
          class="btn btn-outline-secondary">
          ‚û°Ô∏è
        </a>
      </div>
    </div>
  </div>

  <div class="row">
    <div class="col">
      <div class="leetcode-problem-content card">
        <div class="card-body">
          <p>Given an array <code>nums</code> of size <code>n</code>, return <em>the majority element</em>.</p>
<p>The majority element is the element that appears more than <code>‚åän / 2‚åã</code> times. You may assume that the majority element always exists in the array.</p>
<p><strong>Example 1:</strong></p>
<p><strong>Input:</strong> nums = [3,2,3]
<strong>Output:</strong> 3</p>
<p><strong>Example 2:</strong></p>
<p><strong>Input:</strong> nums = [2,2,1,1,1,2,2]
<strong>Output:</strong> 2</p>
<p><strong>Constraints:</strong></p>
<ul>
<li><code>n == nums.length</code></li>
<li><code>1 &lt;= n &lt;= 5 * 104</code></li>
<li><code>-109 &lt;= nums[i] &lt;= 109</code></li>
</ul>
<p><strong>Follow-up:</strong> Could you solve the problem in linear time and in <code>O(1)</code> space?</p>
          <hr />
          <span class="fst-italic">
            Note: This problem is from
            <a
              href="https://leetcode.com/problems/majority-element/description/">LeetCode</a>.
          </span>
        </div>
      </div>
      <style>
        .leetcode-problem-content {
          max-height: 200px;
          overflow-y: auto;
        }
      </style>
    </div>
  </div>
  <div class="row">
    <div class="col-md-6">
      <ul class="nav nav-underline mb-2" id="myTab" role="tablist">
        <li class="nav-item" role="presentation">
          <button
            class="nav-link active"
            id="our-model-tab"
            data-bs-toggle="tab"
            data-bs-target="#our-model-tab-pane"
            type="button"
            role="tab"
            aria-controls="our-model-tab-pane"
            aria-selected="true">
            ü¶æ Our model
          </button>
        </li>
      </ul>
      <div class="tab-content" id="myTabContent">
        <div
          class="tab-pane fade show active"
          id="our-model-tab-pane"
          role="tabpanel"
          aria-labelledby="our-model-tab"
          tabindex="0">
          <div class="row mb-2">
            <div class="col">
              <div
                class="card border-danger"
                style="border-width: 2px">
                <div class="card-body">
                  <span class="font-emoji">
                    ‚ùå
                  </span>
                  <strong>Compiled</strong>
                </div>
              </div>
            </div>

            <div class="col">
              <div
                class="card border-danger"
                style="border-width: 2px">
                <div class="card-body">
                  <span class="font_emoji">
                    ‚ùå
                  </span>
                  <strong>Executed</strong>
                </div>
              </div>
            </div>

            <div class="col">
              <div
                class="card border-danger"
                style="border-width: 2px">
                <div class="card-body">
                  <span class="font-emoji">
                    ‚ùå
                  </span>
                  <strong>Correct</strong>
                </div>
              </div>
            </div>
          </div>
          <pre><code class="language-fortran model-code">program main
    implicit none

    integer, parameter :: n = 3
    integer, dimension(n) :: nums = (/ 3, 2, 3 /)
    integer :: i

    write (*, '(A)') 'Expected: 3'
    write (*, '(A)') 'Actual: ', majority_element(nums)

contains

    function majority_element(nums) result(majority)
        implicit none
        integer, dimension(:), intent(in) :: nums
        integer :: majority
        integer :: count

        do i = 1, size(nums)
            count = 0
            do j = 1, size(nums)
                if (nums(i) == nums(j)) then
                    count = count + 1
                end if
            end do
            if (count > size(nums)/2) then
                majority = nums(i)
                exit
            end if
        end do
    end function majority_element

end program main</code></pre>

           
          <div class="alert alert-danger" role="alert">
            <strong>stderr</strong>
            <pre>temp.f95:21:16:

   21 |             do j = 1, size(nums)
      |                1
Error: Symbol ‚Äòj‚Äô at (1) has no IMPLICIT type
</pre>
          </div>
          
        </div>
      </div>
    </div>
    <div class="col-md-6">
      <ul class="nav nav-underline mb-2" id="myTab" role="tablist">
        <li class="nav-item" role="presentation">
          <button
            class="nav-link active"
            id="codellama-tab"
            data-bs-toggle="tab"
            data-bs-target="#codellama-tab-pane"
            type="button"
            role="tab"
            aria-controls="codellama-tab-pane"
            aria-selected="true">
            ü¶ô CodeLlama-7B
          </button>
        </li>
        <li class="nav-item" role="presentation">
          <button
            class="nav-link"
            id="python-tab"
            data-bs-toggle="tab"
            data-bs-target="#python-tab-pane"
            type="button"
            role="tab"
            aria-controls="python-tab-pane"
            aria-selected="false">
            üêç Python
          </button>
        </li>
        <li class="nav-item" role="presentation">
          <button
            class="nav-link"
            id="cpp-tab"
            data-bs-toggle="tab"
            data-bs-target="#cpp-tab-pane"
            type="button"
            role="tab"
            aria-controls="cpp-tab-pane"
            aria-selected="false">
            ü§† C++
          </button>
        </li>
      </ul>
      <div class="tab-content" id="myTabContent">
        <div
          class="tab-pane fade show active"
          id="codellama-tab-pane"
          role="tabpanel"
          aria-labelledby="codellama-tab"
          tabindex="0">
          <div class="row mb-2">
            <div class="col">
              <div
                class="card border-danger"
                style="border-width: 2px">
                <div class="card-body">
                  <span class="font-emoji">
                    ‚ùå
                  </span>
                  <strong>Compiled</strong>
                </div>
              </div>
            </div>

            <div class="col">
              <div
                class="card border-danger"
                style="border-width: 2px">
                <div class="card-body">
                  <span class="font-emoji">
                    ‚ùå
                  </span>
                  <strong>Executed</strong>
                </div>
              </div>
            </div>

            <div class="col">
              <div
                class="card border-danger"
                style="border-width: 2px">
                <div class="card-body">
                  <span class="font-emoji">
                    ‚ùå
                  </span>
                  <strong>Correct</strong>
                </div>
              </div>
            </div>
          </div>
          <pre><code class="language-fortran model-code">module majority_element

implicit none

contains

function majority_element(nums) result(majority)

! Given an array `nums` of size `n`, return the majority element.
! The majority element is the element that appears more than `‚åän / 2‚åã` times.
! You may assume that the majority element always exists in the array.

integer, intent(in) :: nums(:)
integer :: majority

! Edge case: If the array has only one element, return that element.
if (size(nums) == 1) then
    majority = nums(1)
    return
end if

! Initialize the count for the first element as 1.
integer :: count = 1

! Iterate over the rest of the elements.
do i = 2, size(nums)
    ! If the current element is the same as the previous element, increment the count.
    if (nums(i) == nums(i-1)) then
        count = count + 1
    ! Otherwise, decrement the count.
    else
        count = count - 1
    end if

    ! If the count becomes zero, the current element is no longer the majority element.
    if (count == 0) exit
end do

! Return the majority element.
majority = nums(i)

end function majority_element

end module majority_element

program test_majority_element

use majority_element

implicit none

! Test case 1:
! Given an array `nums` of size `n`, return the majority element.
! The majority element is the element that appears more than `‚åän / 2‚åã` times.
! You may assume that the majority element always exists in the array.

integer, parameter :: n = 3
integer, parameter :: nums(n) = [3, 2, 3]
integer :: majority

majority = majority_element(nums)

if (majority /= 3) then
    write (*,*) "Test case 1 failed. Expected: 3, Actual:", majority
    stop 1
end if

! Test case 2:
! Given an array `nums` of size `n`, return the majority element.
! The majority element is the element that appears more than `‚åän / 2‚åã` times.
! You may assume that the majority element always exists in the array.

n = 8
nums = [2, 2, 1, 1, 1, 2, 2]

majority = majority_element(nums)

if (majority /= 2) then
    write (*,*) "Test case 2 failed. Expected: 2, Actual:", majority
    stop 1
end if

! Test case 3:
! Given an array `nums` of size `n`, return the majority element.
! The majority element is the element that appears more than `‚åän / 2‚åã` times.
! You may assume that the majority element always exists in the array.

n = 9
nums = [3, 2, 3, 2, 2, 2, 2, 2]

majority = majority_element(nums)

if (majority /= 2) then
    write (*,*) "Test case 3 failed. Expected: 2, Actual:", majority
    stop 1
end if

! Test case 4:
! Given an array `nums` of size `n`, return the majority element.
! The majority element is the element that appears more than `‚åän / 2‚åã` times.
! You may assume that the majority element always exists in the array.

n = 10
nums = [2, 2, 2, 1, 1, 1, 1, 2, 2]

majority = majority_element(nums)

if (majority /= 2) then
    write (*,*) "Test case 4 failed. Expected: 2, Actual:", majority
    stop 1
end if

! Test case 5:
! Given an array `nums` of size `n`, return the majority element.
! The majority element is the element that appears more than
</code></pre>
           
          <div class="alert alert-danger" role="alert">
            <strong>stderr</strong>
            <pre>temp.f95:7:25:

    7 | function majority_element(nums) result(majority)
      |                         1
Error: MODULE attribute of ‚Äòmajority_element‚Äô conflicts with PROCEDURE attribute at (1)
temp.f95:13:30:

   13 | integer, intent(in) :: nums(:)
      |                              1
Error: Unexpected data declaration statement in CONTAINS section at (1)
temp.f95:14:19:

   14 | integer :: majority
      |                   1
Error: Unexpected data declaration statement in CONTAINS section at (1)
temp.f95:17:25:

   17 | if (size(nums) == 1) then
      |                         1
Error: Unexpected block IF statement in CONTAINS section at (1)
temp.f95:18:22:

   18 |     majority = nums(1)
      |                      1
Error: Unexpected assignment statement in CONTAINS section at (1)
temp.f95:19:10:

   19 |     return
      |          1
Error: Unexpected RETURN statement in CONTAINS section at (1)
temp.f95:20:3:

   20 | end if
      |   1
Error: Expecting END MODULE statement at (1)
temp.f95:23:20:

   23 | integer :: count = 1
      |                    1
Error: Unexpected data declaration statement in CONTAINS section at (1)
temp.f95:26:20:

   26 | do i = 2, size(nums)
      |                    1
Error: Unexpected DO statement in CONTAINS section at (1)
temp.f95:28:34:

   28 |     if (nums(i) == nums(i-1)) then
      |                                  1
Error: Unexpected block IF statement in CONTAINS section at (1)
temp.f95:29:25:

   29 |         count = count + 1
      |                         1
Error: Unexpected assignment statement in CONTAINS section at (1)
temp.f95:31:8:

   31 |     else
      |        1
Error: Unexpected ELSE statement in CONTAINS section at (1)
temp.f95:32:25:

   32 |         count = count - 1
      |                         1
Error: Unexpected assignment statement in CONTAINS section at (1)
temp.f95:33:7:

   33 |     end if
      |       1
Error: Expecting END MODULE statement at (1)
temp.f95:36:24:

   36 |     if (count == 0) exit
      |                        1
Error: EXIT statement at (1) is not within a construct
temp.f95:37:3:

   37 | end do
      |   1
Error: Expecting END MODULE statement at (1)
temp.f95:40:18:

   40 | majority = nums(i)
      |                  1
Error: Unexpected assignment statement in CONTAINS section at (1)
temp.f95:42:3:

   42 | end function majority_element
      |   1
Error: Expecting END MODULE statement at (1)
temp.f95:48:5:

   48 | use majority_element
      |     1
Fatal Error: Cannot open module file ‚Äòmajority_element.mod‚Äô for reading at (1): No such file or directory
compilation terminated.
</pre>
          </div>
          
        </div>
        <div
          class="tab-pane fade"
          id="python-tab-pane"
          role="tabpanel"
          aria-labelledby="python-tab"
          tabindex="0">
          <alert class="alert alert-info d-flex">
            <strong>üåê Data from online sources</strong>
          </alert>
          <pre><code class="language-python">def majority_element(nums):
    count = 0
    candidate = None

    for num in nums:
        if count == 0:
            candidate = num
        count += (num == candidate) - (num != candidate)

    return candidate
</code></pre>
<p>The algorithm used here is called the Boyer-Moore Majority Vote algorithm. It works by initializing a candidate element and a count. Then, we iterate through the given array. If the count is 0, we set the candidate to the current element in the array. Then we update the count by adding 1 if the current element is equal to the candidate, or subtracting 1 otherwise. At the end of the iteration, the candidate will have the majority element.</p>
<p>The algorithm works because if there is a majority element, it will always appear more than the sum of all other elements, so the count will not be 0 at the end.</p>
        </div>
        <div
          class="tab-pane fade"
          id="cpp-tab-pane"
          role="tabpanel"
          aria-labelledby="cpp-tab"
          tabindex="0">
          <alert class="alert alert-info d-flex">
            <strong>üåê Data from online sources</strong>
          </alert>
          <pre><code class="language-cpp">int majorityElement(vector&lt;int&gt;&amp; nums) {
    int count = 0;
    int candidate;

    for (int num : nums) {
        if (count == 0) {
            candidate = num;
        }
        count += (num == candidate) ? 1 : -1;
    }

    return candidate;
}
</code></pre>
<p>The algorithm used here is called the Boyer-Moore Majority Vote algorithm. It works by initializing a candidate element and a count. Then, we iterate through the given array. If the count is 0, we set the candidate to the current element in the array. Then we update the count by adding 1 if the current element is equal to the candidate, or subtracting 1 otherwise. At the end of the iteration, the candidate will have the majority element.</p>
<p>The algorithm works because if there is a majority element, it will always appear more than the sum of all other elements, so the count will not be 0 at the end.</p>
        </div>
      </div>
      <style>
        .model-code {
          max-height: 600px;
          overflow-y: auto;
        }

        .font-emoji {
          font-family: emoji;
        }
      </style>
    </div>
  </div>
</div>
<script>
  hljs.addPlugin(new CopyButtonPlugin());
  hljs.highlightAll();
</script>

  </body>
</html>