<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Fine-tuning CodeLlama-7B for Fortran Code Generation</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/5.3.3/zephyr/bootstrap.min.css"
      integrity="sha512-CWXb9sx63+REyEBV/cte+dE1hSsYpJifb57KkqAXjsN3gZQt6phZt7e5RhgZrUbaNfCdtdpcqDZtuTEB+D3q2Q=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/styles/atom-one-dark.min.css" />
    <link
      rel="stylesheet"
      href="https://unpkg.com/highlightjs-copy/dist/highlightjs-copy.min.css" />
    <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/highlight.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/languages/fortran.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/languages/python.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/languages/cpp.min.js"></script>
    <script src="https://unpkg.com/highlightjs-copy/dist/highlightjs-copy.min.js"></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js"
      integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+"
      crossorigin="anonymous"></script>
  </head>
  <body>
    
<div class="container">
  <div class="row">
    <div class="col d-flex justify-content-between align-items-center">
      <h2>Truncate Sentence</h2>
      <div>
        <a href="/fortran-llm/" class="btn btn-outline-primary me-2">
          üè†
        </a>
        <a
          href="/fortran-llm/1812/"
          class="btn btn-outline-secondary me-2">
          ‚¨ÖÔ∏è
        </a>
        <a
          href="/fortran-llm/1822/"
          class="btn btn-outline-secondary">
          ‚û°Ô∏è
        </a>
      </div>
    </div>
  </div>

  <div class="row">
    <div class="col">
      <div class="leetcode-problem-content card">
        <div class="card-body">
          <p>A <strong>sentence</strong> is a list of words that are separated by a single space with no leading or trailing spaces. Each of the words consists of <strong>only</strong> uppercase and lowercase English letters (no punctuation).</p>
<ul>
<li>For example, <code>"Hello World "</code>, <code>"HELLO "</code>, and <code>"hello world hello world "</code> are all sentences.</li>
</ul>
<p>You are given a sentence <code>s</code>‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã and an integer <code>k</code>‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã. You want to <strong>truncate</strong> <code>s</code>‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã such that it contains only the <strong>first</strong> <code>k</code>‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã words. Return <code>s</code>‚Äã‚Äã‚Äã‚Äã<em>‚Äã‚Äã after <strong>truncating</strong> it.</em></p>
<p><strong>Example 1:</strong></p>
<p><strong>Input:</strong> s =  "Hello how are you Contestant ", k = 4
<strong>Output:</strong>  "Hello how are you "
<strong>Explanation:</strong>
The words in s are [ "Hello ",  "how "  "are ",  "you ",  "Contestant "].
The first 4 words are [ "Hello ",  "how ",  "are ",  "you "].
Hence, you should return  "Hello how are you ".</p>
<p><strong>Example 2:</strong></p>
<p><strong>Input:</strong> s =  "What is the solution to this problem ", k = 4
<strong>Output:</strong>  "What is the solution "
<strong>Explanation:</strong>
The words in s are [ "What ",  "is "  "the ",  "solution ",  "to ",  "this ",  "problem "].
The first 4 words are [ "What ",  "is ",  "the ",  "solution "].
Hence, you should return  "What is the solution ".</p>
<p><strong>Example 3:</strong></p>
<p><strong>Input:</strong> s =  "chopper is not a tanuki ", k = 5
<strong>Output:</strong>  "chopper is not a tanuki "</p>
<p><strong>Constraints:</strong></p>
<ul>
<li><code>1 &lt;= s.length &lt;= 500</code></li>
<li><code>k</code> is in the range <code>[1, the number of words in s]</code>.</li>
<li><code>s</code> consist of only lowercase and uppercase English letters and spaces.</li>
<li>The words in <code>s</code> are separated by a single space.</li>
<li>There are no leading or trailing spaces.</li>
</ul>
          <hr />
          <span class="fst-italic">
            Note: This problem is from
            <a
              href="https://leetcode.com/problems/truncate-sentence/description/">LeetCode</a>.
          </span>
        </div>
      </div>
      <style>
        .leetcode-problem-content {
          max-height: 200px;
          overflow-y: auto;
        }
      </style>
    </div>
  </div>
  <div class="row">
    <div class="col-md-6">
      <ul class="nav nav-underline mb-2" id="myTab" role="tablist">
        <li class="nav-item" role="presentation">
          <button
            class="nav-link active"
            id="our-model-tab"
            data-bs-toggle="tab"
            data-bs-target="#our-model-tab-pane"
            type="button"
            role="tab"
            aria-controls="our-model-tab-pane"
            aria-selected="true">
            ü¶æ Our model
          </button>
        </li>
      </ul>
      <div class="tab-content" id="myTabContent">
        <div
          class="tab-pane fade show active"
          id="our-model-tab-pane"
          role="tabpanel"
          aria-labelledby="our-model-tab"
          tabindex="0">
          <div class="row mb-2">
            <div class="col">
              <div
                class="card border-success"
                style="border-width: 2px">
                <div class="card-body">
                  <span class="font-emoji">
                    ‚úÖ
                  </span>
                  <strong>Compiled</strong>
                </div>
              </div>
            </div>

            <div class="col">
              <div
                class="card border-success"
                style="border-width: 2px">
                <div class="card-body">
                  <span class="font_emoji">
                    ‚úÖ
                  </span>
                  <strong>Executed</strong>
                </div>
              </div>
            </div>

            <div class="col">
              <div
                class="card border-danger"
                style="border-width: 2px">
                <div class="card-body">
                  <span class="font-emoji">
                    ‚ùå
                  </span>
                  <strong>Correct</strong>
                </div>
              </div>
            </div>
          </div>
          <pre><code class="language-fortran model-code">program truncate_sentence
    implicit none

    character(len=500) :: s
    integer :: k
    character(len=500) :: result

    ! Examples
    s = "Hello how are you Contestant "
    k = 4
    write(*,*) 'Example 1:'
    call truncate_sentence_sub(s, k, result)
    write(*,'(A)') trim(result)

    s = "What is the solution to this problem "
    k = 4
    write(*,*) 'Example 2:'
    call truncate_sentence_sub(s, k, result)
    write(*,'(A)') trim(result)

    s = "chopper is not a tanuki "
    k = 5
    write(*,*) 'Example 3:'
    call truncate_sentence_sub(s, k, result)
    write(*,'(A)') trim(result)

contains

    subroutine truncate_sentence_sub(s, k, result)
        implicit none
        character(len=*), intent(in) :: s
        integer, intent(in) :: k
        character(len=*), intent(out) :: result

        integer :: i, j
        logical :: found_space

        result = ''
        do i = 1, len_trim(s)
            if (s(i:i) == ' ') then
                found_space = .true.
            else
                if (found_space) then
                    exit
                end if
            end if
        end do

        do j = 1, k-1
            do i = 1, len_trim(s)
                if (s(i:i) == ' ') then
                    exit
                end if
            end do
            result = trim(result) // s(j:i-1) // ' '
        end do

    end subroutine truncate_sentence_sub

end program truncate_sentence</code></pre>

          
          <div class="alert alert-info" role="alert">
            <strong>stdout</strong>
            <pre> Example 1:
Helloellollo
 Example 2:
Whathatat
 Example 3:
chopperhopperopperpper
</pre>
          </div>
           
        </div>
      </div>
    </div>
    <div class="col-md-6">
      <ul class="nav nav-underline mb-2" id="myTab" role="tablist">
        <li class="nav-item" role="presentation">
          <button
            class="nav-link active"
            id="codellama-tab"
            data-bs-toggle="tab"
            data-bs-target="#codellama-tab-pane"
            type="button"
            role="tab"
            aria-controls="codellama-tab-pane"
            aria-selected="true">
            ü¶ô CodeLlama-7B
          </button>
        </li>
        <li class="nav-item" role="presentation">
          <button
            class="nav-link"
            id="python-tab"
            data-bs-toggle="tab"
            data-bs-target="#python-tab-pane"
            type="button"
            role="tab"
            aria-controls="python-tab-pane"
            aria-selected="false">
            üêç Python
          </button>
        </li>
        <li class="nav-item" role="presentation">
          <button
            class="nav-link"
            id="cpp-tab"
            data-bs-toggle="tab"
            data-bs-target="#cpp-tab-pane"
            type="button"
            role="tab"
            aria-controls="cpp-tab-pane"
            aria-selected="false">
            ü§† C++
          </button>
        </li>
      </ul>
      <div class="tab-content" id="myTabContent">
        <div
          class="tab-pane fade show active"
          id="codellama-tab-pane"
          role="tabpanel"
          aria-labelledby="codellama-tab"
          tabindex="0">
          <div class="row mb-2">
            <div class="col">
              <div
                class="card border-success"
                style="border-width: 2px">
                <div class="card-body">
                  <span class="font-emoji">
                    ‚úÖ
                  </span>
                  <strong>Compiled</strong>
                </div>
              </div>
            </div>

            <div class="col">
              <div
                class="card border-danger"
                style="border-width: 2px">
                <div class="card-body">
                  <span class="font-emoji">
                    ‚ùå
                  </span>
                  <strong>Executed</strong>
                </div>
              </div>
            </div>

            <div class="col">
              <div
                class="card border-danger"
                style="border-width: 2px">
                <div class="card-body">
                  <span class="font-emoji">
                    ‚ùå
                  </span>
                  <strong>Correct</strong>
                </div>
              </div>
            </div>
          </div>
          <pre><code class="language-fortran model-code">PROGRAM TRUNCATE_SENTENCE
      IMPLICIT NONE

      INTEGER, PARAMETER :: MAX_LEN = 500
      INTEGER, PARAMETER :: MAX_WORDS = 100

      CHARACTER(LEN=MAX_LEN) :: s
      INTEGER :: k
      INTEGER :: i, j
      CHARACTER(LEN=MAX_LEN) :: result

      READ(*,*) s
      READ(*,*) k

      ! Find the first k words in the sentence
      i = 1
      j = 1
      DO WHILE (i <= k .AND. j <= MAX_LEN)
        IF (s(j:j) == ' ') THEN
          i = i + 1
        END IF
        j = j + 1
      END DO

      ! Copy the first k words to the result string
      result = s(1:j-1)

      ! Print the result
      WRITE(*,*) TRIM(result)

      END PROGRAM TRUNCATE_SENTENCE
</code></pre>
           
          <div class="alert alert-danger" role="alert">
            <strong>stderr</strong>
            <pre>At line 12 of file temp.f95 (unit = 5, file = 'stdin')
Fortran runtime error: End of file

Error termination. Backtrace:
#0  0x7cd27338e960 in ???
#1  0x7cd27338f4d9 in ???
#2  0x7cd2735e317b in ???
#3  0x7cd2735dc684 in ???
#4  0x7cd2735dd2aa in ???
#5  0x5aa3a843625d in MAIN__
#6  0x5aa3a8436493 in main
</pre>
          </div>
          
        </div>
        <div
          class="tab-pane fade"
          id="python-tab-pane"
          role="tabpanel"
          aria-labelledby="python-tab"
          tabindex="0">
          <alert class="alert alert-info d-flex">
            <strong>üåê Data from online sources</strong>
          </alert>
          <pre><code class="language-python">def truncateSentence(s: str, k: int) -&gt; str:
    words = s.split()
    return &quot; &quot;.join(words[:k])
</code></pre>
<p>The algorithm for all languages is the same:
1. First, we split the input string <code>s</code> by space character to get an array/list of words.
2. Then, we slice this array/list so that only the first <code>k</code> words are included.
3. Finally, we join the words back into a single string using space character, which is the final output string.</p>
<p>Using this common algorithm, we wrote functions for the respective programming languages. Note that in C++ and Java, we use a string stream and a string builder respectively for string manipulations as they are more efficient. On the other hand, in Python and JavaScript, slicing and joining strings are much easier to do with the built-in functions.</p>
        </div>
        <div
          class="tab-pane fade"
          id="cpp-tab-pane"
          role="tabpanel"
          aria-labelledby="cpp-tab"
          tabindex="0">
          <alert class="alert alert-info d-flex">
            <strong>üåê Data from online sources</strong>
          </alert>
          <pre><code class="language-cpp">#include &lt;string&gt;
#include &lt;sstream&gt;
using namespace std;

string truncateSentence(string s, int k) {
    istringstream is(s);
    string result, tmp;
    while (k--) {
        is &gt;&gt; tmp;
        result += tmp + &quot; &quot;;
    }
    result.pop_back();
    return result;
}
</code></pre>
<p>The algorithm for all languages is the same:
1. First, we split the input string <code>s</code> by space character to get an array/list of words.
2. Then, we slice this array/list so that only the first <code>k</code> words are included.
3. Finally, we join the words back into a single string using space character, which is the final output string.</p>
<p>Using this common algorithm, we wrote functions for the respective programming languages. Note that in C++ and Java, we use a string stream and a string builder respectively for string manipulations as they are more efficient. On the other hand, in Python and JavaScript, slicing and joining strings are much easier to do with the built-in functions.</p>
        </div>
      </div>
      <style>
        .model-code {
          max-height: 600px;
          overflow-y: auto;
        }

        .font-emoji {
          font-family: emoji;
        }
      </style>
    </div>
  </div>
</div>
<script>
  hljs.addPlugin(new CopyButtonPlugin());
  hljs.highlightAll();
</script>

  </body>
</html>