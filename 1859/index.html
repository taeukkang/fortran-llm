<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Fine-tuning CodeLlama-7B for Fortran Code Generation</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/5.3.3/zephyr/bootstrap.min.css"
      integrity="sha512-CWXb9sx63+REyEBV/cte+dE1hSsYpJifb57KkqAXjsN3gZQt6phZt7e5RhgZrUbaNfCdtdpcqDZtuTEB+D3q2Q=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/styles/atom-one-dark.min.css" />
    <link
      rel="stylesheet"
      href="https://unpkg.com/highlightjs-copy/dist/highlightjs-copy.min.css" />
    <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/highlight.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/languages/fortran.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/languages/python.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/languages/cpp.min.js"></script>
    <script src="https://unpkg.com/highlightjs-copy/dist/highlightjs-copy.min.js"></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js"
      integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+"
      crossorigin="anonymous"></script>
  </head>
  <body>
    
<div class="container">
  <div class="row">
    <div class="col d-flex justify-content-between align-items-center">
      <h2>Sorting the Sentence</h2>
      <div>
        <a href="/" class="btn btn-outline-primary me-2">
          üè†
        </a>
        <a
          href="/1854/"
          class="btn btn-outline-secondary me-2">
          ‚¨ÖÔ∏è
        </a>
        <a
          href="/1863/"
          class="btn btn-outline-secondary">
          ‚û°Ô∏è
        </a>
      </div>
    </div>
  </div>

  <div class="row">
    <div class="col">
      <div class="leetcode-problem-content card">
        <div class="card-body">
          <p>A <strong>sentence</strong> is a list of words that are separated by a single space with no leading or trailing spaces. Each word consists of lowercase and uppercase English letters.</p>
<p>A sentence can be <strong>shuffled</strong> by appending the <strong>1-indexed word position</strong> to each word then rearranging the words in the sentence.</p>
<ul>
<li>For example, the sentence <code>"This is a sentence "</code> can be shuffled as <code>"sentence4 a3 is2 This1 "</code> or <code>"is2 sentence4 This1 a3 "</code>.</li>
</ul>
<p>Given a <strong>shuffled sentence</strong> <code>s</code> containing no more than <code>9</code> words, reconstruct and return <em>the original sentence</em>.</p>
<p><strong>Example 1:</strong></p>
<p><strong>Input:</strong> s =  "is2 sentence4 This1 a3 "
<strong>Output:</strong>  "This is a sentence "
<strong>Explanation:</strong> Sort the words in s to their original positions  "This1 is2 a3 sentence4 ", then remove the numbers.</p>
<p><strong>Example 2:</strong></p>
<p><strong>Input:</strong> s =  "Myself2 Me1 I4 and3 "
<strong>Output:</strong>  "Me Myself and I "
<strong>Explanation:</strong> Sort the words in s to their original positions  "Me1 Myself2 and3 I4 ", then remove the numbers.</p>
<p><strong>Constraints:</strong></p>
<ul>
<li><code>2 &lt;= s.length &lt;= 200</code></li>
<li><code>s</code> consists of lowercase and uppercase English letters, spaces, and digits from <code>1</code> to <code>9</code>.</li>
<li>The number of words in <code>s</code> is between <code>1</code> and <code>9</code>.</li>
<li>The words in <code>s</code> are separated by a single space.</li>
<li><code>s</code> contains no leading or trailing spaces.</li>
</ul>
<p>1. All characters in a are strictly less than those in b (i.e., a[i] &lt; b[i] for all i). 2. All characters in b are strictly less than those in a (i.e., a[i] &gt; b[i] for all i). 3. All characters in a and b are the same (i.e., a[i] = b[i] for all i).</p>
          <hr />
          <span class="fst-italic">
            Note: This problem is from
            <a
              href="https://leetcode.com/problems/sorting-the-sentence/description/">LeetCode</a>.
          </span>
        </div>
      </div>
      <style>
        .leetcode-problem-content {
          max-height: 200px;
          overflow-y: auto;
        }
      </style>
    </div>
  </div>
  <div class="row">
    <div class="col-md-6">
      <ul class="nav nav-underline mb-2" id="myTab" role="tablist">
        <li class="nav-item" role="presentation">
          <button
            class="nav-link active"
            id="our-model-tab"
            data-bs-toggle="tab"
            data-bs-target="#our-model-tab-pane"
            type="button"
            role="tab"
            aria-controls="our-model-tab-pane"
            aria-selected="true">
            ü¶æ Our model
          </button>
        </li>
      </ul>
      <div class="tab-content" id="myTabContent">
        <div
          class="tab-pane fade show active"
          id="our-model-tab-pane"
          role="tabpanel"
          aria-labelledby="our-model-tab"
          tabindex="0">
          <div class="row mb-2">
            <div class="col">
              <div
                class="card border-danger"
                style="border-width: 2px">
                <div class="card-body">
                  <span class="font-emoji">
                    ‚ùå
                  </span>
                  <strong>Compiled</strong>
                </div>
              </div>
            </div>

            <div class="col">
              <div
                class="card border-danger"
                style="border-width: 2px">
                <div class="card-body">
                  <span class="font_emoji">
                    ‚ùå
                  </span>
                  <strong>Executed</strong>
                </div>
              </div>
            </div>

            <div class="col">
              <div
                class="card border-danger"
                style="border-width: 2px">
                <div class="card-body">
                  <span class="font-emoji">
                    ‚ùå
                  </span>
                  <strong>Correct</strong>
                </div>
              </div>
            </div>
          </div>
          <pre><code class="language-fortran model-code">program main
    implicit none

    character(len=:), allocatable :: sentence
    integer :: nwords
    character(len=:), allocatable :: shuffled_sentence
    character(len=:), allocatable :: unshuffled_sentence

    ! Example 1
    sentence = "This is a sentence "
    nwords = size(sentence)
    shuffled_sentence = "sentence4 a3 is2 This1 "
    call solve(sentence, nwords, shuffled_sentence, unshuffled_sentence)
    write (*,*) unshuffled_sentence

    ! Example 2
    sentence = "Myself2 Me1 I4 and3 "
    nwords = size(sentence)
    shuffled_sentence = "Myself2 Me1 I4 and3 "
    call solve(sentence, nwords, shuffled_sentence, unshuffled_sentence)
    write (*,*) unshuffled_sentence

contains

    subroutine solve(sentence, nwords, shuffled_sentence, unshuffled_sentence)
        implicit none
        character(len=*), intent(in) :: sentence
        integer, intent(in) :: nwords
        character(len=*), intent(in) :: shuffled_sentence
        character(len=*), intent(out) :: unshuffled_sentence

        integer :: i, j, k
        character(len=nwords) :: temp

        do i = 1, nwords
            read (shuffled_sentence(i:i+1), '(I1)') j
            k = index(sentence, ' ') + (j - 1) * len(sentence) / nwords
            temp(i:i) = sentence(k:k)
        end do
        unshuffled_sentence = trim(temp)
    end subroutine solve

end program main</code></pre>

           
          <div class="alert alert-danger" role="alert">
            <strong>stderr</strong>
            <pre>temp.f95:11:18:

   11 |     nwords = size(sentence)
      |                  1
Error: ‚Äòarray‚Äô argument of ‚Äòsize‚Äô intrinsic at (1) must be an array
temp.f95:18:18:

   18 |     nwords = size(sentence)
      |                  1
Error: ‚Äòarray‚Äô argument of ‚Äòsize‚Äô intrinsic at (1) must be an array
</pre>
          </div>
          
        </div>
      </div>
    </div>
    <div class="col-md-6">
      <ul class="nav nav-underline mb-2" id="myTab" role="tablist">
        <li class="nav-item" role="presentation">
          <button
            class="nav-link active"
            id="codellama-tab"
            data-bs-toggle="tab"
            data-bs-target="#codellama-tab-pane"
            type="button"
            role="tab"
            aria-controls="codellama-tab-pane"
            aria-selected="true">
            ü¶ô CodeLlama-7B
          </button>
        </li>
        <li class="nav-item" role="presentation">
          <button
            class="nav-link"
            id="python-tab"
            data-bs-toggle="tab"
            data-bs-target="#python-tab-pane"
            type="button"
            role="tab"
            aria-controls="python-tab-pane"
            aria-selected="false">
            üêç Python
          </button>
        </li>
        <li class="nav-item" role="presentation">
          <button
            class="nav-link"
            id="cpp-tab"
            data-bs-toggle="tab"
            data-bs-target="#cpp-tab-pane"
            type="button"
            role="tab"
            aria-controls="cpp-tab-pane"
            aria-selected="false">
            ü§† C++
          </button>
        </li>
      </ul>
      <div class="tab-content" id="myTabContent">
        <div
          class="tab-pane fade show active"
          id="codellama-tab-pane"
          role="tabpanel"
          aria-labelledby="codellama-tab"
          tabindex="0">
          <div class="row mb-2">
            <div class="col">
              <div
                class="card border-success"
                style="border-width: 2px">
                <div class="card-body">
                  <span class="font-emoji">
                    ‚úÖ
                  </span>
                  <strong>Compiled</strong>
                </div>
              </div>
            </div>

            <div class="col">
              <div
                class="card border-danger"
                style="border-width: 2px">
                <div class="card-body">
                  <span class="font-emoji">
                    ‚ùå
                  </span>
                  <strong>Executed</strong>
                </div>
              </div>
            </div>

            <div class="col">
              <div
                class="card border-danger"
                style="border-width: 2px">
                <div class="card-body">
                  <span class="font-emoji">
                    ‚ùå
                  </span>
                  <strong>Correct</strong>
                </div>
              </div>
            </div>
          </div>
          <pre><code class="language-fortran model-code">! Declare variables
integer :: i, j, k, l, m, n, o, p, q, r, s, t, u, v, w, x, y, z
character(len=200) :: sentence
character(len=200) :: shuffled_sentence
character(len=200) :: word

! Read input sentence
read(*,*) shuffled_sentence

! Initialize variables
i = 1
j = 1
k = 1
l = 1
m = 1
n = 1
o = 1
p = 1
q = 1
r = 1
s = 1
t = 1
u = 1
v = 1
w = 1
x = 1
y = 1
z = 1

! Loop through each character in the shuffled sentence
do while (i <= len(shuffled_sentence))
    ! Check if the current character is a digit
    if (shuffled_sentence(i:i) >= '0' .and. shuffled_sentence(i:i) <= '9') then
        ! Get the word position
        word = shuffled_sentence(j:k-1)
        j = k + 1
        k = k + len(word)

        ! Check if the word position is valid
        if (word >= '1' .and. word <= '9') then
            ! Get the word
            word = shuffled_sentence(l:m-1)
            l = m + 1
            m = m + len(word)

            ! Check if the word is valid
            if (word >= 'a' .and. word <= 'z') then
                ! Add the word to the sentence
                sentence(n:n+len(word)-1) = word
                n = n + len(word)
            end if
        end if
    else
        ! Add the current character to the sentence
        sentence(o:o) = shuffled_sentence(i:i)
        o = o + 1
    end if

    ! Increment variables
    i = i + 1
    j = j + 1
    k = k + 1
    l = l + 1
    m = m + 1
    n = n + 1
    o = o + 1
    p = p + 1
    q = q + 1
    r = r + 1
    s = s + 1
    t = t + 1
    u = u + 1
    v = v + 1
    w = w + 1
    x = x + 1
    y = y + 1
    z = z + 1
end do

! Print the reconstructed sentence
print *, sentence

end
</code></pre>
           
          <div class="alert alert-danger" role="alert">
            <strong>stderr</strong>
            <pre>At line 8 of file temp.f95 (unit = 5, file = 'stdin')
Fortran runtime error: End of file

Error termination. Backtrace:
#0  0x782d3a27d960 in ???
#1  0x782d3a27e4d9 in ???
#2  0x782d3a4d217b in ???
#3  0x782d3a4cb684 in ???
#4  0x782d3a4cc2aa in ???
#5  0x5664e02d723d in MAIN__
#6  0x5664e02d7a4a in main
</pre>
          </div>
          
        </div>
        <div
          class="tab-pane fade"
          id="python-tab-pane"
          role="tabpanel"
          aria-labelledby="python-tab"
          tabindex="0">
          <alert class="alert alert-info d-flex">
            <strong>üåê Data from online sources</strong>
          </alert>
          <pre><code class="language-python">def min_operations_to_satisfy_conditions(a: str, b: str) -&gt; int:
    same, less, greater = 0, 0, 0

    for i in range(len(a)):
        if a[i] == b[i]:
            same += 1
        elif a[i] &lt; b[i]:
            less += 1
        else:
            greater += 1

    return min(same + max(less, greater), less, greater)
</code></pre>
<p>The algorithm keeps track of three counts: 'same', 'less', and 'greater'. These counts store the number of characters that are the same, less, and greater in string a compared to string b, respectively. Iterate through the characters in a and b simultaneously, comparing each character and updating the counts accordingly. The minimum number of operations needed to satisfy one of the three conditions is then calculated as the minimum of the sum of 'same' and the maximum of 'less' and 'greater', as well as 'less' and 'greater' individually. This is because you can either change all 'same' characters and one of 'less' or 'greater', or change only one of 'less' or 'greater' while keeping the other characters in the same order.</p>
<p>The time complexity of the algorithm is O(n) where n is the length of input strings a and b, as it iterates through each character pair in the strings once.</p>
        </div>
        <div
          class="tab-pane fade"
          id="cpp-tab-pane"
          role="tabpanel"
          aria-labelledby="cpp-tab"
          tabindex="0">
          <alert class="alert alert-info d-flex">
            <strong>üåê Data from online sources</strong>
          </alert>
          <pre><code class="language-cpp">int minOperationsToSatisfyConditions(std::string a, std::string b) {
    int same = 0, less = 0, greater = 0;

    for (size_t i = 0; i &lt; a.length(); ++i) {
        if (a[i] == b[i]) same++;
        else if (a[i] &lt; b[i]) less++;
        else greater++;
    }

    return std::min({same + std::max(less, greater), less, greater});
}
</code></pre>
<p>The algorithm keeps track of three counts: 'same', 'less', and 'greater'. These counts store the number of characters that are the same, less, and greater in string a compared to string b, respectively. Iterate through the characters in a and b simultaneously, comparing each character and updating the counts accordingly. The minimum number of operations needed to satisfy one of the three conditions is then calculated as the minimum of the sum of 'same' and the maximum of 'less' and 'greater', as well as 'less' and 'greater' individually. This is because you can either change all 'same' characters and one of 'less' or 'greater', or change only one of 'less' or 'greater' while keeping the other characters in the same order.</p>
<p>The time complexity of the algorithm is O(n) where n is the length of input strings a and b, as it iterates through each character pair in the strings once.</p>
        </div>
      </div>
      <style>
        .model-code {
          max-height: 600px;
          overflow-y: auto;
        }

        .font-emoji {
          font-family: emoji;
        }
      </style>
    </div>
  </div>
</div>
<script>
  hljs.addPlugin(new CopyButtonPlugin());
  hljs.highlightAll();
</script>

  </body>
</html>