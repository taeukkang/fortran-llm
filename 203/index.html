<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Fine-tuning CodeLlama-7B for Fortran Code Generation</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/5.3.3/zephyr/bootstrap.min.css"
      integrity="sha512-CWXb9sx63+REyEBV/cte+dE1hSsYpJifb57KkqAXjsN3gZQt6phZt7e5RhgZrUbaNfCdtdpcqDZtuTEB+D3q2Q=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/styles/atom-one-dark.min.css" />
    <link
      rel="stylesheet"
      href="https://unpkg.com/highlightjs-copy/dist/highlightjs-copy.min.css" />
    <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/highlight.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/languages/fortran.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/languages/python.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/languages/cpp.min.js"></script>
    <script src="https://unpkg.com/highlightjs-copy/dist/highlightjs-copy.min.js"></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js"
      integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+"
      crossorigin="anonymous"></script>
  </head>
  <body>
    
<div class="container">
  <div class="row">
    <div class="col d-flex justify-content-between align-items-center">
      <h2>Remove Linked List Elements</h2>
      <div>
        <a href="/fortran-llm/" class="btn btn-outline-primary me-2">
          üè†
        </a>
        <a
          href="/fortran-llm/202/"
          class="btn btn-outline-secondary me-2">
          ‚¨ÖÔ∏è
        </a>
        <a
          href="/fortran-llm/205/"
          class="btn btn-outline-secondary">
          ‚û°Ô∏è
        </a>
      </div>
    </div>
  </div>

  <div class="row">
    <div class="col">
      <div class="leetcode-problem-content card">
        <div class="card-body">
          <p>Given the <code>head</code> of a linked list and an integer <code>val</code>, remove all the nodes of the linked list that has <code>Node.val == val</code>, and return <em>the new head</em>.</p>
<p><strong>Example 1:</strong></p>
<p><strong>Input:</strong> head = [1,2,6,3,4,5,6], val = 6
<strong>Output:</strong> [1,2,3,4,5]</p>
<p><strong>Example 2:</strong></p>
<p><strong>Input:</strong> head = [], val = 1
<strong>Output:</strong> []</p>
<p><strong>Example 3:</strong></p>
<p><strong>Input:</strong> head = [7,7,7,7], val = 7
<strong>Output:</strong> []</p>
<p><strong>Constraints:</strong></p>
<ul>
<li>The number of nodes in the list is in the range <code>[0, 104]</code>.</li>
<li><code>1 &lt;= Node.val &lt;= 50</code></li>
<li><code>0 &lt;= val &lt;= 50</code></li>
</ul>
          <hr />
          <span class="fst-italic">
            Note: This problem is from
            <a
              href="https://leetcode.com/problems/remove-linked-list-elements/description/">LeetCode</a>.
          </span>
        </div>
      </div>
      <style>
        .leetcode-problem-content {
          max-height: 200px;
          overflow-y: auto;
        }
      </style>
    </div>
  </div>
  <div class="row">
    <div class="col-md-6">
      <ul class="nav nav-underline mb-2" id="myTab" role="tablist">
        <li class="nav-item" role="presentation">
          <button
            class="nav-link active"
            id="our-model-tab"
            data-bs-toggle="tab"
            data-bs-target="#our-model-tab-pane"
            type="button"
            role="tab"
            aria-controls="our-model-tab-pane"
            aria-selected="true">
            ü¶æ Our model
          </button>
        </li>
      </ul>
      <div class="tab-content" id="myTabContent">
        <div
          class="tab-pane fade show active"
          id="our-model-tab-pane"
          role="tabpanel"
          aria-labelledby="our-model-tab"
          tabindex="0">
          <div class="row mb-2">
            <div class="col">
              <div
                class="card border-danger"
                style="border-width: 2px">
                <div class="card-body">
                  <span class="font-emoji">
                    ‚ùå
                  </span>
                  <strong>Compiled</strong>
                </div>
              </div>
            </div>

            <div class="col">
              <div
                class="card border-danger"
                style="border-width: 2px">
                <div class="card-body">
                  <span class="font_emoji">
                    ‚ùå
                  </span>
                  <strong>Executed</strong>
                </div>
              </div>
            </div>

            <div class="col">
              <div
                class="card border-danger"
                style="border-width: 2px">
                <div class="card-body">
                  <span class="font-emoji">
                    ‚ùå
                  </span>
                  <strong>Correct</strong>
                </div>
              </div>
            </div>
          </div>
          <pre><code class="language-fortran model-code">program main
    use :: linked_list_mod
    implicit none

    type(linked_list) :: head
    integer :: val

    ! Example 1
    call head%push(1)
    call head%push(2)
    call head%push(6)
    call head%push(3)
    call head%push(4)
    call head%push(5)
    call head%push(6)
    val = 6
    print '(A)', 'Example 1:'
    print '(A)', 'Input: head = [' // head%to_string() // '], val = ', val
    print '(A)', 'Output: head = [' // remove_nodes(head, val)%to_string() // ']'

    ! Example 2
    call head%clear()
    val = 1
    print '(A)', 'Example 2:'
    print '(A)', 'Input: head = [' // head%to_string() // '], val = ', val
    print '(A)', 'Output: head = [' // remove_nodes(head, val)%to_string() // ']'

    ! Example 3
    call head%clear()
    call head%push(7)
    call head%push(7)
    call head%push(7)
    call head%push(7)
    val = 7
    print '(A)', 'Example 3:'
    print '(A)', 'Input: head = [' // head%to_string() // '], val = ', val
    print '(A)', 'Output: head = [' // remove_nodes(head, val)%to_string() // ']'

contains

    function remove_nodes(head, val) result(new_head)
        type(linked_list), intent(inout) :: head
        integer, value :: val
        type(linked_list) :: new_head

        type(linked_list), pointer :: current => null(), next => null()

        if (associated(head)) then
            current => head
            do while (associated(current))
                next => current%next
                if (current%val == val) then
                    deallocate(current)
                else
                    allocate(new_head)
                    new_head%val = current%val
                    new_head%next => next
                    current => next
                end if
            end do
        end if
    end function remove_nodes

end program main</code></pre>

           
          <div class="alert alert-danger" role="alert">
            <strong>stderr</strong>
            <pre>temp.f95:2:11:

    2 |     use :: linked_list_mod
      |           1
Fatal Error: Cannot open module file ‚Äòlinked_list_mod.mod‚Äô for reading at (1): No such file or directory
compilation terminated.
</pre>
          </div>
          
        </div>
      </div>
    </div>
    <div class="col-md-6">
      <ul class="nav nav-underline mb-2" id="myTab" role="tablist">
        <li class="nav-item" role="presentation">
          <button
            class="nav-link active"
            id="codellama-tab"
            data-bs-toggle="tab"
            data-bs-target="#codellama-tab-pane"
            type="button"
            role="tab"
            aria-controls="codellama-tab-pane"
            aria-selected="true">
            ü¶ô CodeLlama-7B
          </button>
        </li>
        <li class="nav-item" role="presentation">
          <button
            class="nav-link"
            id="python-tab"
            data-bs-toggle="tab"
            data-bs-target="#python-tab-pane"
            type="button"
            role="tab"
            aria-controls="python-tab-pane"
            aria-selected="false">
            üêç Python
          </button>
        </li>
        <li class="nav-item" role="presentation">
          <button
            class="nav-link"
            id="cpp-tab"
            data-bs-toggle="tab"
            data-bs-target="#cpp-tab-pane"
            type="button"
            role="tab"
            aria-controls="cpp-tab-pane"
            aria-selected="false">
            ü§† C++
          </button>
        </li>
      </ul>
      <div class="tab-content" id="myTabContent">
        <div
          class="tab-pane fade show active"
          id="codellama-tab-pane"
          role="tabpanel"
          aria-labelledby="codellama-tab"
          tabindex="0">
          <div class="row mb-2">
            <div class="col">
              <div
                class="card border-danger"
                style="border-width: 2px">
                <div class="card-body">
                  <span class="font-emoji">
                    ‚ùå
                  </span>
                  <strong>Compiled</strong>
                </div>
              </div>
            </div>

            <div class="col">
              <div
                class="card border-danger"
                style="border-width: 2px">
                <div class="card-body">
                  <span class="font-emoji">
                    ‚ùå
                  </span>
                  <strong>Executed</strong>
                </div>
              </div>
            </div>

            <div class="col">
              <div
                class="card border-danger"
                style="border-width: 2px">
                <div class="card-body">
                  <span class="font-emoji">
                    ‚ùå
                  </span>
                  <strong>Correct</strong>
                </div>
              </div>
            </div>
          </div>
          <pre><code class="language-fortran model-code">module linked_list_remove
implicit none
private
public :: linked_list_remove

type linked_list
    integer :: val
    type(linked_list), pointer :: next => null()
end type linked_list

interface linked_list_remove
    module procedure remove_linked_list
end interface

contains

function remove_linked_list(head, val) result(new_head)
    type(linked_list), target, intent(in) :: head
    integer, intent(in) :: val
    type(linked_list), pointer :: current, new_head

    current => head
    new_head => head

    do while (associated(current))
        if (current%val == val) then
            if (associated(current%next)) then
                new_head => current%next
            end if
        else
            new_head%next => current
            new_head => new_head%next
        end if
        current => current%next
    end do

    nullify(new_head%next)
end function remove_linked_list
end module linked_list_remove

program test_linked_list_remove
use linked_list_remove
implicit none

type(linked_list) :: head
type(linked_list), pointer :: current
integer :: val

! Example 1
head%val = 1
head%next => null()
current => head
do while (associated(current))
    if (current%val == 2) then
        current%next => null()
        exit
    end if
    current => current%next
end do
call remove_linked_list(head, 6)
write (*,*) 'Example 1:', head%val

! Example 2
head%val = 1
head%next => null()
call remove_linked_list(head, 1)
write (*,*) 'Example 2:', head%val

! Example 3
head%val = 7
head%next => null()
call remove_linked_list(head, 7)
write (*,*) 'Example 3:', head%val

end program test_linked_list_remove
</code></pre>
           
          <div class="alert alert-danger" role="alert">
            <strong>stderr</strong>
            <pre>temp.f95:4:28:

    4 | public :: linked_list_remove
      |                            1
Error: PUBLIC attribute applied to MODULE linked_list_remove at (1)
temp.f95:11:28:

   11 | interface linked_list_remove
      |                            1
Error: MODULE attribute of ‚Äòlinked_list_remove‚Äô conflicts with PROCEDURE attribute at (1)
temp.f95:12:21:

   12 |     module procedure remove_linked_list
      |                     1
Error: MODULE PROCEDURE at (1) must be in a generic module interface
temp.f95:13:3:

   13 | end interface
      |   1
Error: Expecting END MODULE statement at (1)
temp.f95:42:5:

   42 | use linked_list_remove
      |     1
Fatal Error: Cannot open module file ‚Äòlinked_list_remove.mod‚Äô for reading at (1): No such file or directory
compilation terminated.
</pre>
          </div>
          
        </div>
        <div
          class="tab-pane fade"
          id="python-tab-pane"
          role="tabpanel"
          aria-labelledby="python-tab"
          tabindex="0">
          <alert class="alert alert-info d-flex">
            <strong>üåê Data from online sources</strong>
          </alert>
          <pre><code class="language-python">class ListNode:
    def __init__(self, val=0, next=None):
        self.val = val
        self.next = next

def remove_elements(head, val):
    sentinel = ListNode(0)
    sentinel.next = head
    prev, curr = sentinel, head

    while curr:
        if curr.val == val:
            prev.next = curr.next
        else:
            prev = curr
        curr = curr.next

    return sentinel.next
</code></pre>
<p>The algorithm for removing elements with a specific value from a linked list involves iterating through the list and maintaining two pointers <code>prev</code> and <code>curr</code>. The <code>prev</code> pointer will point to the previous node in the list, whereas the <code>curr</code> pointer will point to the current node that is being processed.</p>
<ul>
<li>First, create a sentinel node to handle edge cases for the head node.</li>
<li>Assign the <code>next</code> attribute of the sentinel node to the given head node.</li>
<li>Set the <code>prev</code> pointer to the sentinel node and the <code>curr</code> pointer to the head node.</li>
<li>Loop through the linked list:</li>
<li>If the value of the current node matches the given value, remove it by updating the <code>next</code> attribute of the previous node.</li>
<li>Otherwise, move the <code>prev</code> pointer to the current node.</li>
<li>Move the <code>curr</code> pointer to the next node.</li>
<li>After the loop, the new head of the linked list is found in the sentinel node's <code>next</code> attribute.</li>
</ul>
<p>Note that in C++, due to manual memory management, we have to delete the nodes to avoid memory leaks.</p>
        </div>
        <div
          class="tab-pane fade"
          id="cpp-tab-pane"
          role="tabpanel"
          aria-labelledby="cpp-tab"
          tabindex="0">
          <alert class="alert alert-info d-flex">
            <strong>üåê Data from online sources</strong>
          </alert>
          <pre><code class="language-cpp">class ListNode {
public:
    int val;
    ListNode* next;
    ListNode(int x) : val(x), next(NULL) {}
};

ListNode* removeElements(ListNode* head, int val) {
    ListNode** current = &amp;head;

    while (*current != NULL) {
        if ((*current)-&gt;val == val) {
            ListNode* next = (*current)-&gt;next;
            delete *current;
            *current = next;
        } else {
            current = &amp;(*current)-&gt;next;
        }
    }

    return head;
}
</code></pre>
<p>The algorithm for removing elements with a specific value from a linked list involves iterating through the list and maintaining two pointers <code>prev</code> and <code>curr</code>. The <code>prev</code> pointer will point to the previous node in the list, whereas the <code>curr</code> pointer will point to the current node that is being processed.</p>
<ul>
<li>First, create a sentinel node to handle edge cases for the head node.</li>
<li>Assign the <code>next</code> attribute of the sentinel node to the given head node.</li>
<li>Set the <code>prev</code> pointer to the sentinel node and the <code>curr</code> pointer to the head node.</li>
<li>Loop through the linked list:</li>
<li>If the value of the current node matches the given value, remove it by updating the <code>next</code> attribute of the previous node.</li>
<li>Otherwise, move the <code>prev</code> pointer to the current node.</li>
<li>Move the <code>curr</code> pointer to the next node.</li>
<li>After the loop, the new head of the linked list is found in the sentinel node's <code>next</code> attribute.</li>
</ul>
<p>Note that in C++, due to manual memory management, we have to delete the nodes to avoid memory leaks.</p>
        </div>
      </div>
      <style>
        .model-code {
          max-height: 600px;
          overflow-y: auto;
        }

        .font-emoji {
          font-family: emoji;
        }
      </style>
    </div>
  </div>
</div>
<script>
  hljs.addPlugin(new CopyButtonPlugin());
  hljs.highlightAll();
</script>

  </body>
</html>