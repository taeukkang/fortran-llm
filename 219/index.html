<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Fine-tuning CodeLlama-7B for Fortran Code Generation</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/5.3.3/zephyr/bootstrap.min.css"
      integrity="sha512-CWXb9sx63+REyEBV/cte+dE1hSsYpJifb57KkqAXjsN3gZQt6phZt7e5RhgZrUbaNfCdtdpcqDZtuTEB+D3q2Q=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/styles/atom-one-dark.min.css" />
    <link
      rel="stylesheet"
      href="https://unpkg.com/highlightjs-copy/dist/highlightjs-copy.min.css" />
    <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/highlight.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/languages/fortran.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/languages/python.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/languages/cpp.min.js"></script>
    <script src="https://unpkg.com/highlightjs-copy/dist/highlightjs-copy.min.js"></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js"
      integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+"
      crossorigin="anonymous"></script>
  </head>
  <body>
    
<div class="container">
  <div class="row">
    <div class="col d-flex justify-content-between align-items-center">
      <h2>Contains Duplicate II</h2>
      <div>
        <a href="/" class="btn btn-outline-primary me-2">
          🏠
        </a>
        <a
          href="/217/"
          class="btn btn-outline-secondary me-2">
          ⬅️
        </a>
        <a
          href="/225/"
          class="btn btn-outline-secondary">
          ➡️
        </a>
      </div>
    </div>
  </div>

  <div class="row">
    <div class="col">
      <div class="leetcode-problem-content card">
        <div class="card-body">
          <p>Given an integer array <code>nums</code> and an integer <code>k</code>, return <code>true</code> <em>if there are two <strong>distinct indices</strong></em> <code>i</code> <em>and</em> <code>j</code> <em>in the array such that</em> <code>nums[i] == nums[j]</code> <em>and</em> <code>abs(i - j) &lt;= k</code>.</p>
<p><strong>Example 1:</strong></p>
<p><strong>Input:</strong> nums = [1,2,3,1], k = 3
<strong>Output:</strong> true</p>
<p><strong>Example 2:</strong></p>
<p><strong>Input:</strong> nums = [1,0,1,1], k = 1
<strong>Output:</strong> true</p>
<p><strong>Example 3:</strong></p>
<p><strong>Input:</strong> nums = [1,2,3,1,2,3], k = 2
<strong>Output:</strong> false</p>
<p><strong>Constraints:</strong></p>
<ul>
<li><code>1 &lt;= nums.length &lt;= 105</code></li>
<li><code>-109 &lt;= nums[i] &lt;= 109</code></li>
<li><code>0 &lt;= k &lt;= 105</code></li>
</ul>
          <hr />
          <span class="fst-italic">
            Note: This problem is from
            <a
              href="https://leetcode.com/problems/contains-duplicate-ii/description/">LeetCode</a>.
          </span>
        </div>
      </div>
      <style>
        .leetcode-problem-content {
          max-height: 200px;
          overflow-y: auto;
        }
      </style>
    </div>
  </div>
  <div class="row">
    <div class="col-md-6">
      <ul class="nav nav-underline mb-2" id="myTab" role="tablist">
        <li class="nav-item" role="presentation">
          <button
            class="nav-link active"
            id="our-model-tab"
            data-bs-toggle="tab"
            data-bs-target="#our-model-tab-pane"
            type="button"
            role="tab"
            aria-controls="our-model-tab-pane"
            aria-selected="true">
            🦾 Our model
          </button>
        </li>
      </ul>
      <div class="tab-content" id="myTabContent">
        <div
          class="tab-pane fade show active"
          id="our-model-tab-pane"
          role="tabpanel"
          aria-labelledby="our-model-tab"
          tabindex="0">
          <div class="row mb-2">
            <div class="col">
              <div
                class="card border-danger"
                style="border-width: 2px">
                <div class="card-body">
                  <span class="font-emoji">
                    ❌
                  </span>
                  <strong>Compiled</strong>
                </div>
              </div>
            </div>

            <div class="col">
              <div
                class="card border-danger"
                style="border-width: 2px">
                <div class="card-body">
                  <span class="font_emoji">
                    ❌
                  </span>
                  <strong>Executed</strong>
                </div>
              </div>
            </div>

            <div class="col">
              <div
                class="card border-danger"
                style="border-width: 2px">
                <div class="card-body">
                  <span class="font-emoji">
                    ❌
                  </span>
                  <strong>Correct</strong>
                </div>
              </div>
            </div>
          </div>
          <pre><code class="language-fortran model-code">program main
    implicit none

    integer, parameter :: n = 4
    integer, dimension(n) :: nums
    integer :: k
    logical :: result

    ! Example 1
    nums = [1, 2, 3, 1]
    k = 3
    result = contains_duplicate(nums, k)
    print '(L1)', result

    ! Example 2
    nums = [1, 0, 1, 1]
    k = 1
    result = contains_duplicate(nums, k)
    print '(L1)', result

    ! Example 3
    nums = [1, 2, 3, 1, 2, 3]
    k = 2
    result = contains_duplicate(nums, k)
    print '(L1)', result

contains

    function contains_duplicate(nums, k) result(res)
        implicit none
        integer, dimension(:), intent(in) :: nums
        integer, intent(in) :: k
        logical :: res
        integer :: i, j

        res = .false.
        do i = 1, size(nums) - 1
            do j = i + 1, size(nums)
                if (nums(i) == nums(j)) then
                    if (abs(i - j) <= k) then
                        res = .true.
                        exit
                    end if
                end if
            end do
        end do
    end function contains_duplicate
end program main</code></pre>

           
          <div class="alert alert-danger" role="alert">
            <strong>stderr</strong>
            <pre>temp.f95:22:4:

   22 |     nums = [1, 2, 3, 1, 2, 3]
      |    1
Error: Different shape for array assignment at (1) on dimension 1 (4 and 6)
</pre>
          </div>
          
        </div>
      </div>
    </div>
    <div class="col-md-6">
      <ul class="nav nav-underline mb-2" id="myTab" role="tablist">
        <li class="nav-item" role="presentation">
          <button
            class="nav-link active"
            id="codellama-tab"
            data-bs-toggle="tab"
            data-bs-target="#codellama-tab-pane"
            type="button"
            role="tab"
            aria-controls="codellama-tab-pane"
            aria-selected="true">
            🦙 CodeLlama-7B
          </button>
        </li>
        <li class="nav-item" role="presentation">
          <button
            class="nav-link"
            id="python-tab"
            data-bs-toggle="tab"
            data-bs-target="#python-tab-pane"
            type="button"
            role="tab"
            aria-controls="python-tab-pane"
            aria-selected="false">
            🐍 Python
          </button>
        </li>
        <li class="nav-item" role="presentation">
          <button
            class="nav-link"
            id="cpp-tab"
            data-bs-toggle="tab"
            data-bs-target="#cpp-tab-pane"
            type="button"
            role="tab"
            aria-controls="cpp-tab-pane"
            aria-selected="false">
            🤠 C++
          </button>
        </li>
      </ul>
      <div class="tab-content" id="myTabContent">
        <div
          class="tab-pane fade show active"
          id="codellama-tab-pane"
          role="tabpanel"
          aria-labelledby="codellama-tab"
          tabindex="0">
          <div class="row mb-2">
            <div class="col">
              <div
                class="card border-danger"
                style="border-width: 2px">
                <div class="card-body">
                  <span class="font-emoji">
                    ❌
                  </span>
                  <strong>Compiled</strong>
                </div>
              </div>
            </div>

            <div class="col">
              <div
                class="card border-danger"
                style="border-width: 2px">
                <div class="card-body">
                  <span class="font-emoji">
                    ❌
                  </span>
                  <strong>Executed</strong>
                </div>
              </div>
            </div>

            <div class="col">
              <div
                class="card border-danger"
                style="border-width: 2px">
                <div class="card-body">
                  <span class="font-emoji">
                    ❌
                  </span>
                  <strong>Correct</strong>
                </div>
              </div>
            </div>
          </div>
          <pre><code class="language-fortran model-code">module has_duplicate_value_within_k
    implicit none
    private
    public :: has_duplicate_value_within_k

contains

    logical function has_duplicate_value_within_k(nums, k) result(has_duplicate)
        integer, intent(in) :: nums(:)
        integer, intent(in) :: k
        integer :: i, j

        has_duplicate = .false.

        do i = 1, size(nums) - 1
            do j = i + 1, size(nums)
                if (nums(i) == nums(j) .and. abs(i - j) <= k) then
                    has_duplicate = .true.
                    exit
                end if
            end do
            if (has_duplicate) exit
        end do
    end function has_duplicate_value_within_k
end module has_duplicate_value_within_k

program test_has_duplicate_value_within_k
    use has_duplicate_value_within_k
    implicit none
    integer, parameter :: nums1(4) = [1, 2, 3, 1]
    integer, parameter :: nums2(5) = [1, 0, 1, 1, 2]
    integer, parameter :: nums3(6) = [1, 2, 3, 1, 2, 3]
    integer, parameter :: k1 = 3
    integer, parameter :: k2 = 1
    integer, parameter :: k3 = 2

    write (*, '(A)') 'Test 1:'
    if (has_duplicate_value_within_k(nums1, k1)) then
        write (*, '(A)') 'Passed!'
    else
        write (*, '(A)') 'Failed!'
    end if

    write (*, '(A)') 'Test 2:'
    if (has_duplicate_value_within_k(nums2, k2)) then
        write (*, '(A)') 'Passed!'
    else
        write (*, '(A)') 'Failed!'
    end if

    write (*, '(A)') 'Test 3:'
    if (.not. has_duplicate_value_within_k(nums3, k3)) then
        write (*, '(A)') 'Passed!'
    else
        write (*, '(A)') 'Failed!'
    end if
end program test_has_duplicate_value_within_k
</code></pre>
           
          <div class="alert alert-danger" role="alert">
            <strong>stderr</strong>
            <pre>temp.f95:4:42:

    4 |     public :: has_duplicate_value_within_k
      |                                          1
Error: PUBLIC attribute applied to MODULE has_duplicate_value_within_k at (1)
temp.f95:8:49:

    8 |     logical function has_duplicate_value_within_k(nums, k) result(has_duplicate)
      |                                                 1
Error: MODULE attribute of ‘has_duplicate_value_within_k’ conflicts with PROCEDURE attribute at (1)
temp.f95:9:38:

    9 |         integer, intent(in) :: nums(:)
      |                                      1
Error: Unexpected data declaration statement in CONTAINS section at (1)
temp.f95:10:32:

   10 |         integer, intent(in) :: k
      |                                1
Error: Unexpected data declaration statement in CONTAINS section at (1)
temp.f95:11:23:

   11 |         integer :: i, j
      |                       1
Error: Unexpected data declaration statement in CONTAINS section at (1)
temp.f95:13:31:

   13 |         has_duplicate = .false.
      |                               1
Error: Unexpected assignment statement in CONTAINS section at (1)
temp.f95:15:32:

   15 |         do i = 1, size(nums) - 1
      |                                1
Error: Unexpected DO statement in CONTAINS section at (1)
temp.f95:16:36:

   16 |             do j = i + 1, size(nums)
      |                                    1
Error: Unexpected DO statement in CONTAINS section at (1)
temp.f95:17:66:

   17 |                 if (nums(i) == nums(j) .and. abs(i - j) <= k) then
      |                                                                  1
Error: Unexpected block IF statement in CONTAINS section at (1)
temp.f95:18:42:

   18 |                     has_duplicate = .true.
      |                                          1
Error: Unexpected assignment statement in CONTAINS section at (1)
temp.f95:19:24:

   19 |                     exit
      |                        1
Error: EXIT statement at (1) is not within a construct
temp.f95:20:19:

   20 |                 end if
      |                   1
Error: Expecting END MODULE statement at (1)
temp.f95:21:15:

   21 |             end do
      |               1
Error: Expecting END MODULE statement at (1)
temp.f95:22:35:

   22 |             if (has_duplicate) exit
      |                                   1
Error: EXIT statement at (1) is not within a construct
temp.f95:23:11:

   23 |         end do
      |           1
Error: Expecting END MODULE statement at (1)
temp.f95:24:7:

   24 |     end function has_duplicate_value_within_k
      |       1
Error: Expecting END MODULE statement at (1)
temp.f95:28:9:

   28 |     use has_duplicate_value_within_k
      |         1
Fatal Error: Cannot open module file ‘has_duplicate_value_within_k.mod’ for reading at (1): No such file or directory
compilation terminated.
</pre>
          </div>
          
        </div>
        <div
          class="tab-pane fade"
          id="python-tab-pane"
          role="tabpanel"
          aria-labelledby="python-tab"
          tabindex="0">
          <alert class="alert alert-info d-flex">
            <strong>🌐 Data from online sources</strong>
          </alert>
          <pre><code class="language-python">def containsNearbyDuplicate(nums, k):
    value_index_map = {}
    for i, num in enumerate(nums):
        if num in value_index_map and i - value_index_map[num] &lt;= k:
            return True
        value_index_map[num] = i
    return False
</code></pre>
<p>The algorithm utilizes a Hashtable, in which we store the integer value present in the array as the key and its latest index position as the value. For each element in the array, we first check if the current number is already in the Hashtable. If it is, we also check if the difference between the current index and the latest index stored in the Hashtable is less than or equal to k. If both conditions are met, we return <code>true</code> because there are two repeating integers having an index difference less than or equal to k. Otherwise, we add the number along with its latest index to the Hashtable and continue with the next element. If the loop finishes without finding such a pair, we return <code>false</code>.</p>
<p>Note: The algorithm's time complexity is O(n), where n is the length of the input array, and the space complexity is O(min(n, k)).</p>
        </div>
        <div
          class="tab-pane fade"
          id="cpp-tab-pane"
          role="tabpanel"
          aria-labelledby="cpp-tab"
          tabindex="0">
          <alert class="alert alert-info d-flex">
            <strong>🌐 Data from online sources</strong>
          </alert>
          <pre><code class="language-cpp">bool containsNearbyDuplicate(vector&lt;int&gt;&amp; nums, int k) {
    unordered_map&lt;int, int&gt; valueIndexMap;
    for (int i = 0; i &lt; nums.size(); i++) {
        if (valueIndexMap.find(nums[i]) != valueIndexMap.end() &amp;&amp; i - valueIndexMap[nums[i]] &lt;= k) {
            return true;
        }
        valueIndexMap[nums[i]] = i;
    }
    return false;
}
</code></pre>
<p>The algorithm utilizes a Hashtable, in which we store the integer value present in the array as the key and its latest index position as the value. For each element in the array, we first check if the current number is already in the Hashtable. If it is, we also check if the difference between the current index and the latest index stored in the Hashtable is less than or equal to k. If both conditions are met, we return <code>true</code> because there are two repeating integers having an index difference less than or equal to k. Otherwise, we add the number along with its latest index to the Hashtable and continue with the next element. If the loop finishes without finding such a pair, we return <code>false</code>.</p>
<p>Note: The algorithm's time complexity is O(n), where n is the length of the input array, and the space complexity is O(min(n, k)).</p>
        </div>
      </div>
      <style>
        .model-code {
          max-height: 600px;
          overflow-y: auto;
        }

        .font-emoji {
          font-family: emoji;
        }
      </style>
    </div>
  </div>
</div>
<script>
  hljs.addPlugin(new CopyButtonPlugin());
  hljs.highlightAll();
</script>

  </body>
</html>