<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Fine-tuning CodeLlama-7B for Fortran Code Generation</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/5.3.3/zephyr/bootstrap.min.css"
      integrity="sha512-CWXb9sx63+REyEBV/cte+dE1hSsYpJifb57KkqAXjsN3gZQt6phZt7e5RhgZrUbaNfCdtdpcqDZtuTEB+D3q2Q=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/styles/atom-one-dark.min.css" />
    <link
      rel="stylesheet"
      href="https://unpkg.com/highlightjs-copy/dist/highlightjs-copy.min.css" />
    <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/highlight.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/languages/fortran.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/languages/python.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/languages/cpp.min.js"></script>
    <script src="https://unpkg.com/highlightjs-copy/dist/highlightjs-copy.min.js"></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js"
      integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+"
      crossorigin="anonymous"></script>
  </head>
  <body>
    
<div class="container">
  <div class="row">
    <div class="col d-flex justify-content-between align-items-center">
      <h2>Minimum Recolors to Get K Consecutive Black Blocks</h2>
      <div>
        <a href="/" class="btn btn-outline-primary me-2">
          üè†
        </a>
        <a
          href="/2373/"
          class="btn btn-outline-secondary me-2">
          ‚¨ÖÔ∏è
        </a>
        <a
          href="/2383/"
          class="btn btn-outline-secondary">
          ‚û°Ô∏è
        </a>
      </div>
    </div>
  </div>

  <div class="row">
    <div class="col">
      <div class="leetcode-problem-content card">
        <div class="card-body">
          <p>You are given a <strong>0-indexed</strong> string <code>blocks</code> of length <code>n</code>, where <code>blocks[i]</code> is either <code>'W'</code> or <code>'B'</code>, representing the color of the <code>ith</code> block. The characters <code>'W'</code> and <code>'B'</code> denote the colors white and black, respectively.</p>
<p>You are also given an integer <code>k</code>, which is the desired number of <strong>consecutive</strong> black blocks.</p>
<p>In one operation, you can <strong>recolor</strong> a white block such that it becomes a black block.</p>
<p>Return <em>the <strong>minimum</strong> number of operations needed such that there is at least <strong>one</strong> occurrence of</em> <code>k</code> <em>consecutive black blocks.</em></p>
<p><strong>Example 1:</strong></p>
<p><strong>Input:</strong> blocks =  "WBBWWBBWBW ", k = 7
<strong>Output:</strong> 3
<strong>Explanation:</strong>
One way to achieve 7 consecutive black blocks is to recolor the 0th, 3rd, and 4th blocks
so that blocks =  "BBBBBBBWBW ". 
It can be shown that there is no way to achieve 7 consecutive black blocks in less than 3 operations.
Therefore, we return 3.</p>
<p><strong>Example 2:</strong></p>
<p><strong>Input:</strong> blocks =  "WBWBBBW ", k = 2
<strong>Output:</strong> 0
<strong>Explanation:</strong>
No changes need to be made, since 2 consecutive black blocks already exist.
Therefore, we return 0.</p>
<p><strong>Constraints:</strong></p>
<ul>
<li><code>n == blocks.length</code></li>
<li><code>1 &lt;= n &lt;= 100</code></li>
<li><code>blocks[i]</code> is either <code>'W'</code> or <code>'B'</code>.</li>
<li><code>1 &lt;= k &lt;= n</code></li>
</ul>
          <hr />
          <span class="fst-italic">
            Note: This problem is from
            <a
              href="https://leetcode.com/problems/minimum-recolors-to-get-k-consecutive-black-blocks/description/">LeetCode</a>.
          </span>
        </div>
      </div>
      <style>
        .leetcode-problem-content {
          max-height: 200px;
          overflow-y: auto;
        }
      </style>
    </div>
  </div>
  <div class="row">
    <div class="col-md-6">
      <ul class="nav nav-underline mb-2" id="myTab" role="tablist">
        <li class="nav-item" role="presentation">
          <button
            class="nav-link active"
            id="our-model-tab"
            data-bs-toggle="tab"
            data-bs-target="#our-model-tab-pane"
            type="button"
            role="tab"
            aria-controls="our-model-tab-pane"
            aria-selected="true">
            ü¶æ Our model
          </button>
        </li>
      </ul>
      <div class="tab-content" id="myTabContent">
        <div
          class="tab-pane fade show active"
          id="our-model-tab-pane"
          role="tabpanel"
          aria-labelledby="our-model-tab"
          tabindex="0">
          <div class="row mb-2">
            <div class="col">
              <div
                class="card border-success"
                style="border-width: 2px">
                <div class="card-body">
                  <span class="font-emoji">
                    ‚úÖ
                  </span>
                  <strong>Compiled</strong>
                </div>
              </div>
            </div>

            <div class="col">
              <div
                class="card border-danger"
                style="border-width: 2px">
                <div class="card-body">
                  <span class="font_emoji">
                    ‚ùå
                  </span>
                  <strong>Executed</strong>
                </div>
              </div>
            </div>

            <div class="col">
              <div
                class="card border-danger"
                style="border-width: 2px">
                <div class="card-body">
                  <span class="font-emoji">
                    ‚ùå
                  </span>
                  <strong>Correct</strong>
                </div>
              </div>
            </div>
          </div>
          <pre><code class="language-fortran model-code">program main
    implicit none

    character(len=100) :: blocks
    integer :: n, k, i, j, count, min_ops

    ! read input
    read(*,*) blocks
    read(*,*) n
    read(*,*) k

    ! initialize variables
    count = 0
    min_ops = 1000000000

    ! loop through blocks
    do i = 1, n
        if (blocks(i:i) == 'W') then
            count = 0
        else
            count = count + 1
        end if

        ! check for k consecutive black blocks
        if (count >= k) then
            min_ops = min(min_ops, i - k + 1)
        end if
    end do

    ! print output
    write (*,*) min_ops

end program main</code></pre>

           
          <div class="alert alert-danger" role="alert">
            <strong>stderr</strong>
            <pre>At line 8 of file temp.f95 (unit = 5, file = 'stdin')
Fortran runtime error: End of file

Error termination. Backtrace:
#0  0x7fc234057960 in ???
#1  0x7fc2340584d9 in ???
#2  0x7fc2342ac17b in ???
#3  0x7fc2342a5684 in ???
#4  0x7fc2342a62aa in ???
#5  0x582f6ba27219 in MAIN__
#6  0x582f6ba273f8 in main
</pre>
          </div>
          
        </div>
      </div>
    </div>
    <div class="col-md-6">
      <ul class="nav nav-underline mb-2" id="myTab" role="tablist">
        <li class="nav-item" role="presentation">
          <button
            class="nav-link active"
            id="codellama-tab"
            data-bs-toggle="tab"
            data-bs-target="#codellama-tab-pane"
            type="button"
            role="tab"
            aria-controls="codellama-tab-pane"
            aria-selected="true">
            ü¶ô CodeLlama-7B
          </button>
        </li>
        <li class="nav-item" role="presentation">
          <button
            class="nav-link"
            id="python-tab"
            data-bs-toggle="tab"
            data-bs-target="#python-tab-pane"
            type="button"
            role="tab"
            aria-controls="python-tab-pane"
            aria-selected="false">
            üêç Python
          </button>
        </li>
        <li class="nav-item" role="presentation">
          <button
            class="nav-link"
            id="cpp-tab"
            data-bs-toggle="tab"
            data-bs-target="#cpp-tab-pane"
            type="button"
            role="tab"
            aria-controls="cpp-tab-pane"
            aria-selected="false">
            ü§† C++
          </button>
        </li>
      </ul>
      <div class="tab-content" id="myTabContent">
        <div
          class="tab-pane fade show active"
          id="codellama-tab-pane"
          role="tabpanel"
          aria-labelledby="codellama-tab"
          tabindex="0">
          <div class="row mb-2">
            <div class="col">
              <div
                class="card border-danger"
                style="border-width: 2px">
                <div class="card-body">
                  <span class="font-emoji">
                    ‚ùå
                  </span>
                  <strong>Compiled</strong>
                </div>
              </div>
            </div>

            <div class="col">
              <div
                class="card border-danger"
                style="border-width: 2px">
                <div class="card-body">
                  <span class="font-emoji">
                    ‚ùå
                  </span>
                  <strong>Executed</strong>
                </div>
              </div>
            </div>

            <div class="col">
              <div
                class="card border-danger"
                style="border-width: 2px">
                <div class="card-body">
                  <span class="font-emoji">
                    ‚ùå
                  </span>
                  <strong>Correct</strong>
                </div>
              </div>
            </div>
          </div>
          <pre><code class="language-fortran model-code">module main

implicit none

integer :: n, k, i, j, count, min_operations
character(len=1) :: blocks(100)

! Read input
read(*,*) n
read(*,*) blocks
read(*,*) k

! Initialize variables
min_operations = 0
count = 0

! Iterate through the blocks
do i = 1, n
    if (blocks(i) == 'B') then
        count = count + 1
    else
        count = 0
    end if
    
    ! Check if we have reached k consecutive black blocks
    if (count == k) then
        min_operations = min_operations + 1
        count = 0
    end if
end do

! Print output
write(*,*) min_operations

end module
</code></pre>
           
          <div class="alert alert-danger" role="alert">
            <strong>stderr</strong>
            <pre>temp.f95:9:11:

    9 | read(*,*) n
      |           1
Error: Unexpected READ statement in MODULE at (1)
temp.f95:10:16:

   10 | read(*,*) blocks
      |                1
Error: Unexpected READ statement in MODULE at (1)
temp.f95:11:11:

   11 | read(*,*) k
      |           1
Error: Unexpected READ statement in MODULE at (1)
temp.f95:14:18:

   14 | min_operations = 0
      |                  1
Error: Unexpected assignment statement in MODULE at (1)
temp.f95:15:9:

   15 | count = 0
      |         1
Error: Unexpected assignment statement in MODULE at (1)
temp.f95:18:11:

   18 | do i = 1, n
      |           1
Error: Unexpected DO statement in MODULE at (1)
temp.f95:19:30:

   19 |     if (blocks(i) == 'B') then
      |                              1
Error: Unexpected block IF statement in MODULE at (1)
temp.f95:20:25:

   20 |         count = count + 1
      |                         1
Error: Unexpected assignment statement in MODULE at (1)
temp.f95:21:8:

   21 |     else
      |        1
Error: Unexpected ELSE statement in MODULE at (1)
temp.f95:22:17:

   22 |         count = 0
      |                 1
Error: Unexpected assignment statement in MODULE at (1)
temp.f95:23:7:

   23 |     end if
      |       1
Error: Expecting END MODULE statement at (1)
temp.f95:26:24:

   26 |     if (count == k) then
      |                        1
Error: Unexpected block IF statement in MODULE at (1)
temp.f95:27:43:

   27 |         min_operations = min_operations + 1
      |                                           1
Error: Unexpected assignment statement in MODULE at (1)
temp.f95:28:17:

   28 |         count = 0
      |                 1
Error: Unexpected assignment statement in MODULE at (1)
temp.f95:29:7:

   29 |     end if
      |       1
Error: Expecting END MODULE statement at (1)
temp.f95:30:3:

   30 | end do
      |   1
Error: Expecting END MODULE statement at (1)
temp.f95:33:25:

   33 | write(*,*) min_operations
      |                         1
Error: Unexpected WRITE statement in MODULE at (1)
</pre>
          </div>
          
        </div>
        <div
          class="tab-pane fade"
          id="python-tab-pane"
          role="tabpanel"
          aria-labelledby="python-tab"
          tabindex="0">
          <alert class="alert alert-info d-flex">
            <strong>üåê Data from online sources</strong>
          </alert>
          <pre><code class="language-python">def min_operations(blocks, k):
    n = len(blocks)
    res = k
    w = b = 0
    i = j = 0

    while j &lt; n:
        if blocks[j] == 'W':
            w += 1
        while b &gt; k or (b == k and blocks[i] == 'B'):
            if blocks[i] == 'W':
                w -= 1
                i += 1
            else:
                b -= 1
                i += 1
        if b == k:
            res = min(res, w)
        else:
            b += 1
        j += 1

    return res
</code></pre>
<p>The algorithm keeps a sliding window over the blocks string. It simultaneously counts the number of black blocks, <code>b</code>, and white blocks, <code>w</code>, in the sliding window. </p>
<p>Initially, both the left and right pointers of the sliding window, <code>i</code> and <code>j</code>, are set to 0. We iterate over the string using the right pointer, <code>j</code>. When the black count <code>b</code> equals <code>k</code>, we minimize the answer by taking the minimum of the current result and the white count <code>w</code>.</p>
<p>If the black count <code>b</code> is greater than <code>k</code>, or equal to <code>k</code> but the left pointer <code>i</code> points to a black block, we need to adjust the left pointer to keep only <code>k</code> black blocks in the sliding window. To do this, we increment the left pointer and decrement the corresponding color count.</p>
<p>Finally, we return the minimum operation count we found.</p>
<p>Notice that the algorithm executes in linear time. This is because each block is visited exactly twice (once by the right pointer and once by the left pointer), and the color counts are updated during the traversal. This leads to an overall time complexity of O(n) for the algorithm.</p>
        </div>
        <div
          class="tab-pane fade"
          id="cpp-tab-pane"
          role="tabpanel"
          aria-labelledby="cpp-tab"
          tabindex="0">
          <alert class="alert alert-info d-flex">
            <strong>üåê Data from online sources</strong>
          </alert>
          <pre><code class="language-cpp">int minOperations(string blocks, int k) {
    int n = blocks.length(), res = k, w = 0, b = 0;
    for (int i = 0, j = 0; j &lt; n; ++j) {
        if (blocks[j] == 'W') w++;
        while (b &gt; k || (b == k &amp;&amp; blocks[i] == 'B')) {
            if (blocks[i++] == 'W') w--;
            else b--;
        }
        if (b == k) res = min(res, w);
        else b++;
    }
    return res;
}
</code></pre>
<p>The algorithm keeps a sliding window over the blocks string. It simultaneously counts the number of black blocks, <code>b</code>, and white blocks, <code>w</code>, in the sliding window. </p>
<p>Initially, both the left and right pointers of the sliding window, <code>i</code> and <code>j</code>, are set to 0. We iterate over the string using the right pointer, <code>j</code>. When the black count <code>b</code> equals <code>k</code>, we minimize the answer by taking the minimum of the current result and the white count <code>w</code>.</p>
<p>If the black count <code>b</code> is greater than <code>k</code>, or equal to <code>k</code> but the left pointer <code>i</code> points to a black block, we need to adjust the left pointer to keep only <code>k</code> black blocks in the sliding window. To do this, we increment the left pointer and decrement the corresponding color count.</p>
<p>Finally, we return the minimum operation count we found.</p>
<p>Notice that the algorithm executes in linear time. This is because each block is visited exactly twice (once by the right pointer and once by the left pointer), and the color counts are updated during the traversal. This leads to an overall time complexity of O(n) for the algorithm.</p>
        </div>
      </div>
      <style>
        .model-code {
          max-height: 600px;
          overflow-y: auto;
        }

        .font-emoji {
          font-family: emoji;
        }
      </style>
    </div>
  </div>
</div>
<script>
  hljs.addPlugin(new CopyButtonPlugin());
  hljs.highlightAll();
</script>

  </body>
</html>