<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Fine-tuning CodeLlama-7B for Fortran Code Generation</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/5.3.3/zephyr/bootstrap.min.css"
      integrity="sha512-CWXb9sx63+REyEBV/cte+dE1hSsYpJifb57KkqAXjsN3gZQt6phZt7e5RhgZrUbaNfCdtdpcqDZtuTEB+D3q2Q=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/styles/atom-one-dark.min.css" />
    <link
      rel="stylesheet"
      href="https://unpkg.com/highlightjs-copy/dist/highlightjs-copy.min.css" />
    <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/highlight.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/languages/fortran.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/languages/python.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/languages/cpp.min.js"></script>
    <script src="https://unpkg.com/highlightjs-copy/dist/highlightjs-copy.min.js"></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js"
      integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+"
      crossorigin="anonymous"></script>
  </head>
  <body>
    
<div class="container">
  <div class="row">
    <div class="col d-flex justify-content-between align-items-center">
      <h2>Circular Sentence</h2>
      <div>
        <a href="/" class="btn btn-outline-primary me-2">
          üè†
        </a>
        <a
          href="/2485/"
          class="btn btn-outline-secondary me-2">
          ‚¨ÖÔ∏è
        </a>
        <a
          href="/2496/"
          class="btn btn-outline-secondary">
          ‚û°Ô∏è
        </a>
      </div>
    </div>
  </div>

  <div class="row">
    <div class="col">
      <div class="leetcode-problem-content card">
        <div class="card-body">
          <p>A <strong>sentence</strong> is a list of words that are separated by a <strong>single</strong> space with no leading or trailing spaces.</p>
<ul>
<li>For example, <code>"Hello World "</code>, <code>"HELLO "</code>, <code>"hello world hello world "</code> are all sentences.</li>
</ul>
<p>Words consist of <strong>only</strong> uppercase and lowercase English letters. Uppercase and lowercase English letters are considered different.</p>
<p>A sentence is <strong>circular</strong> if:</p>
<ul>
<li>The last character of a word is equal to the first character of the next word.</li>
<li>The last character of the last word is equal to the first character of the first word.</li>
</ul>
<p>For example, <code>"leetcode exercises sound delightful "</code>, <code>"eetcode "</code>, <code>"leetcode eats soul "</code> are all circular sentences. However, <code>"Leetcode is cool "</code>, <code>"happy Leetcode "</code>, <code>"Leetcode "</code> and <code>"I like Leetcode "</code> are <strong>not</strong> circular sentences.</p>
<p>Given a string <code>sentence</code>, return <code>true</code> <em>if it is circular</em>. Otherwise, return <code>false</code>.</p>
<p><strong>Example 1:</strong></p>
<p><strong>Input:</strong> sentence =  "leetcode exercises sound delightful "
<strong>Output:</strong> true
<strong>Explanation:</strong> The words in sentence are [ "leetcode ",  "exercises ",  "sound ",  "delightful "].
- leetcode's last character is equal to exercises's first character.
- exercises's last character is equal to sound's first character.
- sound's last character is equal to delightful's first character.
- delightful's last character is equal to leetcode's first character.
The sentence is circular.</p>
<p><strong>Example 2:</strong></p>
<p><strong>Input:</strong> sentence =  "eetcode "
<strong>Output:</strong> true
<strong>Explanation:</strong> The words in sentence are [ "eetcode "].
- eetcode's last character is equal to eetcode's first character.
The sentence is circular.</p>
<p><strong>Example 3:</strong></p>
<p><strong>Input:</strong> sentence =  "Leetcode is cool "
<strong>Output:</strong> false
<strong>Explanation:</strong> The words in sentence are [ "Leetcode ",  "is ",  "cool "].
- Leetcode's last character is <strong>not</strong> equal to is's first character.
The sentence is <strong>not</strong> circular.</p>
<p><strong>Constraints:</strong></p>
<ul>
<li><code>1 &lt;= sentence.length &lt;= 500</code></li>
<li><code>sentence</code> consist of only lowercase and uppercase English letters and spaces.</li>
<li>The words in <code>sentence</code> are separated by a single space.</li>
<li>There are no leading or trailing spaces.</li>
</ul>
          <hr />
          <span class="fst-italic">
            Note: This problem is from
            <a
              href="https://leetcode.com/problems/circular-sentence/description/">LeetCode</a>.
          </span>
        </div>
      </div>
      <style>
        .leetcode-problem-content {
          max-height: 200px;
          overflow-y: auto;
        }
      </style>
    </div>
  </div>
  <div class="row">
    <div class="col-md-6">
      <ul class="nav nav-underline mb-2" id="myTab" role="tablist">
        <li class="nav-item" role="presentation">
          <button
            class="nav-link active"
            id="our-model-tab"
            data-bs-toggle="tab"
            data-bs-target="#our-model-tab-pane"
            type="button"
            role="tab"
            aria-controls="our-model-tab-pane"
            aria-selected="true">
            ü¶æ Our model
          </button>
        </li>
      </ul>
      <div class="tab-content" id="myTabContent">
        <div
          class="tab-pane fade show active"
          id="our-model-tab-pane"
          role="tabpanel"
          aria-labelledby="our-model-tab"
          tabindex="0">
          <div class="row mb-2">
            <div class="col">
              <div
                class="card border-danger"
                style="border-width: 2px">
                <div class="card-body">
                  <span class="font-emoji">
                    ‚ùå
                  </span>
                  <strong>Compiled</strong>
                </div>
              </div>
            </div>

            <div class="col">
              <div
                class="card border-danger"
                style="border-width: 2px">
                <div class="card-body">
                  <span class="font_emoji">
                    ‚ùå
                  </span>
                  <strong>Executed</strong>
                </div>
              </div>
            </div>

            <div class="col">
              <div
                class="card border-danger"
                style="border-width: 2px">
                <div class="card-body">
                  <span class="font-emoji">
                    ‚ùå
                  </span>
                  <strong>Correct</strong>
                </div>
              </div>
            </div>
          </div>
          <pre><code class="language-fortran model-code">program main
    implicit none

    integer :: i
    character(len=500) :: sentence

    do i = 1, size(examples)
        sentence = examples(i)
        write(*,*) 'Sentence: ', trim(sentence), ' Circular: ', is_circular(sentence)
    end do

contains

    function is_circular(sentence) result(circular)
        implicit none
        character(len=*), intent(in) :: sentence
        logical :: circular
        integer :: nwords, iword
        character(len=:), allocatable :: words(:)

        ! Split the sentence into individual words
        call split_string(sentence, words)
        nwords = size(words)

        ! Check if the last character of each word is equal to the first character of the next word
        do iword = 1, nwords - 1
            if (words(iword)(len_trim(words(iword))) /= words(iword+1)(1)) then
                circular = .false.
                return
            end if
        end do

        ! Check if the last character of the last word is equal to the first character of the first word
        if (words(nwords)(len_trim(words(nwords))) /= words(1)(1)) then
            circular = .false.
            return
        end if

        circular = .true.

    end function is_circular

    subroutine split_string(str, words)
        implicit none
        character(len=*), intent(in) :: str
        character(len=:), allocatable, intent(out) :: words(:)
        integer :: pos, nwords

        nwords = count(str == ' ') + 1
        allocate(words(nwords))

        pos = 1
        words(1) = ''
        do while (pos < len(str))
            if (str(pos:pos) == ' ') then
                pos = pos + 1
                cycle
            end if
            words(1) = trim(words(1)) // str(pos:pos)
            pos = pos + 1
        end do

    end subroutine split_string

end program main

character(len=500), parameter :: examples(3) = ["Hello World ", &
                                                 "HELLO ", &
                                                 "hello world hello world "]</code></pre>

           
          <div class="alert alert-danger" role="alert">
            <strong>stderr</strong>
            <pre>temp.f95:27:29:

   27 |             if (words(iword)(len_trim(words(iword))) /= words(iword+1)(1)) then
      |                             1
Error: Syntax error in IF-expression at (1)
temp.f95:30:15:

   30 |             end if
      |               1
Error: Expecting END DO statement at (1)
temp.f95:34:26:

   34 |         if (words(nwords)(len_trim(words(nwords))) /= words(1)(1)) then
      |                          1
Error: Syntax error in IF-expression at (1)
temp.f95:37:11:

   37 |         end if
      |           1
Error: Expecting END FUNCTION statement at (1)
temp.f95:50:17:

   50 |         allocate(words(nwords))
      |                 1
Error: Allocate-object at (1) with a deferred type parameter requires either a type-spec or SOURCE tag or a MOLD tag
temp.f95:67:63:

   67 | character(len=500), parameter :: examples(3) = ["Hello World ", &
      |                                                               1
Error: Different CHARACTER lengths (12/6) in array constructor at (1)
temp.f95:49:23:

   49 |         nwords = count(str == ' ') + 1
      |                       1
Error: ‚Äòmask‚Äô argument of ‚Äòcount‚Äô intrinsic at (1) must be a logical array
temp.f95:8:19:

    8 |         sentence = examples(i)
      |                   1
Error: Function ‚Äòexamples‚Äô at (1) has no IMPLICIT type
temp.f95:7:27:

    7 |     do i = 1, size(examples)
      |                           1
Error: Symbol ‚Äòexamples‚Äô at (1) has no IMPLICIT type
</pre>
          </div>
          
        </div>
      </div>
    </div>
    <div class="col-md-6">
      <ul class="nav nav-underline mb-2" id="myTab" role="tablist">
        <li class="nav-item" role="presentation">
          <button
            class="nav-link active"
            id="codellama-tab"
            data-bs-toggle="tab"
            data-bs-target="#codellama-tab-pane"
            type="button"
            role="tab"
            aria-controls="codellama-tab-pane"
            aria-selected="true">
            ü¶ô CodeLlama-7B
          </button>
        </li>
        <li class="nav-item" role="presentation">
          <button
            class="nav-link"
            id="python-tab"
            data-bs-toggle="tab"
            data-bs-target="#python-tab-pane"
            type="button"
            role="tab"
            aria-controls="python-tab-pane"
            aria-selected="false">
            üêç Python
          </button>
        </li>
        <li class="nav-item" role="presentation">
          <button
            class="nav-link"
            id="cpp-tab"
            data-bs-toggle="tab"
            data-bs-target="#cpp-tab-pane"
            type="button"
            role="tab"
            aria-controls="cpp-tab-pane"
            aria-selected="false">
            ü§† C++
          </button>
        </li>
      </ul>
      <div class="tab-content" id="myTabContent">
        <div
          class="tab-pane fade show active"
          id="codellama-tab-pane"
          role="tabpanel"
          aria-labelledby="codellama-tab"
          tabindex="0">
          <div class="row mb-2">
            <div class="col">
              <div
                class="card border-success"
                style="border-width: 2px">
                <div class="card-body">
                  <span class="font-emoji">
                    ‚úÖ
                  </span>
                  <strong>Compiled</strong>
                </div>
              </div>
            </div>

            <div class="col">
              <div
                class="card border-danger"
                style="border-width: 2px">
                <div class="card-body">
                  <span class="font-emoji">
                    ‚ùå
                  </span>
                  <strong>Executed</strong>
                </div>
              </div>
            </div>

            <div class="col">
              <div
                class="card border-danger"
                style="border-width: 2px">
                <div class="card-body">
                  <span class="font-emoji">
                    ‚ùå
                  </span>
                  <strong>Correct</strong>
                </div>
              </div>
            </div>
          </div>
          <pre><code class="language-fortran model-code">program circular_sentence
      implicit none

      character(len=500) :: sentence
      logical :: is_circular

      read(*,*) sentence

      is_circular = check_circularity(sentence)

      if (is_circular) then
        print *, "The sentence is circular."
      else
        print *, "The sentence is not circular."
      end if

      contains

      function check_circularity(sentence) result(is_circular)
      implicit none

      character(len=*), intent(in) :: sentence
      logical :: is_circular
      integer :: i, j

      is_circular = .false.

      do i = 1, len_trim(sentence) - 1
        j = i + 1
        if (sentence(i:i) == sentence(j:j)) then
          is_circular = .true.
          exit
        end if
      end do

      if (is_circular) then
        if (sentence(i:i) == sentence(1:1)) then
          is_circular = .true.
        end if
      end if

      end function check_circularity
      end program circular_sentence
</code></pre>
           
          <div class="alert alert-danger" role="alert">
            <strong>stderr</strong>
            <pre>At line 7 of file temp.f95 (unit = 5, file = 'stdin')
Fortran runtime error: End of file

Error termination. Backtrace:
#0  0x7f7fc945a960 in ???
#1  0x7f7fc945b4d9 in ???
#2  0x7f7fc96af17b in ???
#3  0x7f7fc96a8684 in ???
#4  0x7f7fc96a92aa in ???
#5  0x5bd649cce2e2 in MAIN__
#6  0x5bd649cce426 in main
</pre>
          </div>
          
        </div>
        <div
          class="tab-pane fade"
          id="python-tab-pane"
          role="tabpanel"
          aria-labelledby="python-tab"
          tabindex="0">
          <alert class="alert alert-info d-flex">
            <strong>üåê Data from online sources</strong>
          </alert>
          <pre><code class="language-python">def is_circular(sentence: str) -&gt; bool:
    words = sentence.split()
    for i in range(1, len(words)):
        if words[i - 1][-1] != words[i][0]:
            return False
    return words[-1][-1] == words[0][0]
</code></pre>
<p>The algorithm is straightforward:
1. We split the input <code>sentence</code> into individual strings in an array by using the space character as a delimiter.
2. We iterate through the words in the array, checking if the last character of the previous word is equal to the first character of the current word. If not, return <code>false</code>.
3. After the iteration, we check if the last character of the last word in the array is equal to the first character of the first word. If so, we return <code>true</code>; otherwise, return <code>false</code>.</p>
        </div>
        <div
          class="tab-pane fade"
          id="cpp-tab-pane"
          role="tabpanel"
          aria-labelledby="cpp-tab"
          tabindex="0">
          <alert class="alert alert-info d-flex">
            <strong>üåê Data from online sources</strong>
          </alert>
          <pre><code class="language-cpp">bool isCircular(std::string sentence) {
    std::stringstream ss(sentence);
    std::string word, prev;

    while (ss &gt;&gt; word) {
        if (!prev.empty() &amp;&amp; prev.back() != word.front()) {
            return false;
        }
        prev = word;
    }

    return word.back() == sentence.front();
}
</code></pre>
<p>The algorithm is straightforward:
1. We split the input <code>sentence</code> into individual strings in an array by using the space character as a delimiter.
2. We iterate through the words in the array, checking if the last character of the previous word is equal to the first character of the current word. If not, return <code>false</code>.
3. After the iteration, we check if the last character of the last word in the array is equal to the first character of the first word. If so, we return <code>true</code>; otherwise, return <code>false</code>.</p>
        </div>
      </div>
      <style>
        .model-code {
          max-height: 600px;
          overflow-y: auto;
        }

        .font-emoji {
          font-family: emoji;
        }
      </style>
    </div>
  </div>
</div>
<script>
  hljs.addPlugin(new CopyButtonPlugin());
  hljs.highlightAll();
</script>

  </body>
</html>