<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Fine-tuning CodeLlama-7B for Fortran Code Generation</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/5.3.3/zephyr/bootstrap.min.css"
      integrity="sha512-CWXb9sx63+REyEBV/cte+dE1hSsYpJifb57KkqAXjsN3gZQt6phZt7e5RhgZrUbaNfCdtdpcqDZtuTEB+D3q2Q=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/styles/atom-one-dark.min.css" />
    <link
      rel="stylesheet"
      href="https://unpkg.com/highlightjs-copy/dist/highlightjs-copy.min.css" />
    <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/highlight.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/languages/fortran.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/languages/python.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/languages/cpp.min.js"></script>
    <script src="https://unpkg.com/highlightjs-copy/dist/highlightjs-copy.min.js"></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js"
      integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+"
      crossorigin="anonymous"></script>
  </head>
  <body>
    
<div class="container">
  <div class="row">
    <div class="col d-flex justify-content-between align-items-center">
      <h2>Maximum Count of Positive Integer and Negative Integer</h2>
      <div>
        <a href="/" class="btn btn-outline-primary me-2">
          üè†
        </a>
        <a
          href="/2525/"
          class="btn btn-outline-secondary me-2">
          ‚¨ÖÔ∏è
        </a>
        <a
          href="/2535/"
          class="btn btn-outline-secondary">
          ‚û°Ô∏è
        </a>
      </div>
    </div>
  </div>

  <div class="row">
    <div class="col">
      <div class="leetcode-problem-content card">
        <div class="card-body">
          <p>Given an array <code>nums</code> sorted in <strong>non-decreasing</strong> order, return <em>the maximum between the number of positive integers and the number of negative integers.</em></p>
<ul>
<li>In other words, if the number of positive integers in <code>nums</code> is <code>pos</code> and the number of negative integers is <code>neg</code>, then return the maximum of <code>pos</code> and <code>neg</code>.</li>
</ul>
<p><strong>Note</strong> that <code>0</code> is neither positive nor negative.</p>
<p><strong>Example 1:</strong></p>
<p><strong>Input:</strong> nums = [-2,-1,-1,1,2,3]
<strong>Output:</strong> 3
<strong>Explanation:</strong> There are 3 positive integers and 3 negative integers. The maximum count among them is 3.</p>
<p><strong>Example 2:</strong></p>
<p><strong>Input:</strong> nums = [-3,-2,-1,0,0,1,2]
<strong>Output:</strong> 3
<strong>Explanation:</strong> There are 2 positive integers and 3 negative integers. The maximum count among them is 3.</p>
<p><strong>Example 3:</strong></p>
<p><strong>Input:</strong> nums = [5,20,66,1314]
<strong>Output:</strong> 4
<strong>Explanation:</strong> There are 4 positive integers and 0 negative integers. The maximum count among them is 4.</p>
<p><strong>Constraints:</strong></p>
<ul>
<li><code>1 &lt;= nums.length &lt;= 2000</code></li>
<li><code>-2000 &lt;= nums[i] &lt;= 2000</code></li>
<li><code>nums</code> is sorted in a <strong>non-decreasing order</strong>.</li>
</ul>
<p><strong>Follow up:</strong> Can you solve the problem in <code>O(log(n))</code> time complexity?</p>
          <hr />
          <span class="fst-italic">
            Note: This problem is from
            <a
              href="https://leetcode.com/problems/maximum-count-of-positive-integer-and-negative-integer/description/">LeetCode</a>.
          </span>
        </div>
      </div>
      <style>
        .leetcode-problem-content {
          max-height: 200px;
          overflow-y: auto;
        }
      </style>
    </div>
  </div>
  <div class="row">
    <div class="col-md-6">
      <ul class="nav nav-underline mb-2" id="myTab" role="tablist">
        <li class="nav-item" role="presentation">
          <button
            class="nav-link active"
            id="our-model-tab"
            data-bs-toggle="tab"
            data-bs-target="#our-model-tab-pane"
            type="button"
            role="tab"
            aria-controls="our-model-tab-pane"
            aria-selected="true">
            ü¶æ Our model
          </button>
        </li>
      </ul>
      <div class="tab-content" id="myTabContent">
        <div
          class="tab-pane fade show active"
          id="our-model-tab-pane"
          role="tabpanel"
          aria-labelledby="our-model-tab"
          tabindex="0">
          <div class="row mb-2">
            <div class="col">
              <div
                class="card border-danger"
                style="border-width: 2px">
                <div class="card-body">
                  <span class="font-emoji">
                    ‚ùå
                  </span>
                  <strong>Compiled</strong>
                </div>
              </div>
            </div>

            <div class="col">
              <div
                class="card border-danger"
                style="border-width: 2px">
                <div class="card-body">
                  <span class="font_emoji">
                    ‚ùå
                  </span>
                  <strong>Executed</strong>
                </div>
              </div>
            </div>

            <div class="col">
              <div
                class="card border-danger"
                style="border-width: 2px">
                <div class="card-body">
                  <span class="font-emoji">
                    ‚ùå
                  </span>
                  <strong>Correct</strong>
                </div>
              </div>
            </div>
          </div>
          <pre><code class="language-fortran model-code">program max_positive_negative
    implicit none

    integer :: i, j, k, n
    integer, parameter :: nums(4) = [-2, -1, -1, 1, 2, 3]
    integer, parameter :: nums2(6) = [-3, -2, -1, 0, 0, 1, 2]
    integer, parameter :: nums3(4) = [5, 20, 66, 1314]
    integer :: pos, neg

    write(*,*) "Example 1:"
    call get_max_pos_neg(nums, pos, neg)
    write(*,*) "Positive: ", pos, "Negative: ", neg, "Max: ", max(pos, neg)

    write(*,*) "Example 2:"
    call get_max_pos_neg(nums2, pos, neg)
    write(*,*) "Positive: ", pos, "Negative: ", neg, "Max: ", max(pos, neg)

    write(*,*) "Example 3:"
    call get_max_pos_neg(nums3, pos, neg)
    write(*,*) "Positive: ", pos, "Negative: ", neg, "Max: ", max(pos, neg)

contains

    subroutine get_max_pos_neg(nums, pos, neg)
        implicit none
        integer, intent(in) :: nums(:)
        integer, intent(out) :: pos, neg
        integer :: i

        pos = 0
        neg = 0

        do i = 1, size(nums)
            if (nums(i) > 0) then
                pos = pos + 1
            else if (nums(i) < 0) then
                neg = neg + 1
            end if
        end do

        write(*,*) "Positive: ", pos, "Negative: ", neg, "Max: ", max(pos, neg)

    end subroutine get_max_pos_neg

end program max_positive_negative</code></pre>

           
          <div class="alert alert-danger" role="alert">
            <strong>stderr</strong>
            <pre>temp.f95:5:33:

    5 |     integer, parameter :: nums(4) = [-2, -1, -1, 1, 2, 3]
      |                                 1
Error: Different shape for array assignment at (1) on dimension 1 (4 and 6)
temp.f95:6:34:

    6 |     integer, parameter :: nums2(6) = [-3, -2, -1, 0, 0, 1, 2]
      |                                  1
Error: Different shape for array assignment at (1) on dimension 1 (6 and 7)
temp.f95:11:29:

   11 |     call get_max_pos_neg(nums, pos, neg)
      |                             1
Error: Symbol ‚Äònums‚Äô at (1) has no IMPLICIT type; did you mean ‚Äònums3‚Äô?
temp.f95:15:30:

   15 |     call get_max_pos_neg(nums2, pos, neg)
      |                              1
Error: Symbol ‚Äònums2‚Äô at (1) has no IMPLICIT type; did you mean ‚Äònums3‚Äô?
</pre>
          </div>
          
        </div>
      </div>
    </div>
    <div class="col-md-6">
      <ul class="nav nav-underline mb-2" id="myTab" role="tablist">
        <li class="nav-item" role="presentation">
          <button
            class="nav-link active"
            id="codellama-tab"
            data-bs-toggle="tab"
            data-bs-target="#codellama-tab-pane"
            type="button"
            role="tab"
            aria-controls="codellama-tab-pane"
            aria-selected="true">
            ü¶ô CodeLlama-7B
          </button>
        </li>
        <li class="nav-item" role="presentation">
          <button
            class="nav-link"
            id="python-tab"
            data-bs-toggle="tab"
            data-bs-target="#python-tab-pane"
            type="button"
            role="tab"
            aria-controls="python-tab-pane"
            aria-selected="false">
            üêç Python
          </button>
        </li>
        <li class="nav-item" role="presentation">
          <button
            class="nav-link"
            id="cpp-tab"
            data-bs-toggle="tab"
            data-bs-target="#cpp-tab-pane"
            type="button"
            role="tab"
            aria-controls="cpp-tab-pane"
            aria-selected="false">
            ü§† C++
          </button>
        </li>
      </ul>
      <div class="tab-content" id="myTabContent">
        <div
          class="tab-pane fade show active"
          id="codellama-tab-pane"
          role="tabpanel"
          aria-labelledby="codellama-tab"
          tabindex="0">
          <div class="row mb-2">
            <div class="col">
              <div
                class="card border-success"
                style="border-width: 2px">
                <div class="card-body">
                  <span class="font-emoji">
                    ‚úÖ
                  </span>
                  <strong>Compiled</strong>
                </div>
              </div>
            </div>

            <div class="col">
              <div
                class="card border-danger"
                style="border-width: 2px">
                <div class="card-body">
                  <span class="font-emoji">
                    ‚ùå
                  </span>
                  <strong>Executed</strong>
                </div>
              </div>
            </div>

            <div class="col">
              <div
                class="card border-danger"
                style="border-width: 2px">
                <div class="card-body">
                  <span class="font-emoji">
                    ‚ùå
                  </span>
                  <strong>Correct</strong>
                </div>
              </div>
            </div>
          </div>
          <pre><code class="language-fortran model-code">! Declare variables
integer :: i, j, pos, neg, max_count
integer, dimension(2000) :: nums

! Read input
read *, nums

! Initialize variables
pos = 0
neg = 0
max_count = 0

! Count positive and negative integers
do i = 1, size(nums)
    if (nums(i) > 0) then
        pos = pos + 1
    else if (nums(i) < 0) then
        neg = neg + 1
    end if
end do

! Find maximum count
max_count = max(pos, neg)

! Output result
write (*,*) max_count

end
</code></pre>
           
          <div class="alert alert-danger" role="alert">
            <strong>stderr</strong>
            <pre>At line 6 of file temp.f95 (unit = 5, file = 'stdin')
Fortran runtime error: End of file

Error termination. Backtrace:
#0  0x79637407b960 in ???
#1  0x79637407c4d9 in ???
#2  0x7963742d017b in ???
#3  0x7963742c9684 in ???
#4  0x7963742ca2aa in ???
#5  0x7963742cfb7a in ???
#6  0x5ae601720282 in MAIN__
#7  0x5ae6017203a6 in main
</pre>
          </div>
          
        </div>
        <div
          class="tab-pane fade"
          id="python-tab-pane"
          role="tabpanel"
          aria-labelledby="python-tab"
          tabindex="0">
          <alert class="alert alert-info d-flex">
            <strong>üåê Data from online sources</strong>
          </alert>
          <pre><code class="language-python">def max_positive_negative_count(nums):
    pos = next((i for i, x in enumerate(nums) if x &gt;= 0), len(nums))
    neg = len(nums) - pos
    return max(pos, neg)
</code></pre>
<p>The original array is sorted in non-decreasing order. We want to find the maximum count between the number of positive integers and the number of negative integers in the array. We can find the position where the first non-negative number appears. This position is the count of negative integers in the array. The count of positive integers would be the total length of the array minus this position.</p>
<p>In C++, we use <code>upper_bound</code> to find the position of the first non-negative number.
In Java, Python, and JavaScript, we loop through the array and break when we find the first non-negative number.</p>
<p>After finding the position, we calculate the counts of both positive and negative integers, and return the maximum of the two.</p>
        </div>
        <div
          class="tab-pane fade"
          id="cpp-tab-pane"
          role="tabpanel"
          aria-labelledby="cpp-tab"
          tabindex="0">
          <alert class="alert alert-info d-flex">
            <strong>üåê Data from online sources</strong>
          </alert>
          <pre><code class="language-cpp">int maxPositiveNegativeCount(const vector&lt;int&gt;&amp; nums) {
    int pos = upper_bound(nums.begin(), nums.end(), -1) - nums.begin();
    int neg = nums.size() - pos;
    return max(pos, neg);
}
</code></pre>
<p>The original array is sorted in non-decreasing order. We want to find the maximum count between the number of positive integers and the number of negative integers in the array. We can find the position where the first non-negative number appears. This position is the count of negative integers in the array. The count of positive integers would be the total length of the array minus this position.</p>
<p>In C++, we use <code>upper_bound</code> to find the position of the first non-negative number.
In Java, Python, and JavaScript, we loop through the array and break when we find the first non-negative number.</p>
<p>After finding the position, we calculate the counts of both positive and negative integers, and return the maximum of the two.</p>
        </div>
      </div>
      <style>
        .model-code {
          max-height: 600px;
          overflow-y: auto;
        }

        .font-emoji {
          font-family: emoji;
        }
      </style>
    </div>
  </div>
</div>
<script>
  hljs.addPlugin(new CopyButtonPlugin());
  hljs.highlightAll();
</script>

  </body>
</html>