<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Fine-tuning CodeLlama-7B for Fortran Code Generation</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/5.3.3/zephyr/bootstrap.min.css"
      integrity="sha512-CWXb9sx63+REyEBV/cte+dE1hSsYpJifb57KkqAXjsN3gZQt6phZt7e5RhgZrUbaNfCdtdpcqDZtuTEB+D3q2Q=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/styles/atom-one-dark.min.css" />
    <link
      rel="stylesheet"
      href="https://unpkg.com/highlightjs-copy/dist/highlightjs-copy.min.css" />
    <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/highlight.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/languages/fortran.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/languages/python.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/languages/cpp.min.js"></script>
    <script src="https://unpkg.com/highlightjs-copy/dist/highlightjs-copy.min.js"></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js"
      integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+"
      crossorigin="anonymous"></script>
  </head>
  <body>
    
<div class="container">
  <div class="row">
    <div class="col d-flex justify-content-between align-items-center">
      <h2>Find the Index of the First Occurrence in a String</h2>
      <div>
        <a href="/" class="btn btn-outline-primary me-2">
          üè†
        </a>
        <a
          href="/27/"
          class="btn btn-outline-secondary me-2">
          ‚¨ÖÔ∏è
        </a>
        <a
          href="/35/"
          class="btn btn-outline-secondary">
          ‚û°Ô∏è
        </a>
      </div>
    </div>
  </div>

  <div class="row">
    <div class="col">
      <div class="leetcode-problem-content card">
        <div class="card-body">
          <p>Given two strings <code>needle</code> and <code>haystack</code>, return the index of the first occurrence of <code>needle</code> in <code>haystack</code>, or <code>-1</code> if <code>needle</code> is not part of <code>haystack</code>.</p>
<p><strong>Example 1:</strong></p>
<p><strong>Input:</strong> haystack =  "sadbutsad ", needle =  "sad "
<strong>Output:</strong> 0
<strong>Explanation:</strong>  "sad " occurs at index 0 and 6.
The first occurrence is at index 0, so we return 0.</p>
<p><strong>Example 2:</strong></p>
<p><strong>Input:</strong> haystack =  "leetcode ", needle =  "leeto "
<strong>Output:</strong> -1
<strong>Explanation:</strong>  "leeto " did not occur in  "leetcode ", so we return -1.</p>
<p><strong>Constraints:</strong></p>
<ul>
<li><code>1 &lt;= haystack.length, needle.length &lt;= 104</code></li>
<li><code>haystack</code> and <code>needle</code> consist of only lowercase English characters.</li>
</ul>
          <hr />
          <span class="fst-italic">
            Note: This problem is from
            <a
              href="https://leetcode.com/problems/find-the-index-of-the-first-occurrence-in-a-string/description/">LeetCode</a>.
          </span>
        </div>
      </div>
      <style>
        .leetcode-problem-content {
          max-height: 200px;
          overflow-y: auto;
        }
      </style>
    </div>
  </div>
  <div class="row">
    <div class="col-md-6">
      <ul class="nav nav-underline mb-2" id="myTab" role="tablist">
        <li class="nav-item" role="presentation">
          <button
            class="nav-link active"
            id="our-model-tab"
            data-bs-toggle="tab"
            data-bs-target="#our-model-tab-pane"
            type="button"
            role="tab"
            aria-controls="our-model-tab-pane"
            aria-selected="true">
            ü¶æ Our model
          </button>
        </li>
      </ul>
      <div class="tab-content" id="myTabContent">
        <div
          class="tab-pane fade show active"
          id="our-model-tab-pane"
          role="tabpanel"
          aria-labelledby="our-model-tab"
          tabindex="0">
          <div class="row mb-2">
            <div class="col">
              <div
                class="card border-success"
                style="border-width: 2px">
                <div class="card-body">
                  <span class="font-emoji">
                    ‚úÖ
                  </span>
                  <strong>Compiled</strong>
                </div>
              </div>
            </div>

            <div class="col">
              <div
                class="card border-danger"
                style="border-width: 2px">
                <div class="card-body">
                  <span class="font_emoji">
                    ‚ùå
                  </span>
                  <strong>Executed</strong>
                </div>
              </div>
            </div>

            <div class="col">
              <div
                class="card border-danger"
                style="border-width: 2px">
                <div class="card-body">
                  <span class="font-emoji">
                    ‚ùå
                  </span>
                  <strong>Correct</strong>
                </div>
              </div>
            </div>
          </div>
          <pre><code class="language-fortran model-code">program main
    implicit none

    integer :: i, j, k
    character(len=10) :: needle, haystack

    ! Example 1
    needle = 'sad '
    haystack = 'sadbutsad '
    i = str_index(haystack, needle)
    write (*,*) 'Example 1:'
    write (*,'(A,I0)') 'Index of first occurrence of "', needle, '" in "', haystack, '" is ', i

    ! Example 2
    needle = 'leeto '
    haystack = 'leetcode '
    i = str_index(haystack, needle)
    write (*,*) 'Example 2:'
    write (*,'(A,I0)') 'Index of first occurrence of "', needle, '" in "', haystack, '" is ', i

contains

    function str_index(haystack, needle) result(i)
        implicit none
        character(*), intent(in) :: haystack, needle
        integer :: i

        do i = 1, len(haystack)-len(needle)+1
            if (haystack(i:i+len(needle)-1) == needle) then
                exit
            end if
        end do

        if (i > len(haystack)-len(needle)+1) then
            i = -1
        end if
    end function str_index

end program main</code></pre>

          
          <div class="alert alert-info" role="alert">
            <strong>stdout</strong>
            <pre> Example 1:
</pre>
          </div>
           
          <div class="alert alert-danger" role="alert">
            <strong>stderr</strong>
            <pre>At line 12 of file temp.f95 (unit = 6, file = 'stdout')
Fortran runtime error: Expected INTEGER for item 2 in formatted transfer, got CHARACTER
(A,I0)
   ^

Error termination. Backtrace:
#0  0x7ed828979960 in ???
#1  0x7ed82897a4d9 in ???
#2  0x7ed828bbfec3 in ???
#3  0x7ed828bcd0e2 in ???
#4  0x7ed828bd06d1 in ???
#5  0x7ed828bd0e05 in ???
#6  0x57866eac33d7 in MAIN__
#7  0x57866eac366c in main
</pre>
          </div>
          
        </div>
      </div>
    </div>
    <div class="col-md-6">
      <ul class="nav nav-underline mb-2" id="myTab" role="tablist">
        <li class="nav-item" role="presentation">
          <button
            class="nav-link active"
            id="codellama-tab"
            data-bs-toggle="tab"
            data-bs-target="#codellama-tab-pane"
            type="button"
            role="tab"
            aria-controls="codellama-tab-pane"
            aria-selected="true">
            ü¶ô CodeLlama-7B
          </button>
        </li>
        <li class="nav-item" role="presentation">
          <button
            class="nav-link"
            id="python-tab"
            data-bs-toggle="tab"
            data-bs-target="#python-tab-pane"
            type="button"
            role="tab"
            aria-controls="python-tab-pane"
            aria-selected="false">
            üêç Python
          </button>
        </li>
        <li class="nav-item" role="presentation">
          <button
            class="nav-link"
            id="cpp-tab"
            data-bs-toggle="tab"
            data-bs-target="#cpp-tab-pane"
            type="button"
            role="tab"
            aria-controls="cpp-tab-pane"
            aria-selected="false">
            ü§† C++
          </button>
        </li>
      </ul>
      <div class="tab-content" id="myTabContent">
        <div
          class="tab-pane fade show active"
          id="codellama-tab-pane"
          role="tabpanel"
          aria-labelledby="codellama-tab"
          tabindex="0">
          <div class="row mb-2">
            <div class="col">
              <div
                class="card border-danger"
                style="border-width: 2px">
                <div class="card-body">
                  <span class="font-emoji">
                    ‚ùå
                  </span>
                  <strong>Compiled</strong>
                </div>
              </div>
            </div>

            <div class="col">
              <div
                class="card border-danger"
                style="border-width: 2px">
                <div class="card-body">
                  <span class="font-emoji">
                    ‚ùå
                  </span>
                  <strong>Executed</strong>
                </div>
              </div>
            </div>

            <div class="col">
              <div
                class="card border-danger"
                style="border-width: 2px">
                <div class="card-body">
                  <span class="font-emoji">
                    ‚ùå
                  </span>
                  <strong>Correct</strong>
                </div>
              </div>
            </div>
          </div>
          <pre><code class="language-fortran model-code">program first_occurrence
      implicit none

      integer :: i, j, k, l
      character(len=100) :: haystack, needle

      read(*,*) haystack
      read(*,*) needle

      l = len(haystack)
      k = len(needle)

      do i = 1, l-k+1
        do j = 1, k
          if (haystack(i+j-1:i+j-1) /= needle(j:j)) exit
        end do
        if (j > k) then
          write(*,*) i
          exit
        end if
      end do

      if (i > l-k+1) then
        write(*,*) -1
      end if

      end program first_occurrence

This program uses a nested loop to iterate over the characters of the `haystack` and `needle` strings. The outer loop iterates over the characters of the `haystack`, while the inner loop iterates over the characters of the `needle`. The program checks if the current character of the `haystack` is equal to the current character of the `needle`. If the characters are not equal, the inner loop exits and the outer loop continues with the next character of the `haystack`. If the characters are equal, the inner loop continues until it reaches the end of the `needle`. If the inner loop reaches the end of the `needle`, the program outputs the index of the first occurrence of the `needle` in the `haystack`. If the `needle` is not part of the `haystack`, the program outputs `-1`.

The program uses the `len` function to get the length of the `haystack` and `needle` strings. The `len` function returns the number of characters in the string. The program uses this value to determine the maximum index of the `haystack` and `needle` strings.

The program uses the `write` statement to output the result to the console. The `write` statement takes two arguments: the first argument is the unit number (in this case, `*`) and the second argument is the value to be written to the console. The program uses the `*` unit number to indicate that the output should be written to the console. The program uses the `write` statement to output the index of the first occurrence of the `needle` in the `haystack` or `-1` if the `needle` is not part of the `haystack`.

The program uses the `exit` statement to exit the inner loop if the characters of the `needle` are not found in the `haystack`. The `exit` statement takes one argument: the label of the loop to exit. In this case, the label of the loop to exit is `j`. The program uses the `exit` statement to exit the inner loop if the characters of the `needle` are not found in the `haystack`.

The program uses the `if` statement to check if the `needle` is not part of the `haystack`. If the `needle` is not part of the `haystack`, the program outputs `-1`. The `if` statement takes two arguments: the condition to be checked and the statement to be executed if the condition is true. In this case, the condition is `i > l-k+1`, which checks if the index of the first occurrence of the `needle` in the `haystack` is greater than the maximum index of the `haystack` minus the length of the `needle` plus one. If the condition is true, the program outputs `-1`.

The program uses the `end program` statement to indicate the end of the program. The `end program` statement is required at the end of every Fortran program.

This program solves the problem by finding the first occurrence of the `needle` in the `haystack`. If the `needle` is not part of the `haystack`, the program outputs `-1`. The program uses a nested loop to iterate over the characters of the `haystack` and `needle` strings. The program checks if the current character of the `haystack` is equal to the current character of the `needle`. If the characters are not equal, the inner loop exits and the outer loop continues with the next character of the `haystack`. If the characters are equal, the inner loop continues until it reaches the end of the `needle`. If the inner loop reaches the end of the `needle`, the program outputs
</code></pre>
           
          <div class="alert alert-danger" role="alert">
            <strong>stderr</strong>
            <pre>temp.f95:29:132:

   29 | This program uses a nested loop to iterate over the characters of the `haystack` and `needle` strings. The outer loop iterates over the characters of the `haystack`, while the inner loop iterates over the characters of the `needle`. The program checks if the current character of the `haystack` is equal to the current character of the `needle`. If the characters are not equal, the inner loop exits and the outer loop continues with the next character of the `haystack`. If the characters are equal, the inner loop continues until it reaches the end of the `needle`. If the inner loop reaches the end of the `needle`, the program outputs the index of the first occurrence of the `needle` in the `haystack`. If the `needle` is not part of the `haystack`, the program outputs `-1`.
      |                                                                                                                                    1
Error: Line truncated at (1) [-Werror=line-truncation]
temp.f95:31:132:

   31 | The program uses the `len` function to get the length of the `haystack` and `needle` strings. The `len` function returns the number of characters in the string. The program uses this value to determine the maximum index of the `haystack` and `needle` strings.
      |                                                                                                                                    1
Error: Line truncated at (1) [-Werror=line-truncation]
temp.f95:33:132:

   33 | The program uses the `write` statement to output the result to the console. The `write` statement takes two arguments: the first argument is the unit number (in this case, `*`) and the second argument is the value to be written to the console. The program uses the `*` unit number to indicate that the output should be written to the console. The program uses the `write` statement to output the index of the first occurrence of the `needle` in the `haystack` or `-1` if the `needle` is not part of the `haystack`.
      |                                                                                                                                    1
Error: Line truncated at (1) [-Werror=line-truncation]
temp.f95:35:132:

   35 | The program uses the `exit` statement to exit the inner loop if the characters of the `needle` are not found in the `haystack`. The `exit` statement takes one argument: the label of the loop to exit. In this case, the label of the loop to exit is `j`. The program uses the `exit` statement to exit the inner loop if the characters of the `needle` are not found in the `haystack`.
      |                                                                                                                                    1
Error: Line truncated at (1) [-Werror=line-truncation]
temp.f95:37:132:

   37 | The program uses the `if` statement to check if the `needle` is not part of the `haystack`. If the `needle` is not part of the `haystack`, the program outputs `-1`. The `if` statement takes two arguments: the condition to be checked and the statement to be executed if the condition is true. In this case, the condition is `i > l-k+1`, which checks if the index of the first occurrence of the `needle` in the `haystack` is greater than the maximum index of the `haystack` minus the length of the `needle` plus one. If the condition is true, the program outputs `-1`.
      |                                                                                                                                    1
Error: Line truncated at (1) [-Werror=line-truncation]
temp.f95:39:132:

   39 | The program uses the `end program` statement to indicate the end of the program. The `end program` statement is required at the end of every Fortran program.
      |                                                                                                                                    1
Error: Line truncated at (1) [-Werror=line-truncation]
temp.f95:41:132:

   41 | This program solves the problem by finding the first occurrence of the `needle` in the `haystack`. If the `needle` is not part of the `haystack`, the program outputs `-1`. The program uses a nested loop to iterate over the characters of the `haystack` and `needle` strings. The program checks if the current character of the `haystack` is equal to the current character of the `needle`. If the characters are not equal, the inner loop exits and the outer loop continues with the next character of the `haystack`. If the characters are equal, the inner loop continues until it reaches the end of the `needle`. If the inner loop reaches the end of the `needle`, the program outputs
      |                                                                                                                                    1
Error: Line truncated at (1) [-Werror=line-truncation]
f951: some warnings being treated as errors
</pre>
          </div>
          
        </div>
        <div
          class="tab-pane fade"
          id="python-tab-pane"
          role="tabpanel"
          aria-labelledby="python-tab"
          tabindex="0">
          <alert class="alert alert-info d-flex">
            <strong>üåê Data from online sources</strong>
          </alert>
          <pre><code class="language-python">def strStr(haystack: str, needle: str) -&gt; int:
    if not needle:
        return 0
    try:
        index = haystack.index(needle)
        return index
    except ValueError:
        return -1
</code></pre>
<p>The algorithm searches for the first occurrence of the <code>needle</code> string in the <code>haystack</code> string. First, it checks if the <code>needle</code> is empty, and if it is, it returns 0. Otherwise, it uses the built-in <code>find</code>, <code>indexOf</code> or <code>index</code> functions provided by the corresponding language's string data type. These functions return the index of the first occurrence of the specified substring. If the substring is not found, they return specific values like string::npos for C++, -1 for Java, and raise a ValueError exception for Python. Depending on the returned value, the algorithm either returns the index of the first occurrence or -1, indicating that <code>needle</code> is not part of <code>haystack</code>.</p>
        </div>
        <div
          class="tab-pane fade"
          id="cpp-tab-pane"
          role="tabpanel"
          aria-labelledby="cpp-tab"
          tabindex="0">
          <alert class="alert alert-info d-flex">
            <strong>üåê Data from online sources</strong>
          </alert>
          <pre><code class="language-cpp">int strStr(string haystack, string needle) {
    if(needle.empty()) return 0;

    size_t pos = haystack.find(needle);
    if(pos != string::npos)
        return pos;
    return -1;
}
</code></pre>
<p>The algorithm searches for the first occurrence of the <code>needle</code> string in the <code>haystack</code> string. First, it checks if the <code>needle</code> is empty, and if it is, it returns 0. Otherwise, it uses the built-in <code>find</code>, <code>indexOf</code> or <code>index</code> functions provided by the corresponding language's string data type. These functions return the index of the first occurrence of the specified substring. If the substring is not found, they return specific values like string::npos for C++, -1 for Java, and raise a ValueError exception for Python. Depending on the returned value, the algorithm either returns the index of the first occurrence or -1, indicating that <code>needle</code> is not part of <code>haystack</code>.</p>
        </div>
      </div>
      <style>
        .model-code {
          max-height: 600px;
          overflow-y: auto;
        }

        .font-emoji {
          font-family: emoji;
        }
      </style>
    </div>
  </div>
</div>
<script>
  hljs.addPlugin(new CopyButtonPlugin());
  hljs.highlightAll();
</script>

  </body>
</html>