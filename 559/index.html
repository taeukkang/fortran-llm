<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Fine-tuning CodeLlama-7B for Fortran Code Generation</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/5.3.3/zephyr/bootstrap.min.css"
      integrity="sha512-CWXb9sx63+REyEBV/cte+dE1hSsYpJifb57KkqAXjsN3gZQt6phZt7e5RhgZrUbaNfCdtdpcqDZtuTEB+D3q2Q=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/styles/atom-one-dark.min.css" />
    <link
      rel="stylesheet"
      href="https://unpkg.com/highlightjs-copy/dist/highlightjs-copy.min.css" />
    <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/highlight.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/languages/fortran.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/languages/python.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/languages/cpp.min.js"></script>
    <script src="https://unpkg.com/highlightjs-copy/dist/highlightjs-copy.min.js"></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js"
      integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+"
      crossorigin="anonymous"></script>
  </head>
  <body>
    
<div class="container">
  <div class="row">
    <div class="col d-flex justify-content-between align-items-center">
      <h2>Maximum Depth of N-ary Tree</h2>
      <div>
        <a href="/" class="btn btn-outline-primary me-2">
          üè†
        </a>
        <a
          href="/557/"
          class="btn btn-outline-secondary me-2">
          ‚¨ÖÔ∏è
        </a>
        <a
          href="/561/"
          class="btn btn-outline-secondary">
          ‚û°Ô∏è
        </a>
      </div>
    </div>
  </div>

  <div class="row">
    <div class="col">
      <div class="leetcode-problem-content card">
        <div class="card-body">
          <p>Given a n-ary tree, find its maximum depth.</p>
<p>The maximum depth is the number of nodes along the longest path from the root node down to the farthest leaf node.</p>
<p><em>Nary-Tree input serialization is represented in their level order traversal, each group of children is separated by the null value (See examples).</em></p>
<p><strong>Example 1:</strong></p>
<p><strong>Input:</strong> root = [1,null,3,2,4,null,5,6]
<strong>Output:</strong> 3</p>
<p><strong>Example 2:</strong></p>
<p><strong>Input:</strong> root = [1,null,2,3,4,5,null,null,6,7,null,8,null,9,10,null,null,11,null,12,null,13,null,null,14]
<strong>Output:</strong> 5</p>
<p><strong>Constraints:</strong></p>
<ul>
<li>The total number of nodes is in the range <code>[0, 104]</code>.</li>
<li>The depth of the n-ary tree is less than or equal to <code>1000</code>.</li>
</ul>
          <hr />
          <span class="fst-italic">
            Note: This problem is from
            <a
              href="https://leetcode.com/problems/maximum-depth-of-n-ary-tree/description/">LeetCode</a>.
          </span>
        </div>
      </div>
      <style>
        .leetcode-problem-content {
          max-height: 200px;
          overflow-y: auto;
        }
      </style>
    </div>
  </div>
  <div class="row">
    <div class="col-md-6">
      <ul class="nav nav-underline mb-2" id="myTab" role="tablist">
        <li class="nav-item" role="presentation">
          <button
            class="nav-link active"
            id="our-model-tab"
            data-bs-toggle="tab"
            data-bs-target="#our-model-tab-pane"
            type="button"
            role="tab"
            aria-controls="our-model-tab-pane"
            aria-selected="true">
            ü¶æ Our model
          </button>
        </li>
      </ul>
      <div class="tab-content" id="myTabContent">
        <div
          class="tab-pane fade show active"
          id="our-model-tab-pane"
          role="tabpanel"
          aria-labelledby="our-model-tab"
          tabindex="0">
          <div class="row mb-2">
            <div class="col">
              <div
                class="card border-danger"
                style="border-width: 2px">
                <div class="card-body">
                  <span class="font-emoji">
                    ‚ùå
                  </span>
                  <strong>Compiled</strong>
                </div>
              </div>
            </div>

            <div class="col">
              <div
                class="card border-danger"
                style="border-width: 2px">
                <div class="card-body">
                  <span class="font_emoji">
                    ‚ùå
                  </span>
                  <strong>Executed</strong>
                </div>
              </div>
            </div>

            <div class="col">
              <div
                class="card border-danger"
                style="border-width: 2px">
                <div class="card-body">
                  <span class="font-emoji">
                    ‚ùå
                  </span>
                  <strong>Correct</strong>
                </div>
              </div>
            </div>
          </div>
          <pre><code class="language-fortran model-code">program main
    implicit none

    type :: Node
        integer :: val
        type(Node), pointer :: left(:) => null()
        type(Node), pointer :: right(:) => null()
    end type

    type(Node), target :: root
    type(Node), pointer :: curr
    integer :: i, j

    ! Example 1
    allocate(root%left(1))
    allocate(root%right(2))
    root%val = 1
    root%left(1)%val = 3
    root%right(1)%val = 2
    root%right(2)%val = 4

    print '(I0)', maxDepth(root)

    ! Example 2
    deallocate(root%left)
    deallocate(root%right)
    allocate(root%left(2))
    allocate(root%right(3))
    root%val = 1
    root%left(1)%val = 5
    root%left(2)%val = 6
    root%right(1)%val = 7
    root%right(2)%val = 8
    root%right(3)%val = 9
    root%right(3)%left(1)%val = 10
    root%right(3)%right(1)%val = 11
    root%right(3)%right(2)%val = 12
    root%right(3)%right(2)%left(1)%val = 13
    root%right(3)%right(2)%right(1)%val = 14

    print '(I0)', maxDepth(root)

contains

    function maxDepth(root) result(depth)
        implicit none
        class(Node), intent(in) :: root
        integer :: depth
        type(Node), pointer :: curr
        integer :: i

        depth = 0
        curr => root
        do while (associated(curr))
            if (associated(curr%left)) then
                depth = max(depth, maxDepth(curr%left))
            end if
            if (associated(curr%right)) then
                depth = max(depth, maxDepth(curr%right))
            end if
            curr => curr%left
        end do
    end function

end program</code></pre>

           
          <div class="alert alert-danger" role="alert">
            <strong>stderr</strong>
            <pre>temp.f95:53:16:

   53 |         curr => root
      |                1
Error: Pointer assignment target is neither TARGET nor POINTER at (1)
temp.f95:56:44:

   56 |                 depth = max(depth, maxDepth(curr%left))
      |                                            1
Error: Rank mismatch in argument ‚Äòroot‚Äô at (1) (scalar and rank-1)
temp.f95:56:35:

   56 |                 depth = max(depth, maxDepth(curr%left))
      |                                   1
Error: Function ‚Äòmaxdepth‚Äô at (1) cannot be called recursively, as it is not RECURSIVE
temp.f95:59:44:

   59 |                 depth = max(depth, maxDepth(curr%right))
      |                                            1
Error: Rank mismatch in argument ‚Äòroot‚Äô at (1) (scalar and rank-1)
temp.f95:59:35:

   59 |                 depth = max(depth, maxDepth(curr%right))
      |                                   1
Error: Function ‚Äòmaxdepth‚Äô at (1) cannot be called recursively, as it is not RECURSIVE
temp.f95:61:12:

   61 |             curr => curr%left
      |            1
Error: Different ranks in pointer assignment at (1)
</pre>
          </div>
          
        </div>
      </div>
    </div>
    <div class="col-md-6">
      <ul class="nav nav-underline mb-2" id="myTab" role="tablist">
        <li class="nav-item" role="presentation">
          <button
            class="nav-link active"
            id="codellama-tab"
            data-bs-toggle="tab"
            data-bs-target="#codellama-tab-pane"
            type="button"
            role="tab"
            aria-controls="codellama-tab-pane"
            aria-selected="true">
            ü¶ô CodeLlama-7B
          </button>
        </li>
        <li class="nav-item" role="presentation">
          <button
            class="nav-link"
            id="python-tab"
            data-bs-toggle="tab"
            data-bs-target="#python-tab-pane"
            type="button"
            role="tab"
            aria-controls="python-tab-pane"
            aria-selected="false">
            üêç Python
          </button>
        </li>
        <li class="nav-item" role="presentation">
          <button
            class="nav-link"
            id="cpp-tab"
            data-bs-toggle="tab"
            data-bs-target="#cpp-tab-pane"
            type="button"
            role="tab"
            aria-controls="cpp-tab-pane"
            aria-selected="false">
            ü§† C++
          </button>
        </li>
      </ul>
      <div class="tab-content" id="myTabContent">
        <div
          class="tab-pane fade show active"
          id="codellama-tab-pane"
          role="tabpanel"
          aria-labelledby="codellama-tab"
          tabindex="0">
          <div class="row mb-2">
            <div class="col">
              <div
                class="card border-danger"
                style="border-width: 2px">
                <div class="card-body">
                  <span class="font-emoji">
                    ‚ùå
                  </span>
                  <strong>Compiled</strong>
                </div>
              </div>
            </div>

            <div class="col">
              <div
                class="card border-danger"
                style="border-width: 2px">
                <div class="card-body">
                  <span class="font-emoji">
                    ‚ùå
                  </span>
                  <strong>Executed</strong>
                </div>
              </div>
            </div>

            <div class="col">
              <div
                class="card border-danger"
                style="border-width: 2px">
                <div class="card-body">
                  <span class="font-emoji">
                    ‚ùå
                  </span>
                  <strong>Correct</strong>
                </div>
              </div>
            </div>
          </div>
          <pre><code class="language-fortran model-code">! This is a Fortran implementation of the problem.
! The program takes a n-ary tree as input and outputs its maximum depth.

program max_depth

implicit none

! Declare variables
integer :: n, i, j, k, l, m, n_nodes, max_depth
integer, allocatable :: nodes(:)

! Read the number of nodes in the tree
read (*,*) n_nodes

! Allocate memory for the nodes
allocate (nodes(n_nodes))

! Read the nodes of the tree
do i = 1, n_nodes
    read (*,*) nodes(i)
end do

! Initialize the maximum depth
max_depth = 0

! Iterate over the nodes
do i = 1, n_nodes
    ! If the node is not null, increment the maximum depth
    if (nodes(i) /= 0) then
        max_depth = max_depth + 1
    end if
end do

! Output the maximum depth
write (*,*) max_depth

end program max_depth
</code></pre>
           
          <div class="alert alert-danger" role="alert">
            <strong>stderr</strong>
            <pre>temp.f95:9:47:

    9 | integer :: n, i, j, k, l, m, n_nodes, max_depth
      |                                               1
Error: Symbol ‚Äòmax_depth‚Äô at (1) cannot have a type
temp.f95:24:10:

   24 | max_depth = 0
      |          1
Error: ‚Äòmax_depth‚Äô at (1) is not a variable
temp.f95:30:18:

   30 |         max_depth = max_depth + 1
      |                  1
Error: ‚Äòmax_depth‚Äô at (1) is not a variable
temp.f95:35:21:

   35 | write (*,*) max_depth
      |                     1
Error: Symbol at (1) is not appropriate for an expression
temp.f95:19:4:

   19 | do i = 1, n_nodes
      |    1
Error: Symbol ‚Äòi‚Äô at (1) has no IMPLICIT type
temp.f95:13:18:

   13 | read (*,*) n_nodes
      |                  1
Error: Symbol ‚Äòn_nodes‚Äô at (1) has no IMPLICIT type; did you mean ‚Äònodes‚Äô?
</pre>
          </div>
          
        </div>
        <div
          class="tab-pane fade"
          id="python-tab-pane"
          role="tabpanel"
          aria-labelledby="python-tab"
          tabindex="0">
          <alert class="alert alert-info d-flex">
            <strong>üåê Data from online sources</strong>
          </alert>
          <pre><code class="language-python">class Node:
    def __init__(self, val=None, children=None):
        self.val = val
        self.children = children if children is not None else []

def max_depth(root):
    if root is None:
        return 0
    max_depth = 0
    for child in root.children:
        max_depth = max(max_depth, max_depth(child))
    return max_depth + 1
</code></pre>
<p>The algorithm used for all the language implementations is Depth First Traversal. The base case checks if the current root is <code>null</code> or not. If it is <code>null</code>, the function returns 0. Then, we iterate through each child node in the <code>children</code> list and calculate the maximum depth from each child node by making a recursive call. The maximum depth from a child node is added to the current depth which is initialized to 0. Finally, we return the maximum depth + 1 to account for the current node.</p>
        </div>
        <div
          class="tab-pane fade"
          id="cpp-tab-pane"
          role="tabpanel"
          aria-labelledby="cpp-tab"
          tabindex="0">
          <alert class="alert alert-info d-flex">
            <strong>üåê Data from online sources</strong>
          </alert>
          <pre><code class="language-cpp">class Node {
public:
    int val;
    vector&lt;Node*&gt; children;

    Node() {}

    Node(int _val) {
        val = _val;
    }

    Node(int _val, vector&lt;Node*&gt; _children) {
        val = _val;
        children = _children;
    }
};

int maxDepth(Node* root) {
    if (!root) return 0;
    int max_depth = 0;
    for (Node* child : root-&gt;children) {
        max_depth = max(max_depth, maxDepth(child));
    }
    return max_depth + 1;
}
</code></pre>
<p>The algorithm used for all the language implementations is Depth First Traversal. The base case checks if the current root is <code>null</code> or not. If it is <code>null</code>, the function returns 0. Then, we iterate through each child node in the <code>children</code> list and calculate the maximum depth from each child node by making a recursive call. The maximum depth from a child node is added to the current depth which is initialized to 0. Finally, we return the maximum depth + 1 to account for the current node.</p>
        </div>
      </div>
      <style>
        .model-code {
          max-height: 600px;
          overflow-y: auto;
        }

        .font-emoji {
          font-family: emoji;
        }
      </style>
    </div>
  </div>
</div>
<script>
  hljs.addPlugin(new CopyButtonPlugin());
  hljs.highlightAll();
</script>

  </body>
</html>