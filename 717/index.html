<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Fine-tuning CodeLlama-7B for Fortran Code Generation</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/5.3.3/zephyr/bootstrap.min.css"
      integrity="sha512-CWXb9sx63+REyEBV/cte+dE1hSsYpJifb57KkqAXjsN3gZQt6phZt7e5RhgZrUbaNfCdtdpcqDZtuTEB+D3q2Q=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/styles/atom-one-dark.min.css" />
    <link
      rel="stylesheet"
      href="https://unpkg.com/highlightjs-copy/dist/highlightjs-copy.min.css" />
    <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/highlight.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/languages/fortran.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/languages/python.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/languages/cpp.min.js"></script>
    <script src="https://unpkg.com/highlightjs-copy/dist/highlightjs-copy.min.js"></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js"
      integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+"
      crossorigin="anonymous"></script>
  </head>
  <body>
    
<div class="container">
  <div class="row">
    <div class="col d-flex justify-content-between align-items-center">
      <h2>1-bit and 2-bit Characters</h2>
      <div>
        <a href="/fortran-llm/" class="btn btn-outline-primary me-2">
          ğŸ 
        </a>
        <a
          href="/fortran-llm/709/"
          class="btn btn-outline-secondary me-2">
          â¬…ï¸
        </a>
        <a
          href="/fortran-llm/724/"
          class="btn btn-outline-secondary">
          â¡ï¸
        </a>
      </div>
    </div>
  </div>

  <div class="row">
    <div class="col">
      <div class="leetcode-problem-content card">
        <div class="card-body">
          <p>We have two special characters:</p>
<ul>
<li>The first character can be represented by one bit <code>0</code>.</li>
<li>The second character can be represented by two bits (<code>10</code> or <code>11</code>).</li>
</ul>
<p>Given a binary array <code>bits</code> that ends with <code>0</code>, return <code>true</code> if the last character must be a one-bit character.</p>
<p><strong>Example 1:</strong></p>
<p><strong>Input:</strong> bits = [1,0,0]
<strong>Output:</strong> true
<strong>Explanation:</strong> The only way to decode it is two-bit character and one-bit character.
So the last character is one-bit character.</p>
<p><strong>Example 2:</strong></p>
<p><strong>Input:</strong> bits = [1,1,1,0]
<strong>Output:</strong> false
<strong>Explanation:</strong> The only way to decode it is two-bit character and two-bit character.
So the last character is not one-bit character.</p>
<p><strong>Constraints:</strong></p>
<ul>
<li><code>1 &lt;= bits.length &lt;= 1000</code></li>
<li><code>bits[i]</code> is either <code>0</code> or <code>1</code>.</li>
</ul>
          <hr />
          <span class="fst-italic">
            Note: This problem is from
            <a
              href="https://leetcode.com/problems/1-bit-and-2-bit-characters/description/">LeetCode</a>.
          </span>
        </div>
      </div>
      <style>
        .leetcode-problem-content {
          max-height: 200px;
          overflow-y: auto;
        }
      </style>
    </div>
  </div>
  <div class="row">
    <div class="col-md-6">
      <ul class="nav nav-underline mb-2" id="myTab" role="tablist">
        <li class="nav-item" role="presentation">
          <button
            class="nav-link active"
            id="our-model-tab"
            data-bs-toggle="tab"
            data-bs-target="#our-model-tab-pane"
            type="button"
            role="tab"
            aria-controls="our-model-tab-pane"
            aria-selected="true">
            ğŸ¦¾ Our model
          </button>
        </li>
      </ul>
      <div class="tab-content" id="myTabContent">
        <div
          class="tab-pane fade show active"
          id="our-model-tab-pane"
          role="tabpanel"
          aria-labelledby="our-model-tab"
          tabindex="0">
          <div class="row mb-2">
            <div class="col">
              <div
                class="card border-danger"
                style="border-width: 2px">
                <div class="card-body">
                  <span class="font-emoji">
                    âŒ
                  </span>
                  <strong>Compiled</strong>
                </div>
              </div>
            </div>

            <div class="col">
              <div
                class="card border-danger"
                style="border-width: 2px">
                <div class="card-body">
                  <span class="font_emoji">
                    âŒ
                  </span>
                  <strong>Executed</strong>
                </div>
              </div>
            </div>

            <div class="col">
              <div
                class="card border-danger"
                style="border-width: 2px">
                <div class="card-body">
                  <span class="font-emoji">
                    âŒ
                  </span>
                  <strong>Correct</strong>
                </div>
              </div>
            </div>
          </div>
          <pre><code class="language-fortran model-code">program main
    implicit none

    integer :: i, n
    logical :: ans
    character(len=100) :: input_string

    ! Example 1
    write(*,*) "Example 1"
    input_string = "[1,0,0]"
    read(input_string, *) n, (ans, i=1,n)
    call solve(n, ans)

    ! Example 2
    write(*,*) "Example 2"
    input_string = "[1,1,1,0]"
    read(input_string, *) n, (ans, i=1,n)
    call solve(n, ans)

contains

subroutine solve(n, ans)
    implicit none
    integer, intent(in) :: n
    logical, intent(out) :: ans

    integer :: i
    logical :: last_is_one

    last_is_one = .false.
    do i = 1, n - 1
        if (ans(i)) then
            last_is_one = .not. last_is_one
        end if
    end do

    if (last_is_one) then
        ans = .true.
    else
        ans = .false.
    end if
end subroutine solve

end program main</code></pre>

           
          <div class="alert alert-danger" role="alert">
            <strong>stderr</strong>
            <pre>temp.f95:38:12:

   38 |         ans = .true.
      |            1
Error: â€˜ansâ€™ at (1) is not a variable
temp.f95:40:12:

   40 |         ans = .false.
      |            1
Error: â€˜ansâ€™ at (1) is not a variable
temp.f95:22:23:

   22 | subroutine solve(n, ans)
      |                       1
Error: PROCEDURE attribute conflicts with INTENT attribute in â€˜ansâ€™ at (1)
temp.f95:12:18:

   12 |     call solve(n, ans)
      |                  1
Error: Expected a procedure for argument â€˜ansâ€™ at (1)
temp.f95:18:18:

   18 |     call solve(n, ans)
      |                  1
Error: Expected a procedure for argument â€˜ansâ€™ at (1)
</pre>
          </div>
          
        </div>
      </div>
    </div>
    <div class="col-md-6">
      <ul class="nav nav-underline mb-2" id="myTab" role="tablist">
        <li class="nav-item" role="presentation">
          <button
            class="nav-link active"
            id="codellama-tab"
            data-bs-toggle="tab"
            data-bs-target="#codellama-tab-pane"
            type="button"
            role="tab"
            aria-controls="codellama-tab-pane"
            aria-selected="true">
            ğŸ¦™ CodeLlama-7B
          </button>
        </li>
        <li class="nav-item" role="presentation">
          <button
            class="nav-link"
            id="python-tab"
            data-bs-toggle="tab"
            data-bs-target="#python-tab-pane"
            type="button"
            role="tab"
            aria-controls="python-tab-pane"
            aria-selected="false">
            ğŸ Python
          </button>
        </li>
        <li class="nav-item" role="presentation">
          <button
            class="nav-link"
            id="cpp-tab"
            data-bs-toggle="tab"
            data-bs-target="#cpp-tab-pane"
            type="button"
            role="tab"
            aria-controls="cpp-tab-pane"
            aria-selected="false">
            ğŸ¤  C++
          </button>
        </li>
      </ul>
      <div class="tab-content" id="myTabContent">
        <div
          class="tab-pane fade show active"
          id="codellama-tab-pane"
          role="tabpanel"
          aria-labelledby="codellama-tab"
          tabindex="0">
          <div class="row mb-2">
            <div class="col">
              <div
                class="card border-success"
                style="border-width: 2px">
                <div class="card-body">
                  <span class="font-emoji">
                    âœ…
                  </span>
                  <strong>Compiled</strong>
                </div>
              </div>
            </div>

            <div class="col">
              <div
                class="card border-success"
                style="border-width: 2px">
                <div class="card-body">
                  <span class="font-emoji">
                    âœ…
                  </span>
                  <strong>Executed</strong>
                </div>
              </div>
            </div>

            <div class="col">
              <div
                class="card border-danger"
                style="border-width: 2px">
                <div class="card-body">
                  <span class="font-emoji">
                    âš ï¸
                  </span>
                  <strong>Correct</strong>
                </div>
              </div>
            </div>
          </div>
          <pre><code class="language-fortran model-code">module one_bit_character

implicit none

contains

function solve(bits) result(output)

integer, intent(in) :: bits(:)
logical :: output

integer :: i, n

n = size(bits)

if (n == 1) then

output = .true.

else

output = .false.

do i = 1, n - 1

if (bits(i) == 1) then

output = .true.

exit

end if

end do

end if

end function solve

end module one_bit_character

program main

use one_bit_character

implicit none

integer, parameter :: n = 3
integer :: bits(n) = [1, 0, 0]

write (*, *) solve(bits)

end program main
</code></pre>
          
          <div class="alert alert-info" role="alert">
            <strong>stdout</strong>
            <pre> T
</pre>
          </div>
           
        </div>
        <div
          class="tab-pane fade"
          id="python-tab-pane"
          role="tabpanel"
          aria-labelledby="python-tab"
          tabindex="0">
          <alert class="alert alert-info d-flex">
            <strong>ğŸŒ Data from online sources</strong>
          </alert>
          <pre><code class="language-python">def is_one_bit_character(bits):
    i = 0
    while i &lt; len(bits) - 1:
        i += bits[i] + 1
    return i == len(bits) - 1
</code></pre>
<p>The algorithm iterates through the binary array <code>bits</code>. If the current element is 1, the next character will be a 2-bit character, so the index <code>i</code> will be incremented by 2 (1 from the current iteration and 1 from the 2-bit character). If the current element is 0, it means that the current character is a 1-bit character, so the index <code>i</code> is incremented by 1 (from the current iteration). The loop ends either when reaching the last character or when going beyond it.</p>
<p>After the loop, if <code>i</code> is equal to the last index of the array (i.e., <code>bits.size() - 1</code>, <code>bits.length - 1</code>, or <code>len(bits) - 1</code> depending on the language), it means the last character is a 1-bit character, and the function returns <code>true</code>. Otherwise, it returns <code>false</code>.</p>
        </div>
        <div
          class="tab-pane fade"
          id="cpp-tab-pane"
          role="tabpanel"
          aria-labelledby="cpp-tab"
          tabindex="0">
          <alert class="alert alert-info d-flex">
            <strong>ğŸŒ Data from online sources</strong>
          </alert>
          <pre><code class="language-cpp">bool isOneBitCharacter(std::vector&lt;int&gt;&amp; bits) {
    int i;
    for (i = 0; i &lt; bits.size() - 1; i++) {
        i += bits[i];
    }
    return i == bits.size() - 1;
}
</code></pre>
<p>The algorithm iterates through the binary array <code>bits</code>. If the current element is 1, the next character will be a 2-bit character, so the index <code>i</code> will be incremented by 2 (1 from the current iteration and 1 from the 2-bit character). If the current element is 0, it means that the current character is a 1-bit character, so the index <code>i</code> is incremented by 1 (from the current iteration). The loop ends either when reaching the last character or when going beyond it.</p>
<p>After the loop, if <code>i</code> is equal to the last index of the array (i.e., <code>bits.size() - 1</code>, <code>bits.length - 1</code>, or <code>len(bits) - 1</code> depending on the language), it means the last character is a 1-bit character, and the function returns <code>true</code>. Otherwise, it returns <code>false</code>.</p>
        </div>
      </div>
      <style>
        .model-code {
          max-height: 600px;
          overflow-y: auto;
        }

        .font-emoji {
          font-family: emoji;
        }
      </style>
    </div>
  </div>
</div>
<script>
  hljs.addPlugin(new CopyButtonPlugin());
  hljs.highlightAll();
</script>

  </body>
</html>