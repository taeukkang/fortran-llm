<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Fine-tuning CodeLlama-7B for Fortran Code Generation</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/5.3.3/zephyr/bootstrap.min.css"
      integrity="sha512-CWXb9sx63+REyEBV/cte+dE1hSsYpJifb57KkqAXjsN3gZQt6phZt7e5RhgZrUbaNfCdtdpcqDZtuTEB+D3q2Q=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/styles/atom-one-dark.min.css" />
    <link
      rel="stylesheet"
      href="https://unpkg.com/highlightjs-copy/dist/highlightjs-copy.min.css" />
    <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/highlight.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/languages/fortran.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/languages/python.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/languages/cpp.min.js"></script>
    <script src="https://unpkg.com/highlightjs-copy/dist/highlightjs-copy.min.js"></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js"
      integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+"
      crossorigin="anonymous"></script>
  </head>
  <body>
    
<div class="container">
  <div class="row">
    <div class="col d-flex justify-content-between align-items-center">
      <h2>Find Smallest Letter Greater Than Target</h2>
      <div>
        <a href="/fortran-llm/" class="btn btn-outline-primary me-2">
          üè†
        </a>
        <a
          href="/fortran-llm/734/"
          class="btn btn-outline-secondary me-2">
          ‚¨ÖÔ∏è
        </a>
        <a
          href="/fortran-llm/746/"
          class="btn btn-outline-secondary">
          ‚û°Ô∏è
        </a>
      </div>
    </div>
  </div>

  <div class="row">
    <div class="col">
      <div class="leetcode-problem-content card">
        <div class="card-body">
          <p>You are given an array of characters <code>letters</code> that is sorted in <strong>non-decreasing order</strong>, and a character <code>target</code>. There are <strong>at least two different</strong> characters in <code>letters</code>.</p>
<p>Return <em>the smallest character in</em> <code>letters</code> <em>that is lexicographically greater than</em> <code>target</code>. If such a character does not exist, return the first character in <code>letters</code>.</p>
<p><strong>Example 1:</strong></p>
<p><strong>Input:</strong> letters = [ "c ", "f ", "j "], target =  "a "
<strong>Output:</strong>  "c "
<strong>Explanation:</strong> The smallest character that is lexicographically greater than 'a' in letters is 'c'.</p>
<p><strong>Example 2:</strong></p>
<p><strong>Input:</strong> letters = [ "c ", "f ", "j "], target =  "c "
<strong>Output:</strong>  "f "
<strong>Explanation:</strong> The smallest character that is lexicographically greater than 'c' in letters is 'f'.</p>
<p><strong>Example 3:</strong></p>
<p><strong>Input:</strong> letters = [ "x ", "x ", "y ", "y "], target =  "z "
<strong>Output:</strong>  "x "
<strong>Explanation:</strong> There are no characters in letters that is lexicographically greater than 'z' so we return letters[0].</p>
<p><strong>Constraints:</strong></p>
<ul>
<li><code>2 &lt;= letters.length &lt;= 104</code></li>
<li><code>letters[i]</code> is a lowercase English letter.</li>
<li><code>letters</code> is sorted in <strong>non-decreasing</strong> order.</li>
<li><code>letters</code> contains at least two different characters.</li>
<li><code>target</code> is a lowercase English letter.</li>
</ul>
          <hr />
          <span class="fst-italic">
            Note: This problem is from
            <a
              href="https://leetcode.com/problems/find-smallest-letter-greater-than-target/description/">LeetCode</a>.
          </span>
        </div>
      </div>
      <style>
        .leetcode-problem-content {
          max-height: 200px;
          overflow-y: auto;
        }
      </style>
    </div>
  </div>
  <div class="row">
    <div class="col-md-6">
      <ul class="nav nav-underline mb-2" id="myTab" role="tablist">
        <li class="nav-item" role="presentation">
          <button
            class="nav-link active"
            id="our-model-tab"
            data-bs-toggle="tab"
            data-bs-target="#our-model-tab-pane"
            type="button"
            role="tab"
            aria-controls="our-model-tab-pane"
            aria-selected="true">
            ü¶æ Our model
          </button>
        </li>
      </ul>
      <div class="tab-content" id="myTabContent">
        <div
          class="tab-pane fade show active"
          id="our-model-tab-pane"
          role="tabpanel"
          aria-labelledby="our-model-tab"
          tabindex="0">
          <div class="row mb-2">
            <div class="col">
              <div
                class="card border-success"
                style="border-width: 2px">
                <div class="card-body">
                  <span class="font-emoji">
                    ‚úÖ
                  </span>
                  <strong>Compiled</strong>
                </div>
              </div>
            </div>

            <div class="col">
              <div
                class="card border-success"
                style="border-width: 2px">
                <div class="card-body">
                  <span class="font_emoji">
                    ‚úÖ
                  </span>
                  <strong>Executed</strong>
                </div>
              </div>
            </div>

            <div class="col">
              <div
                class="card border-success"
                style="border-width: 2px">
                <div class="card-body">
                  <span class="font-emoji">
                    ‚úÖ
                  </span>
                  <strong>Correct</strong>
                </div>
              </div>
            </div>
          </div>
          <pre><code class="language-fortran model-code">program main
    implicit none

    character(len=1), parameter :: letters(*) = ["c", "f", "j"]
    character(len=1) :: target = "a"
    character(len=1) :: result

    result = next_larger_letter(letters, target)
    print *, result

contains

    function next_larger_letter(letters, target) result(result_)
        implicit none
        character(len=1), intent(in) :: letters(:)
        character(len=1), intent(in) :: target
        character(len=1) :: result_
        integer :: i

        do i = 1, size(letters)
            if (letters(i) > target) then
                result_ = letters(i)
                exit
            end if
        end do

        if (result_ == "") then
            result_ = letters(1)
        end if
    end function next_larger_letter
end program main</code></pre>

          
          <div class="alert alert-info" role="alert">
            <strong>stdout</strong>
            <pre> c
</pre>
          </div>
           
        </div>
      </div>
    </div>
    <div class="col-md-6">
      <ul class="nav nav-underline mb-2" id="myTab" role="tablist">
        <li class="nav-item" role="presentation">
          <button
            class="nav-link active"
            id="codellama-tab"
            data-bs-toggle="tab"
            data-bs-target="#codellama-tab-pane"
            type="button"
            role="tab"
            aria-controls="codellama-tab-pane"
            aria-selected="true">
            ü¶ô CodeLlama-7B
          </button>
        </li>
        <li class="nav-item" role="presentation">
          <button
            class="nav-link"
            id="python-tab"
            data-bs-toggle="tab"
            data-bs-target="#python-tab-pane"
            type="button"
            role="tab"
            aria-controls="python-tab-pane"
            aria-selected="false">
            üêç Python
          </button>
        </li>
        <li class="nav-item" role="presentation">
          <button
            class="nav-link"
            id="cpp-tab"
            data-bs-toggle="tab"
            data-bs-target="#cpp-tab-pane"
            type="button"
            role="tab"
            aria-controls="cpp-tab-pane"
            aria-selected="false">
            ü§† C++
          </button>
        </li>
      </ul>
      <div class="tab-content" id="myTabContent">
        <div
          class="tab-pane fade show active"
          id="codellama-tab-pane"
          role="tabpanel"
          aria-labelledby="codellama-tab"
          tabindex="0">
          <div class="row mb-2">
            <div class="col">
              <div
                class="card border-danger"
                style="border-width: 2px">
                <div class="card-body">
                  <span class="font-emoji">
                    ‚ùå
                  </span>
                  <strong>Compiled</strong>
                </div>
              </div>
            </div>

            <div class="col">
              <div
                class="card border-danger"
                style="border-width: 2px">
                <div class="card-body">
                  <span class="font-emoji">
                    ‚ùå
                  </span>
                  <strong>Executed</strong>
                </div>
              </div>
            </div>

            <div class="col">
              <div
                class="card border-danger"
                style="border-width: 2px">
                <div class="card-body">
                  <span class="font-emoji">
                    ‚ùå
                  </span>
                  <strong>Correct</strong>
                </div>
              </div>
            </div>
          </div>
          <pre><code class="language-fortran model-code">module FindSmallestLexicographicallyGreater
    implicit none

contains

    function findSmallestLexicographicallyGreater(letters, target) result(result)
        character(len=*), intent(in) :: letters(:)
        character(len=*), intent(in) :: target
        character(len=1) :: result

        integer :: i

        do i = 1, size(letters)
            if (letters(i) > target) then
                result = letters(i)
                exit
            end if
        end do

        if (result == '') then
            result = letters(1)
        end if
    end function findSmallestLexicographicallyGreater
end module FindSmallestLexicographicallyGreater

program test_findSmallestLexicographicallyGreater
    use FindSmallestLexicographicallyGreater
    implicit none

    character(len=1) :: result
    character(len=*), parameter :: letters = ["c ", "f ", "j "]

    result = findSmallestLexicographicallyGreater(letters, "a ")
    write (*, '(a)') 'Example 1: ' // result

    result = findSmallestLexicographicallyGreater(letters, "c ")
    write (*, '(a)') 'Example 2: ' // result

    result = findSmallestLexicographicallyGreater(["x ", "x ", "y ", "y "], "z ")
    write (*, '(a)') 'Example 3: ' // result
end program test_findSmallestLexicographicallyGreater
</code></pre>
           
          <div class="alert alert-danger" role="alert">
            <strong>stderr</strong>
            <pre>temp.f95:6:49:

    6 |     function findSmallestLexicographicallyGreater(letters, target) result(result)
      |                                                 1
Error: MODULE attribute of ‚Äòfindsmallestlexicographicallygreater‚Äô conflicts with PROCEDURE attribute at (1)
temp.f95:7:50:

    7 |         character(len=*), intent(in) :: letters(:)
      |                                                  1
Error: Unexpected data declaration statement in CONTAINS section at (1)
temp.f95:8:46:

    8 |         character(len=*), intent(in) :: target
      |                                              1
Error: Unexpected data declaration statement in CONTAINS section at (1)
temp.f95:9:34:

    9 |         character(len=1) :: result
      |                                  1
Error: Unexpected data declaration statement in CONTAINS section at (1)
temp.f95:11:20:

   11 |         integer :: i
      |                    1
Error: Unexpected data declaration statement in CONTAINS section at (1)
temp.f95:13:31:

   13 |         do i = 1, size(letters)
      |                               1
Error: Unexpected DO statement in CONTAINS section at (1)
temp.f95:14:41:

   14 |             if (letters(i) > target) then
      |                                         1
Error: Unexpected block IF statement in CONTAINS section at (1)
temp.f95:15:35:

   15 |                 result = letters(i)
      |                                   1
Error: Unexpected assignment statement in CONTAINS section at (1)
temp.f95:16:20:

   16 |                 exit
      |                    1
Error: EXIT statement at (1) is not within a construct
temp.f95:17:15:

   17 |             end if
      |               1
Error: Expecting END MODULE statement at (1)
temp.f95:18:11:

   18 |         end do
      |           1
Error: Expecting END MODULE statement at (1)
temp.f95:20:30:

   20 |         if (result == '') then
      |                              1
Error: Unexpected block IF statement in CONTAINS section at (1)
temp.f95:21:31:

   21 |             result = letters(1)
      |                               1
Error: Unexpected assignment statement in CONTAINS section at (1)
temp.f95:22:11:

   22 |         end if
      |           1
Error: Expecting END MODULE statement at (1)
temp.f95:23:7:

   23 |     end function findSmallestLexicographicallyGreater
      |       1
Error: Expecting END MODULE statement at (1)
temp.f95:27:9:

   27 |     use FindSmallestLexicographicallyGreater
      |         1
Fatal Error: Cannot open module file ‚Äòfindsmallestlexicographicallygreater.mod‚Äô for reading at (1): No such file or directory
compilation terminated.
</pre>
          </div>
          
        </div>
        <div
          class="tab-pane fade"
          id="python-tab-pane"
          role="tabpanel"
          aria-labelledby="python-tab"
          tabindex="0">
          <alert class="alert alert-info d-flex">
            <strong>üåê Data from online sources</strong>
          </alert>
          <pre><code class="language-python">import heapq
from collections import defaultdict

def networkDelayTime(times, n, k):
    graph = defaultdict(list)
    for u, v, w in times:
        graph[u].append((v, w))

    dist = {i: float('inf') for i in range(1, n + 1)}
    dist[k] = 0

    pq = [(0, k)]

    while pq:
        time, node = heapq.heappop(pq)

        if time &gt; dist[node]:
            continue

        for neighbour, neighbourTime in graph[node]:
            candidate_dist = time + neighbourTime
            if candidate_dist &lt; dist[neighbour]:
                dist[neighbour] = candidate_dist
                heapq.heappush(pq, (candidate_dist, neighbour))

    maxTime = max(dist.values())
    return maxTime if maxTime &lt; float('inf') else -1
</code></pre>
<p>The algorithm uses Dijkstra's shortest path algorithm to find the shortest time it takes for the signal to reach every node.</p>
<ol>
<li>Create an adjacency list (graph) to represent the times between nodes.
   (note: we use different data structures depending on the language, but the idea is the same)</li>
<li>Initialize a distance array (dist) to store the shortest time it takes for the signal to arrive at each node. Set the initial values to infinity (maximum possible time) except for node k, which is set to 0 as it's the source.</li>
<li>Create a priority queue (pq) to store the time it takes to visit a node. Initialize it with node k and time 0.</li>
<li>Iterate through the priority queue while it's not empty:
   a. Pop the node with the smallest time from the priority queue.
   b. Check if the current time is greater than the distance for the current node; if true, continue to the next iteration.
   c. For each neighbor's node in the graph, compare the sum of the current time and travel time to reach the neighbor with the minimum distance for the neighbor in the dist array. If the new calculated time is less, update the dist array and push the neighbor with the new calculated time into the priority queue.</li>
<li>After the loop is finished, find the maximum value in the dist array (ignoring the first value, which is a placeholder). If the maximum value is infinity, return -1, as not all nodes could receive the signal. Otherwise, return the maximum time.</li>
</ol>
        </div>
        <div
          class="tab-pane fade"
          id="cpp-tab-pane"
          role="tabpanel"
          aria-labelledby="cpp-tab"
          tabindex="0">
          <alert class="alert alert-info d-flex">
            <strong>üåê Data from online sources</strong>
          </alert>
          <pre><code class="language-cpp">#include &lt;vector&gt;
#include &lt;queue&gt;
#include &lt;algorithm&gt;
#include &lt;limits&gt;

int networkDelayTime(std::vector&lt;std::vector&lt;int&gt;&gt;&amp; times, int n, int k) {
    std::vector&lt;std::vector&lt;std::pair&lt;int, int&gt;&gt;&gt; graph(n + 1);
    for (const auto &amp;edge : times)
        graph[edge[0]].emplace_back(edge[1], edge[2]);

    std::vector&lt;int&gt; dist(n + 1, std::numeric_limits&lt;int&gt;::max());
    dist[k] = 0;

    std::priority_queue&lt;std::pair&lt;int, int&gt;, std::vector&lt;std::pair&lt;int, int&gt;&gt;, std::greater&lt;std::pair&lt;int, int&gt;&gt;&gt; pq;
    pq.emplace(0, k);

    while (!pq.empty()) {
        int time = pq.top().first, node = pq.top().second;
        pq.pop();

        if (time &gt; dist[node]) continue;
        for (const auto &amp;neighbour : graph[node]) {
            int nextNode = neighbour.first, nextTime = neighbour.second;
            if (time + nextTime &lt; dist[nextNode]) {
                dist[nextNode] = time + nextTime;
                pq.push({dist[nextNode], nextNode});
            }
        }
    }

    int maxTime = *std::max_element(dist.begin() + 1, dist.end());
    return maxTime == std::numeric_limits&lt;int&gt;::max() ? -1 : maxTime;
}
</code></pre>
<p>The algorithm uses Dijkstra's shortest path algorithm to find the shortest time it takes for the signal to reach every node.</p>
<ol>
<li>Create an adjacency list (graph) to represent the times between nodes.
   (note: we use different data structures depending on the language, but the idea is the same)</li>
<li>Initialize a distance array (dist) to store the shortest time it takes for the signal to arrive at each node. Set the initial values to infinity (maximum possible time) except for node k, which is set to 0 as it's the source.</li>
<li>Create a priority queue (pq) to store the time it takes to visit a node. Initialize it with node k and time 0.</li>
<li>Iterate through the priority queue while it's not empty:
   a. Pop the node with the smallest time from the priority queue.
   b. Check if the current time is greater than the distance for the current node; if true, continue to the next iteration.
   c. For each neighbor's node in the graph, compare the sum of the current time and travel time to reach the neighbor with the minimum distance for the neighbor in the dist array. If the new calculated time is less, update the dist array and push the neighbor with the new calculated time into the priority queue.</li>
<li>After the loop is finished, find the maximum value in the dist array (ignoring the first value, which is a placeholder). If the maximum value is infinity, return -1, as not all nodes could receive the signal. Otherwise, return the maximum time.</li>
</ol>
        </div>
      </div>
      <style>
        .model-code {
          max-height: 600px;
          overflow-y: auto;
        }

        .font-emoji {
          font-family: emoji;
        }
      </style>
    </div>
  </div>
</div>
<script>
  hljs.addPlugin(new CopyButtonPlugin());
  hljs.highlightAll();
</script>

  </body>
</html>