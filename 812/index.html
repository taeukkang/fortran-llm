<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Fine-tuning CodeLlama-7B for Fortran Code Generation</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/5.3.3/zephyr/bootstrap.min.css"
      integrity="sha512-CWXb9sx63+REyEBV/cte+dE1hSsYpJifb57KkqAXjsN3gZQt6phZt7e5RhgZrUbaNfCdtdpcqDZtuTEB+D3q2Q=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/styles/atom-one-dark.min.css" />
    <link
      rel="stylesheet"
      href="https://unpkg.com/highlightjs-copy/dist/highlightjs-copy.min.css" />
    <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/highlight.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/languages/fortran.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/languages/python.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/languages/cpp.min.js"></script>
    <script src="https://unpkg.com/highlightjs-copy/dist/highlightjs-copy.min.js"></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js"
      integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+"
      crossorigin="anonymous"></script>
  </head>
  <body>
    
<div class="container">
  <div class="row">
    <div class="col d-flex justify-content-between align-items-center">
      <h2>Largest Triangle Area</h2>
      <div>
        <a href="/" class="btn btn-outline-primary me-2">
          üè†
        </a>
        <a
          href="/806/"
          class="btn btn-outline-secondary me-2">
          ‚¨ÖÔ∏è
        </a>
        <a
          href="/819/"
          class="btn btn-outline-secondary">
          ‚û°Ô∏è
        </a>
      </div>
    </div>
  </div>

  <div class="row">
    <div class="col">
      <div class="leetcode-problem-content card">
        <div class="card-body">
          <p>Given an array of points on the <strong>X-Y</strong> plane <code>points</code> where <code>points[i] = [xi, yi]</code>, return <em>the area of the largest triangle that can be formed by any three different points</em>. Answers within <code>10-5</code> of the actual answer will be accepted.</p>
<p><strong>Example 1:</strong></p>
<p><strong>Input:</strong> points = [[0,0],[0,1],[1,0],[0,2],[2,0]]
<strong>Output:</strong> 2.00000
<strong>Explanation:</strong> The five points are shown in the above figure. The red triangle is the largest.</p>
<p><strong>Example 2:</strong></p>
<p><strong>Input:</strong> points = [[1,0],[0,0],[0,1]]
<strong>Output:</strong> 0.50000</p>
<p><strong>Constraints:</strong></p>
<ul>
<li><code>3 &lt;= points.length &lt;= 50</code></li>
<li><code>-50 &lt;= xi, yi &lt;= 50</code></li>
<li>All the given points are <strong>unique</strong>.</li>
</ul>
          <hr />
          <span class="fst-italic">
            Note: This problem is from
            <a
              href="https://leetcode.com/problems/largest-triangle-area/description/">LeetCode</a>.
          </span>
        </div>
      </div>
      <style>
        .leetcode-problem-content {
          max-height: 200px;
          overflow-y: auto;
        }
      </style>
    </div>
  </div>
  <div class="row">
    <div class="col-md-6">
      <ul class="nav nav-underline mb-2" id="myTab" role="tablist">
        <li class="nav-item" role="presentation">
          <button
            class="nav-link active"
            id="our-model-tab"
            data-bs-toggle="tab"
            data-bs-target="#our-model-tab-pane"
            type="button"
            role="tab"
            aria-controls="our-model-tab-pane"
            aria-selected="true">
            ü¶æ Our model
          </button>
        </li>
      </ul>
      <div class="tab-content" id="myTabContent">
        <div
          class="tab-pane fade show active"
          id="our-model-tab-pane"
          role="tabpanel"
          aria-labelledby="our-model-tab"
          tabindex="0">
          <div class="row mb-2">
            <div class="col">
              <div
                class="card border-danger"
                style="border-width: 2px">
                <div class="card-body">
                  <span class="font-emoji">
                    ‚ùå
                  </span>
                  <strong>Compiled</strong>
                </div>
              </div>
            </div>

            <div class="col">
              <div
                class="card border-danger"
                style="border-width: 2px">
                <div class="card-body">
                  <span class="font_emoji">
                    ‚ùå
                  </span>
                  <strong>Executed</strong>
                </div>
              </div>
            </div>

            <div class="col">
              <div
                class="card border-danger"
                style="border-width: 2px">
                <div class="card-body">
                  <span class="font-emoji">
                    ‚ùå
                  </span>
                  <strong>Correct</strong>
                </div>
              </div>
            </div>
          </div>
          <pre><code class="language-fortran model-code">program main
    ! Solves the problem:
    ! Given an array of points on the X-Y plane points where points[i] = [xi, yi], return the area of the largest triangle that can be formed by any three different points.
    use, intrinsic :: iso_fortran_env, only : error_unit, DP => REAL64
    implicit none
    integer, parameter :: n = 50
    real(kind=DP), dimension(n) :: points
    real(kind=DP) :: area
    integer :: i, j, k

    call get_points(points)

    do i = 1, size(points)-2
        do j = i+1, size(points)-1
            do k = j+1, size(points)
                area = triangle_area(points(i), points(j), points(k))
                write (unit=error_unit, fmt='(A,F10.5)') 'Area: ', area
            end do
        end do
    end do

contains

    subroutine get_points(points)
        ! Reads the input points from stdin and stores them in the array points
        implicit none
        real(kind=DP), dimension(:), intent(out) :: points
        integer :: i, n
        character(len=100) :: line

        read (unit=input_unit, fmt='(I10)') n
        if (n > size(points)) then
            write (unit=error_unit, fmt='(A)') 'Too many points'
            stop 1
        end if

        do i = 1, n
            read (unit=input_unit, fmt='(A)') line
            read (unit=line, fmt='(2(I10,1X))') points(i), points(i+n)
        end do
    end subroutine get_points

    function triangle_area(a, b, c) result(area)
        ! Returns the area of the triangle formed by the points a, b and c
        implicit none
        real(kind=DP), value :: a(2), b(2), c(2)
        real(kind=DP) :: area

        area = abs((a(1)*b(2)+b(1)*c(2)+c(1)*a(2)-a(2)*b(1)-b(2)*c(1)-c(2)*a(1)) / 2.0D0)
    end function triangle_area

end program main</code></pre>

           
          <div class="alert alert-danger" role="alert">
            <strong>stderr</strong>
            <pre>temp.f95:46:33:

   46 |         real(kind=DP), value :: a(2), b(2), c(2)
      |                                 1
Error: VALUE attribute conflicts with DIMENSION attribute at (1)
temp.f95:43:28:

   43 |     function triangle_area(a, b, c) result(area)
      |                            1
Error: Symbol ‚Äòa‚Äô at (1) has no IMPLICIT type
temp.f95:43:31:

   43 |     function triangle_area(a, b, c) result(area)
      |                               1
Error: Symbol ‚Äòb‚Äô at (1) has no IMPLICIT type
temp.f95:43:34:

   43 |     function triangle_area(a, b, c) result(area)
      |                                  1
Error: Symbol ‚Äòc‚Äô at (1) has no IMPLICIT type
temp.f95:31:29:

   31 |         read (unit=input_unit, fmt='(I10)') n
      |                             1
Error: Symbol ‚Äòinput_unit‚Äô at (1) has no IMPLICIT type
temp.f95:49:76:

   49 |         area = abs((a(1)*b(2)+b(1)*c(2)+c(1)*a(2)-a(2)*b(1)-b(2)*c(1)-c(2)*a(1)) / 2.0D0)
      |                                                                            1
Error: Function ‚Äòa‚Äô at (1) has no IMPLICIT type
temp.f95:16:23:

   16 |                 area = triangle_area(points(i), points(j), points(k))
      |                       1
Error: Type mismatch in argument ‚Äòa‚Äô at (1); passed REAL(8) to UNKNOWN
</pre>
          </div>
          
        </div>
      </div>
    </div>
    <div class="col-md-6">
      <ul class="nav nav-underline mb-2" id="myTab" role="tablist">
        <li class="nav-item" role="presentation">
          <button
            class="nav-link active"
            id="codellama-tab"
            data-bs-toggle="tab"
            data-bs-target="#codellama-tab-pane"
            type="button"
            role="tab"
            aria-controls="codellama-tab-pane"
            aria-selected="true">
            ü¶ô CodeLlama-7B
          </button>
        </li>
        <li class="nav-item" role="presentation">
          <button
            class="nav-link"
            id="python-tab"
            data-bs-toggle="tab"
            data-bs-target="#python-tab-pane"
            type="button"
            role="tab"
            aria-controls="python-tab-pane"
            aria-selected="false">
            üêç Python
          </button>
        </li>
        <li class="nav-item" role="presentation">
          <button
            class="nav-link"
            id="cpp-tab"
            data-bs-toggle="tab"
            data-bs-target="#cpp-tab-pane"
            type="button"
            role="tab"
            aria-controls="cpp-tab-pane"
            aria-selected="false">
            ü§† C++
          </button>
        </li>
      </ul>
      <div class="tab-content" id="myTabContent">
        <div
          class="tab-pane fade show active"
          id="codellama-tab-pane"
          role="tabpanel"
          aria-labelledby="codellama-tab"
          tabindex="0">
          <div class="row mb-2">
            <div class="col">
              <div
                class="card border-danger"
                style="border-width: 2px">
                <div class="card-body">
                  <span class="font-emoji">
                    ‚ùå
                  </span>
                  <strong>Compiled</strong>
                </div>
              </div>
            </div>

            <div class="col">
              <div
                class="card border-danger"
                style="border-width: 2px">
                <div class="card-body">
                  <span class="font-emoji">
                    ‚ùå
                  </span>
                  <strong>Executed</strong>
                </div>
              </div>
            </div>

            <div class="col">
              <div
                class="card border-danger"
                style="border-width: 2px">
                <div class="card-body">
                  <span class="font-emoji">
                    ‚ùå
                  </span>
                  <strong>Correct</strong>
                </div>
              </div>
            </div>
          </div>
          <pre><code class="language-fortran model-code">module largest_triangle

implicit none

contains

real function largest_triangle(points) result(area)

! Given an array of points on the X-Y plane, return the area of the largest triangle that can be formed by any three different points.

! Input:
!   points: array of points on the X-Y plane, where points[i] = [xi, yi]
! Output:
!   area: the area of the largest triangle that can be formed by any three different points

real, intent(in) :: points(:, :)
real :: x1, y1, x2, y2, x3, y3, area

! Initialize the largest triangle area to 0
area = 0.0

! Loop through all possible combinations of three points
do i = 1, size(points, 1) - 2
    do j = i + 1, size(points, 1) - 1
        do k = j + 1, size(points, 1)

            ! Calculate the area of the current triangle
            x1 = points(i, 1)
            y1 = points(i, 2)
            x2 = points(j, 1)
            y2 = points(j, 2)
            x3 = points(k, 1)
            y3 = points(k, 2)
            area = abs((x1 * (y2 - y3) + x2 * (y3 - y1) + x3 * (y1 - y2)) / 2.0)

            ! Update the largest triangle area if necessary
            if (area > largest_triangle) then
                largest_triangle = area
            end if

        end do
    end do
end do

end function

end module

program test_largest_triangle

use largest_triangle

implicit none

! Test case 1:
! Input: [[0,0], [0,1], [1,0], [0,2], [2,0]]
! Output: 2.00000
! Explanation: The five points are shown in the above figure. The red triangle is the largest.
call assert(abs(largest_triangle([[0,0], [0,1], [1,0], [0,2], [2,0]]) - 2.0) < 1e-5)

! Test case 2:
! Input: [[1,0], [0,0], [0,1]]
! Output: 0.50000
call assert(abs(largest_triangle([[1,0], [0,0], [0,1]]) - 0.5) < 1e-5)

contains

subroutine assert(condition)

logical, intent(in) :: condition
integer :: error_code

if (.not. condition) then
    error_code = 1
else
    error_code = 0
end if

if (error_code /= 0) then
    write (*, '(A)') 'Test failed.'
else
    write (*, '(A)') 'Test passed.'
end if

end subroutine

end program
</code></pre>
           
          <div class="alert alert-danger" role="alert">
            <strong>stderr</strong>
            <pre>temp.f95:7:30:

    7 | real function largest_triangle(points) result(area)
      |                              1
Error: MODULE attribute of ‚Äòlargest_triangle‚Äô conflicts with PROCEDURE attribute at (1)
temp.f95:16:32:

   16 | real, intent(in) :: points(:, :)
      |                                1
Error: Unexpected data declaration statement in CONTAINS section at (1)
temp.f95:17:36:

   17 | real :: x1, y1, x2, y2, x3, y3, area
      |                                    1
Error: Unexpected data declaration statement in CONTAINS section at (1)
temp.f95:20:10:

   20 | area = 0.0
      |          1
Error: Unexpected assignment statement in CONTAINS section at (1)
temp.f95:23:29:

   23 | do i = 1, size(points, 1) - 2
      |                             1
Error: Unexpected DO statement in CONTAINS section at (1)
temp.f95:24:37:

   24 |     do j = i + 1, size(points, 1) - 1
      |                                     1
Error: Unexpected DO statement in CONTAINS section at (1)
temp.f95:25:37:

   25 |         do k = j + 1, size(points, 1)
      |                                     1
Error: Unexpected DO statement in CONTAINS section at (1)
temp.f95:28:29:

   28 |             x1 = points(i, 1)
      |                             1
Error: Unexpected assignment statement in CONTAINS section at (1)
temp.f95:29:29:

   29 |             y1 = points(i, 2)
      |                             1
Error: Unexpected assignment statement in CONTAINS section at (1)
temp.f95:30:29:

   30 |             x2 = points(j, 1)
      |                             1
Error: Unexpected assignment statement in CONTAINS section at (1)
temp.f95:31:29:

   31 |             y2 = points(j, 2)
      |                             1
Error: Unexpected assignment statement in CONTAINS section at (1)
temp.f95:32:29:

   32 |             x3 = points(k, 1)
      |                             1
Error: Unexpected assignment statement in CONTAINS section at (1)
temp.f95:33:29:

   33 |             y3 = points(k, 2)
      |                             1
Error: Unexpected assignment statement in CONTAINS section at (1)
temp.f95:34:80:

   34 |             area = abs((x1 * (y2 - y3) + x2 * (y3 - y1) + x3 * (y1 - y2)) / 2.0)
      |                                                                                1
Error: Unexpected assignment statement in CONTAINS section at (1)
temp.f95:37:40:

   37 |             if (area > largest_triangle) then
      |                                        1
Error: Symbol at (1) is not appropriate for an expression
temp.f95:38:33:

   38 |                 largest_triangle = area
      |                                 1
Error: Symbol ‚Äòlargest_triangle‚Äô at (1) has already been host associated
temp.f95:39:15:

   39 |             end if
      |               1
Error: Expecting END MODULE statement at (1)
temp.f95:41:11:

   41 |         end do
      |           1
Error: Expecting END MODULE statement at (1)
temp.f95:42:7:

   42 |     end do
      |       1
Error: Expecting END MODULE statement at (1)
temp.f95:43:3:

   43 | end do
      |   1
Error: Expecting END MODULE statement at (1)
temp.f95:45:3:

   45 | end function
      |   1
Error: Expecting END MODULE statement at (1)
temp.f95:51:5:

   51 | use largest_triangle
      |     1
Fatal Error: Cannot open module file ‚Äòlargest_triangle.mod‚Äô for reading at (1): No such file or directory
compilation terminated.
</pre>
          </div>
          
        </div>
        <div
          class="tab-pane fade"
          id="python-tab-pane"
          role="tabpanel"
          aria-labelledby="python-tab"
          tabindex="0">
          <alert class="alert alert-info d-flex">
            <strong>üåê Data from online sources</strong>
          </alert>
          <pre><code class="language-python">def is_shifted(s, goal):
    if len(s) != len(goal): return False

    s = s + s
    return goal in s
</code></pre>
<p>The algorithm first checks if the length of both input strings is not equal, in which case it returns false as they can't possibly be shifted versions of each other. If they are of the same length, it concatenates the string <code>s</code> with itself, which creates all possible shifted combinations of <code>s</code>. Then it checks whether the <code>goal</code> is present in this concatenated string or not. If it is present, it returns true (as <code>s</code> can be shifted to obtain the <code>goal</code>), else it returns false.</p>
        </div>
        <div
          class="tab-pane fade"
          id="cpp-tab-pane"
          role="tabpanel"
          aria-labelledby="cpp-tab"
          tabindex="0">
          <alert class="alert alert-info d-flex">
            <strong>üåê Data from online sources</strong>
          </alert>
          <pre><code class="language-cpp">bool isShifted(string s, string goal) {
    if(s.length() != goal.length()) return false;

    s = s + s;
    return s.find(goal) != string::npos;
}
</code></pre>
<p>The algorithm first checks if the length of both input strings is not equal, in which case it returns false as they can't possibly be shifted versions of each other. If they are of the same length, it concatenates the string <code>s</code> with itself, which creates all possible shifted combinations of <code>s</code>. Then it checks whether the <code>goal</code> is present in this concatenated string or not. If it is present, it returns true (as <code>s</code> can be shifted to obtain the <code>goal</code>), else it returns false.</p>
        </div>
      </div>
      <style>
        .model-code {
          max-height: 600px;
          overflow-y: auto;
        }

        .font-emoji {
          font-family: emoji;
        }
      </style>
    </div>
  </div>
</div>
<script>
  hljs.addPlugin(new CopyButtonPlugin());
  hljs.highlightAll();
</script>

  </body>
</html>