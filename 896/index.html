<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Fine-tuning CodeLlama-7B for Fortran Code Generation</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/5.3.3/zephyr/bootstrap.min.css"
      integrity="sha512-CWXb9sx63+REyEBV/cte+dE1hSsYpJifb57KkqAXjsN3gZQt6phZt7e5RhgZrUbaNfCdtdpcqDZtuTEB+D3q2Q=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/styles/atom-one-dark.min.css" />
    <link
      rel="stylesheet"
      href="https://unpkg.com/highlightjs-copy/dist/highlightjs-copy.min.css" />
    <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/highlight.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/languages/fortran.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/languages/python.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/languages/cpp.min.js"></script>
    <script src="https://unpkg.com/highlightjs-copy/dist/highlightjs-copy.min.js"></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js"
      integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+"
      crossorigin="anonymous"></script>
  </head>
  <body>
    
<div class="container">
  <div class="row">
    <div class="col d-flex justify-content-between align-items-center">
      <h2>Monotonic Array</h2>
      <div>
        <a href="/" class="btn btn-outline-primary me-2">
          üè†
        </a>
        <a
          href="/892/"
          class="btn btn-outline-secondary me-2">
          ‚¨ÖÔ∏è
        </a>
        <a
          href="/897/"
          class="btn btn-outline-secondary">
          ‚û°Ô∏è
        </a>
      </div>
    </div>
  </div>

  <div class="row">
    <div class="col">
      <div class="leetcode-problem-content card">
        <div class="card-body">
          <p>An array is <strong>monotonic</strong> if it is either monotone increasing or monotone decreasing.</p>
<p>An array <code>nums</code> is monotone increasing if for all <code>i &lt;= j</code>, <code>nums[i] &lt;= nums[j]</code>. An array <code>nums</code> is monotone decreasing if for all <code>i &lt;= j</code>, <code>nums[i] &gt;= nums[j]</code>.</p>
<p>Given an integer array <code>nums</code>, return <code>true</code> <em>if the given array is monotonic, or</em> <code>false</code> <em>otherwise</em>.</p>
<p><strong>Example 1:</strong></p>
<p><strong>Input:</strong> nums = [1,2,2,3]
<strong>Output:</strong> true</p>
<p><strong>Example 2:</strong></p>
<p><strong>Input:</strong> nums = [6,5,4,4]
<strong>Output:</strong> true</p>
<p><strong>Example 3:</strong></p>
<p><strong>Input:</strong> nums = [1,3,2]
<strong>Output:</strong> false</p>
<p><strong>Constraints:</strong></p>
<ul>
<li><code>1 &lt;= nums.length &lt;= 105</code></li>
<li><code>-105 &lt;= nums[i] &lt;= 105</code></li>
</ul>
          <hr />
          <span class="fst-italic">
            Note: This problem is from
            <a
              href="https://leetcode.com/problems/monotonic-array/description/">LeetCode</a>.
          </span>
        </div>
      </div>
      <style>
        .leetcode-problem-content {
          max-height: 200px;
          overflow-y: auto;
        }
      </style>
    </div>
  </div>
  <div class="row">
    <div class="col-md-6">
      <ul class="nav nav-underline mb-2" id="myTab" role="tablist">
        <li class="nav-item" role="presentation">
          <button
            class="nav-link active"
            id="our-model-tab"
            data-bs-toggle="tab"
            data-bs-target="#our-model-tab-pane"
            type="button"
            role="tab"
            aria-controls="our-model-tab-pane"
            aria-selected="true">
            ü¶æ Our model
          </button>
        </li>
      </ul>
      <div class="tab-content" id="myTabContent">
        <div
          class="tab-pane fade show active"
          id="our-model-tab-pane"
          role="tabpanel"
          aria-labelledby="our-model-tab"
          tabindex="0">
          <div class="row mb-2">
            <div class="col">
              <div
                class="card border-danger"
                style="border-width: 2px">
                <div class="card-body">
                  <span class="font-emoji">
                    ‚ùå
                  </span>
                  <strong>Compiled</strong>
                </div>
              </div>
            </div>

            <div class="col">
              <div
                class="card border-danger"
                style="border-width: 2px">
                <div class="card-body">
                  <span class="font_emoji">
                    ‚ùå
                  </span>
                  <strong>Executed</strong>
                </div>
              </div>
            </div>

            <div class="col">
              <div
                class="card border-danger"
                style="border-width: 2px">
                <div class="card-body">
                  <span class="font-emoji">
                    ‚ùå
                  </span>
                  <strong>Correct</strong>
                </div>
              </div>
            </div>
          </div>
          <pre><code class="language-fortran model-code">program monotonic_array
    implicit none

    integer, parameter :: n = 4
    integer, dimension(n) :: nums
    logical :: result

    ! monotonic increasing
    nums = [1, 2, 2, 3]
    result = monotonic_increasing(nums)
    print '(A, L1)', 'Monotonic increasing: ', result

    ! monotonic decreasing
    nums = [6, 5, 4, 4]
    result = monotonic_decreasing(nums)
    print '(A, L1)', 'Monotonic decreasing: ', result

    ! not monotonic
    nums = [1, 3, 2]
    result = monotonic_increasing(nums)
    print '(A, L1)', 'Not monotonic: ', result

contains

    function monotonic_increasing(nums) result(is_monotonic)
        implicit none
        integer, dimension(:), intent(in) :: nums
        logical :: is_monotonic
        integer :: i, j

        is_monotonic = .true.
        do i = 1, size(nums)-1
            do j = i+1, size(nums)
                if (nums(i) > nums(j)) then
                    is_monotonic = .false.
                    exit
                end if
            end do
            if (.not. is_monotonic) exit
        end do
    end function monotonic_increasing

    function monotonic_decreasing(nums) result(is_monotonic)
        implicit none
        integer, dimension(:), intent(in) :: nums
        logical :: is_monotonic
        integer :: i, j

        is_monotonic = .true.
        do i = 1, size(nums)-1
            do j = i+1, size(nums)
                if (nums(i) < nums(j)) then
                    is_monotonic = .false.
                    exit
                end if
            end do
            if (.not. is_monotonic) exit
        end do
    end function monotonic_decreasing
end program monotonic_array</code></pre>

           
          <div class="alert alert-danger" role="alert">
            <strong>stderr</strong>
            <pre>temp.f95:19:4:

   19 |     nums = [1, 3, 2]
      |    1
Error: Different shape for array assignment at (1) on dimension 1 (4 and 3)
</pre>
          </div>
          
        </div>
      </div>
    </div>
    <div class="col-md-6">
      <ul class="nav nav-underline mb-2" id="myTab" role="tablist">
        <li class="nav-item" role="presentation">
          <button
            class="nav-link active"
            id="codellama-tab"
            data-bs-toggle="tab"
            data-bs-target="#codellama-tab-pane"
            type="button"
            role="tab"
            aria-controls="codellama-tab-pane"
            aria-selected="true">
            ü¶ô CodeLlama-7B
          </button>
        </li>
        <li class="nav-item" role="presentation">
          <button
            class="nav-link"
            id="python-tab"
            data-bs-toggle="tab"
            data-bs-target="#python-tab-pane"
            type="button"
            role="tab"
            aria-controls="python-tab-pane"
            aria-selected="false">
            üêç Python
          </button>
        </li>
        <li class="nav-item" role="presentation">
          <button
            class="nav-link"
            id="cpp-tab"
            data-bs-toggle="tab"
            data-bs-target="#cpp-tab-pane"
            type="button"
            role="tab"
            aria-controls="cpp-tab-pane"
            aria-selected="false">
            ü§† C++
          </button>
        </li>
      </ul>
      <div class="tab-content" id="myTabContent">
        <div
          class="tab-pane fade show active"
          id="codellama-tab-pane"
          role="tabpanel"
          aria-labelledby="codellama-tab"
          tabindex="0">
          <div class="row mb-2">
            <div class="col">
              <div
                class="card border-danger"
                style="border-width: 2px">
                <div class="card-body">
                  <span class="font-emoji">
                    ‚ùå
                  </span>
                  <strong>Compiled</strong>
                </div>
              </div>
            </div>

            <div class="col">
              <div
                class="card border-danger"
                style="border-width: 2px">
                <div class="card-body">
                  <span class="font-emoji">
                    ‚ùå
                  </span>
                  <strong>Executed</strong>
                </div>
              </div>
            </div>

            <div class="col">
              <div
                class="card border-danger"
                style="border-width: 2px">
                <div class="card-body">
                  <span class="font-emoji">
                    ‚ùå
                  </span>
                  <strong>Correct</strong>
                </div>
              </div>
            </div>
          </div>
          <pre><code class="language-fortran model-code">```
module monotonic_array_module
    implicit none

contains

    function is_monotonic_array(nums) result(is_monotonic)
        integer, intent(in) :: nums(:)
        logical :: is_monotonic
        integer :: i, j

        is_monotonic = .true.

        do i = 2, size(nums)
            if (nums(i) < nums(i-1)) then
                is_monotonic = .false.
                exit
            end if
        end do

        if (is_monotonic) then
            do i = 2, size(nums)
                if (nums(i) > nums(i-1)) then
                    is_monotonic = .false.
                    exit
                end if
            end do
        end if

        return
    end function is_monotonic_array
end module monotonic_array_module

program main
    use monotonic_array_module
    implicit none

    integer, parameter :: nums1(4) = [1, 2, 2, 3]
    integer, parameter :: nums2(4) = [6, 5, 4, 4]
    integer, parameter :: nums3(3) = [1, 3, 2]

    write (*, '(A)') 'Examples:'
    write (*, '(A, L1)') 'nums1: ', is_monotonic_array(nums1)
    write (*, '(A, L1)') 'nums2: ', is_monotonic_array(nums2)
    write (*, '(A, L1)') 'nums3: ', is_monotonic_array(nums3)

end program main
```
</code></pre>
           
          <div class="alert alert-danger" role="alert">
            <strong>stderr</strong>
            <pre>temp.f95:1:2:

    1 | ```
      |  1
Error: Invalid character in name at (1)
temp.f95:48:2:

   48 | ```
      |  1
Error: Invalid character in name at (1)
</pre>
          </div>
          
        </div>
        <div
          class="tab-pane fade"
          id="python-tab-pane"
          role="tabpanel"
          aria-labelledby="python-tab"
          tabindex="0">
          <alert class="alert alert-info d-flex">
            <strong>üåê Data from online sources</strong>
          </alert>
          <pre><code class="language-python">class TreeNode:
    def __init__(self, val=0, left=None, right=None):
        self.val = val
        self.left = left
        self.right = right

def maxDepth(node):
    if node is None:
        return 0
    else:
        return max(maxDepth(node.left), maxDepth(node.right)) + 1

def subtreeWithAllDeepest(root):
    if root is None:
        return None

    leftDepth = maxDepth(root.left)
    rightDepth = maxDepth(root.right)

    if leftDepth == rightDepth:
        return root

    if leftDepth &gt; rightDepth:
        return subtreeWithAllDeepest(root.left)
    else:
        return subtreeWithAllDeepest(root.right)
</code></pre>
<p>The algorithm works as follows:
1. Create a helper function <code>maxDepth</code> to find the maximum depth of a given node in the tree.
2. Create the main function <code>subtreeWithAllDeepest</code> that takes the root of the tree as input.
3. If the root is <code>null</code>, return <code>null</code>.
4. Calculate the maximum depth of the left and right children of the root.
5. If the maximum depths of both children are equal, return the root since the subtree with all deepest nodes is rooted at the current root.
6. If the maximum depth of the left child is greater than that of the right child, the subtree with all deepest nodes must be in the left subtree. So, call the function <code>subtreeWithAllDeepest</code> recursively on the left child.
7. If the maximum depth of the right child is greater than that of the left child, the subtree with all deepest nodes must be in the right subtree. So, call the function <code>subtreeWithAllDeepest</code> recursively on the right child. </p>
<p>This algorithm has a time complexity of O(n) where n is the number of nodes in the tree since it recursively traverses the entire tree in the worst case.</p>
        </div>
        <div
          class="tab-pane fade"
          id="cpp-tab-pane"
          role="tabpanel"
          aria-labelledby="cpp-tab"
          tabindex="0">
          <alert class="alert alert-info d-flex">
            <strong>üåê Data from online sources</strong>
          </alert>
          <pre><code class="language-cpp">class TreeNode {
public:
    int val;
    TreeNode* left;
    TreeNode* right;
    TreeNode(int v): val(v), left(NULL), right(NULL) {}
};

int maxDepth(TreeNode* node)
{
    if (node == NULL)
        return 0;
    else
        return max(maxDepth(node-&gt;left), maxDepth(node-&gt;right)) + 1;
}

TreeNode* subtreeWithAllDeepest(TreeNode* root)
{
    if (root == NULL)
        return NULL;

    int leftDepth = maxDepth(root-&gt;left);
    int rightDepth = maxDepth(root-&gt;right);

    if (leftDepth == rightDepth)
        return root;

    if (leftDepth &gt; rightDepth)
        return subtreeWithAllDeepest(root-&gt;left);
    else
        return subtreeWithAllDeepest(root-&gt;right);
}
</code></pre>
<p>The algorithm works as follows:
1. Create a helper function <code>maxDepth</code> to find the maximum depth of a given node in the tree.
2. Create the main function <code>subtreeWithAllDeepest</code> that takes the root of the tree as input.
3. If the root is <code>null</code>, return <code>null</code>.
4. Calculate the maximum depth of the left and right children of the root.
5. If the maximum depths of both children are equal, return the root since the subtree with all deepest nodes is rooted at the current root.
6. If the maximum depth of the left child is greater than that of the right child, the subtree with all deepest nodes must be in the left subtree. So, call the function <code>subtreeWithAllDeepest</code> recursively on the left child.
7. If the maximum depth of the right child is greater than that of the left child, the subtree with all deepest nodes must be in the right subtree. So, call the function <code>subtreeWithAllDeepest</code> recursively on the right child. </p>
<p>This algorithm has a time complexity of O(n) where n is the number of nodes in the tree since it recursively traverses the entire tree in the worst case.</p>
        </div>
      </div>
      <style>
        .model-code {
          max-height: 600px;
          overflow-y: auto;
        }

        .font-emoji {
          font-family: emoji;
        }
      </style>
    </div>
  </div>
</div>
<script>
  hljs.addPlugin(new CopyButtonPlugin());
  hljs.highlightAll();
</script>

  </body>
</html>