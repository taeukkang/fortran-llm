<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Fine-tuning CodeLlama-7B for Fortran Code Generation</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/5.3.3/zephyr/bootstrap.min.css"
      integrity="sha512-CWXb9sx63+REyEBV/cte+dE1hSsYpJifb57KkqAXjsN3gZQt6phZt7e5RhgZrUbaNfCdtdpcqDZtuTEB+D3q2Q=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/styles/atom-one-dark.min.css" />
    <link
      rel="stylesheet"
      href="https://unpkg.com/highlightjs-copy/dist/highlightjs-copy.min.css" />
    <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/highlight.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/languages/fortran.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/languages/python.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/languages/cpp.min.js"></script>
    <script src="https://unpkg.com/highlightjs-copy/dist/highlightjs-copy.min.js"></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js"
      integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+"
      crossorigin="anonymous"></script>
  </head>
  <body>
    
<div class="container">
  <div class="row">
    <div class="col d-flex justify-content-between align-items-center">
      <h2>Smallest Range I</h2>
      <div>
        <a href="/fortran-llm/" class="btn btn-outline-primary me-2">
          üè†
        </a>
        <a
          href="/fortran-llm/905/"
          class="btn btn-outline-secondary me-2">
          ‚¨ÖÔ∏è
        </a>
        <a
          href="/fortran-llm/914/"
          class="btn btn-outline-secondary">
          ‚û°Ô∏è
        </a>
      </div>
    </div>
  </div>

  <div class="row">
    <div class="col">
      <div class="leetcode-problem-content card">
        <div class="card-body">
          <p>You are given an integer array <code>nums</code> and an integer <code>k</code>.</p>
<p>In one operation, you can choose any index <code>i</code> where <code>0 &lt;= i &lt; nums.length</code> and change <code>nums[i]</code> to <code>nums[i] + x</code> where <code>x</code> is an integer from the range <code>[-k, k]</code>. You can apply this operation <strong>at most once</strong> for each index <code>i</code>.</p>
<p>The <strong>score</strong> of <code>nums</code> is the difference between the maximum and minimum elements in <code>nums</code>.</p>
<p>Return <em>the minimum <strong>score</strong> of</em> <code>nums</code> <em>after applying the mentioned operation at most once for each index in it</em>.</p>
<p><strong>Example 1:</strong></p>
<p><strong>Input:</strong> nums = [1], k = 0
<strong>Output:</strong> 0
<strong>Explanation:</strong> The score is max(nums) - min(nums) = 1 - 1 = 0.</p>
<p><strong>Example 2:</strong></p>
<p><strong>Input:</strong> nums = [0,10], k = 2
<strong>Output:</strong> 6
<strong>Explanation:</strong> Change nums to be [2, 8]. The score is max(nums) - min(nums) = 8 - 2 = 6.</p>
<p><strong>Example 3:</strong></p>
<p><strong>Input:</strong> nums = [1,3,6], k = 3
<strong>Output:</strong> 0
<strong>Explanation:</strong> Change nums to be [4, 4, 4]. The score is max(nums) - min(nums) = 4 - 4 = 0.</p>
<p><strong>Constraints:</strong></p>
<ul>
<li><code>1 &lt;= nums.length &lt;= 104</code></li>
<li><code>0 &lt;= nums[i] &lt;= 104</code></li>
<li><code>0 &lt;= k &lt;= 104</code></li>
</ul>
          <hr />
          <span class="fst-italic">
            Note: This problem is from
            <a
              href="https://leetcode.com/problems/smallest-range-i/description/">LeetCode</a>.
          </span>
        </div>
      </div>
      <style>
        .leetcode-problem-content {
          max-height: 200px;
          overflow-y: auto;
        }
      </style>
    </div>
  </div>
  <div class="row">
    <div class="col-md-6">
      <ul class="nav nav-underline mb-2" id="myTab" role="tablist">
        <li class="nav-item" role="presentation">
          <button
            class="nav-link active"
            id="our-model-tab"
            data-bs-toggle="tab"
            data-bs-target="#our-model-tab-pane"
            type="button"
            role="tab"
            aria-controls="our-model-tab-pane"
            aria-selected="true">
            ü¶æ Our model
          </button>
        </li>
      </ul>
      <div class="tab-content" id="myTabContent">
        <div
          class="tab-pane fade show active"
          id="our-model-tab-pane"
          role="tabpanel"
          aria-labelledby="our-model-tab"
          tabindex="0">
          <div class="row mb-2">
            <div class="col">
              <div
                class="card border-danger"
                style="border-width: 2px">
                <div class="card-body">
                  <span class="font-emoji">
                    ‚ùå
                  </span>
                  <strong>Compiled</strong>
                </div>
              </div>
            </div>

            <div class="col">
              <div
                class="card border-danger"
                style="border-width: 2px">
                <div class="card-body">
                  <span class="font_emoji">
                    ‚ùå
                  </span>
                  <strong>Executed</strong>
                </div>
              </div>
            </div>

            <div class="col">
              <div
                class="card border-danger"
                style="border-width: 2px">
                <div class="card-body">
                  <span class="font-emoji">
                    ‚ùå
                  </span>
                  <strong>Correct</strong>
                </div>
              </div>
            </div>
          </div>
          <pre><code class="language-fortran model-code">program main
    implicit none

    integer, parameter :: n = 1
    integer, parameter :: k = 0
    integer, dimension(n) :: nums
    integer :: i, j, x
    integer :: score

    ! Example 1
    nums = [1]
    write (*, '(A)') 'Example 1:'
    write (*, '(A)') 'Input: nums = [1], k = 0'
    write (*, '(A)') 'Output:', solve(nums, k)
    write (*, '(A)') 'Expected: 0'
    write (*, *)

    ! Example 2
    nums = [0, 10]
    write (*, '(A)') 'Example 2:'
    write (*, '(A)') 'Input: nums = [0, 10], k = 2'
    write (*, '(A)') 'Output:', solve(nums, k)
    write (*, '(A)') 'Expected: 6'
    write (*, *)

    ! Example 3
    nums = [1, 3, 6]
    write (*, '(A)') 'Example 3:'
    write (*, '(A)') 'Input: nums = [1, 3, 6], k = 3'
    write (*, '(A)') 'Output:', solve(nums, k)
    write (*, '(A)') 'Expected: 0'
    write (*, *)

contains

    function solve(nums, k) result(min_score)
        implicit none
        integer, intent(in) :: nums(:), k
        integer :: min_score
        integer :: i, j, x

        do i = 1, size(nums)
            do j = 1, size(nums)
                if (i /= j) then
                    x = nums(j) + k
                    if (x >= 0 .and. x <= 100) then
                        nums(j) = x
                    end if
                end if
            end do
        end do

        min_score = maxval(nums) - minval(nums)

    end function solve

end program main</code></pre>

           
          <div class="alert alert-danger" role="alert">
            <strong>stderr</strong>
            <pre>temp.f95:47:24:

   47 |                         nums(j) = x
      |                        1
Error: Dummy argument ‚Äònums‚Äô with INTENT(IN) in variable definition context (assignment) at (1)
temp.f95:19:4:

   19 |     nums = [0, 10]
      |    1
Error: Different shape for array assignment at (1) on dimension 1 (1 and 2)
temp.f95:27:4:

   27 |     nums = [1, 3, 6]
      |    1
Error: Different shape for array assignment at (1) on dimension 1 (1 and 3)
</pre>
          </div>
          
        </div>
      </div>
    </div>
    <div class="col-md-6">
      <ul class="nav nav-underline mb-2" id="myTab" role="tablist">
        <li class="nav-item" role="presentation">
          <button
            class="nav-link active"
            id="codellama-tab"
            data-bs-toggle="tab"
            data-bs-target="#codellama-tab-pane"
            type="button"
            role="tab"
            aria-controls="codellama-tab-pane"
            aria-selected="true">
            ü¶ô CodeLlama-7B
          </button>
        </li>
        <li class="nav-item" role="presentation">
          <button
            class="nav-link"
            id="python-tab"
            data-bs-toggle="tab"
            data-bs-target="#python-tab-pane"
            type="button"
            role="tab"
            aria-controls="python-tab-pane"
            aria-selected="false">
            üêç Python
          </button>
        </li>
        <li class="nav-item" role="presentation">
          <button
            class="nav-link"
            id="cpp-tab"
            data-bs-toggle="tab"
            data-bs-target="#cpp-tab-pane"
            type="button"
            role="tab"
            aria-controls="cpp-tab-pane"
            aria-selected="false">
            ü§† C++
          </button>
        </li>
      </ul>
      <div class="tab-content" id="myTabContent">
        <div
          class="tab-pane fade show active"
          id="codellama-tab-pane"
          role="tabpanel"
          aria-labelledby="codellama-tab"
          tabindex="0">
          <div class="row mb-2">
            <div class="col">
              <div
                class="card border-danger"
                style="border-width: 2px">
                <div class="card-body">
                  <span class="font-emoji">
                    ‚ùå
                  </span>
                  <strong>Compiled</strong>
                </div>
              </div>
            </div>

            <div class="col">
              <div
                class="card border-danger"
                style="border-width: 2px">
                <div class="card-body">
                  <span class="font-emoji">
                    ‚ùå
                  </span>
                  <strong>Executed</strong>
                </div>
              </div>
            </div>

            <div class="col">
              <div
                class="card border-danger"
                style="border-width: 2px">
                <div class="card-body">
                  <span class="font-emoji">
                    ‚ùå
                  </span>
                  <strong>Correct</strong>
                </div>
              </div>
            </div>
          </div>
          <pre><code class="language-fortran model-code">module MinimumScoreTrips
    implicit none
    private
    public :: minimumScoreTrips
contains
    function minimumScoreTrips(nums, k) result(min_score)
        integer, intent(in) :: nums(:)
        integer, intent(in) :: k
        integer :: min_score
        integer :: max_val, min_val
        integer :: i

        ! Find the maximum and minimum values in the array
        max_val = maxval(nums)
        min_val = minval(nums)

        ! Initialize the minimum score to the difference between the maximum and minimum values
        min_score = max_val - min_val

        ! Loop through each index in the array
        do i = 1, size(nums)
            ! Check if the value at the current index is within the range of k
            if (abs(nums(i)) <= k) then
                ! If it is, then calculate the new maximum and minimum values
                max_val = max(max_val, nums(i) + k)
                min_val = min(min_val, nums(i) - k)

                ! Calculate the new score
                min_score = min(min_score, max_val - min_val)
            end if
        end do
    end function minimumScoreTrips
end module MinimumScoreTrips

! Test the function with the given examples
program test_minimum_score_trips
    use MinimumScoreTrips
    implicit none
    integer, parameter :: nums1(1) = [1]
    integer, parameter :: nums2(2) = [0, 10]
    integer, parameter :: nums3(3) = [1, 3, 6]
    integer, parameter :: k1 = 0
    integer, parameter :: k2 = 2
    integer, parameter :: k3 = 3
    integer :: min_score

    ! Test case 1:
    min_score = minimumScoreTrips(nums1, k1)
    write (*,*) "Test case 1:", min_score

    ! Test case 2:
    min_score = minimumScoreTrips(nums2, k2)
    write (*,*) "Test case 2:", min_score

    ! Test case 3:
    min_score = minimumScoreTrips(nums3, k3)
    write (*,*) "Test case 3:", min_score
end program test_minimum_score_trips
</code></pre>
           
          <div class="alert alert-danger" role="alert">
            <strong>stderr</strong>
            <pre>temp.f95:4:31:

    4 |     public :: minimumScoreTrips
      |                               1
Error: PUBLIC attribute applied to MODULE minimumscoretrips at (1)
temp.f95:6:30:

    6 |     function minimumScoreTrips(nums, k) result(min_score)
      |                              1
Error: MODULE attribute of ‚Äòminimumscoretrips‚Äô conflicts with PROCEDURE attribute at (1)
temp.f95:7:38:

    7 |         integer, intent(in) :: nums(:)
      |                                      1
Error: Unexpected data declaration statement in CONTAINS section at (1)
temp.f95:8:32:

    8 |         integer, intent(in) :: k
      |                                1
Error: Unexpected data declaration statement in CONTAINS section at (1)
temp.f95:9:28:

    9 |         integer :: min_score
      |                            1
Error: Unexpected data declaration statement in CONTAINS section at (1)
temp.f95:10:35:

   10 |         integer :: max_val, min_val
      |                                   1
Error: Unexpected data declaration statement in CONTAINS section at (1)
temp.f95:11:20:

   11 |         integer :: i
      |                    1
Error: Unexpected data declaration statement in CONTAINS section at (1)
temp.f95:14:30:

   14 |         max_val = maxval(nums)
      |                              1
Error: Unexpected assignment statement in CONTAINS section at (1)
temp.f95:15:30:

   15 |         min_val = minval(nums)
      |                              1
Error: Unexpected assignment statement in CONTAINS section at (1)
temp.f95:18:37:

   18 |         min_score = max_val - min_val
      |                                     1
Error: Unexpected assignment statement in CONTAINS section at (1)
temp.f95:21:28:

   21 |         do i = 1, size(nums)
      |                            1
Error: Unexpected DO statement in CONTAINS section at (1)
temp.f95:23:39:

   23 |             if (abs(nums(i)) <= k) then
      |                                       1
Error: Unexpected block IF statement in CONTAINS section at (1)
temp.f95:25:51:

   25 |                 max_val = max(max_val, nums(i) + k)
      |                                                   1
Error: Unexpected assignment statement in CONTAINS section at (1)
temp.f95:26:51:

   26 |                 min_val = min(min_val, nums(i) - k)
      |                                                   1
Error: Unexpected assignment statement in CONTAINS section at (1)
temp.f95:29:61:

   29 |                 min_score = min(min_score, max_val - min_val)
      |                                                             1
Error: Unexpected assignment statement in CONTAINS section at (1)
temp.f95:30:15:

   30 |             end if
      |               1
Error: Expecting END MODULE statement at (1)
temp.f95:31:11:

   31 |         end do
      |           1
Error: Expecting END MODULE statement at (1)
temp.f95:32:7:

   32 |     end function minimumScoreTrips
      |       1
Error: Expecting END MODULE statement at (1)
temp.f95:37:9:

   37 |     use MinimumScoreTrips
      |         1
Fatal Error: Cannot open module file ‚Äòminimumscoretrips.mod‚Äô for reading at (1): No such file or directory
compilation terminated.
</pre>
          </div>
          
        </div>
        <div
          class="tab-pane fade"
          id="python-tab-pane"
          role="tabpanel"
          aria-labelledby="python-tab"
          tabindex="0">
          <alert class="alert alert-info d-flex">
            <strong>üåê Data from online sources</strong>
          </alert>
          <pre><code class="language-python">class ListNode:
    def __init__(self, val=0, next=None):
        self.val = val
        self.next = next

def middleNode(head):
    slow = head
    fast = head

    while fast and fast.next:
        slow = slow.next
        fast = fast.next.next

    return slow
</code></pre>
<p>The algorithm uses the tortoise and hare algorithm (slow and fast pointers). The slow pointer moves one step at a time, while the fast pointer moves two steps at a time. Since the fast pointer is moving twice as fast as the slow pointer, when the fast pointer reaches the end of the list, the slow pointer will be in the middle. Thus, we can just return the slow pointer as the middle node. If there are two middle nodes, the slow pointer will be on the second middle node, as specified in the problem statement.</p>
        </div>
        <div
          class="tab-pane fade"
          id="cpp-tab-pane"
          role="tabpanel"
          aria-labelledby="cpp-tab"
          tabindex="0">
          <alert class="alert alert-info d-flex">
            <strong>üåê Data from online sources</strong>
          </alert>
          <pre><code class="language-cpp">class ListNode {
public:
    int val;
    ListNode* next;
    ListNode(int x) : val(x), next(NULL) {}
};

ListNode* middleNode(ListNode* head) {
    ListNode* slow = head;
    ListNode* fast = head;

    while (fast != NULL &amp;&amp; fast-&gt;next != NULL) {
        slow = slow-&gt;next;
        fast = fast-&gt;next-&gt;next;
    }

    return slow;
}
</code></pre>
<p>The algorithm uses the tortoise and hare algorithm (slow and fast pointers). The slow pointer moves one step at a time, while the fast pointer moves two steps at a time. Since the fast pointer is moving twice as fast as the slow pointer, when the fast pointer reaches the end of the list, the slow pointer will be in the middle. Thus, we can just return the slow pointer as the middle node. If there are two middle nodes, the slow pointer will be on the second middle node, as specified in the problem statement.</p>
        </div>
      </div>
      <style>
        .model-code {
          max-height: 600px;
          overflow-y: auto;
        }

        .font-emoji {
          font-family: emoji;
        }
      </style>
    </div>
  </div>
</div>
<script>
  hljs.addPlugin(new CopyButtonPlugin());
  hljs.highlightAll();
</script>

  </body>
</html>