<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Fine-tuning CodeLlama-7B for Fortran Code Generation</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/5.3.3/zephyr/bootstrap.min.css"
      integrity="sha512-CWXb9sx63+REyEBV/cte+dE1hSsYpJifb57KkqAXjsN3gZQt6phZt7e5RhgZrUbaNfCdtdpcqDZtuTEB+D3q2Q=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/styles/atom-one-dark.min.css" />
    <link
      rel="stylesheet"
      href="https://unpkg.com/highlightjs-copy/dist/highlightjs-copy.min.css" />
    <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/highlight.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/languages/fortran.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/languages/python.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/languages/cpp.min.js"></script>
    <script src="https://unpkg.com/highlightjs-copy/dist/highlightjs-copy.min.js"></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js"
      integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+"
      crossorigin="anonymous"></script>
  </head>
  <body>
    
<div class="container">
  <div class="row">
    <div class="col d-flex justify-content-between align-items-center">
      <h2>Sort Array By Parity II</h2>
      <div>
        <a href="/" class="btn btn-outline-primary me-2">
          🏠
        </a>
        <a
          href="/917/"
          class="btn btn-outline-secondary me-2">
          ⬅️
        </a>
        <a
          href="/925/"
          class="btn btn-outline-secondary">
          ➡️
        </a>
      </div>
    </div>
  </div>

  <div class="row">
    <div class="col">
      <div class="leetcode-problem-content card">
        <div class="card-body">
          <p>Given an array of integers <code>nums</code>, half of the integers in <code>nums</code> are <strong>odd</strong>, and the other half are <strong>even</strong>.</p>
<p>Sort the array so that whenever <code>nums[i]</code> is odd, <code>i</code> is <strong>odd</strong>, and whenever <code>nums[i]</code> is even, <code>i</code> is <strong>even</strong>.</p>
<p>Return <em>any answer array that satisfies this condition</em>.</p>
<p><strong>Example 1:</strong></p>
<p><strong>Input:</strong> nums = [4,2,5,7]
<strong>Output:</strong> [4,5,2,7]
<strong>Explanation:</strong> [4,7,2,5], [2,5,4,7], [2,7,4,5] would also have been accepted.</p>
<p><strong>Example 2:</strong></p>
<p><strong>Input:</strong> nums = [2,3]
<strong>Output:</strong> [2,3]</p>
<p><strong>Constraints:</strong></p>
<ul>
<li><code>2 &lt;= nums.length &lt;= 2 * 104</code></li>
<li><code>nums.length</code> is even.</li>
<li>Half of the integers in <code>nums</code> are even.</li>
<li><code>0 &lt;= nums[i] &lt;= 1000</code></li>
</ul>
<p><strong>Follow Up:</strong> Could you solve it in-place?</p>
          <hr />
          <span class="fst-italic">
            Note: This problem is from
            <a
              href="https://leetcode.com/problems/sort-array-by-parity-ii/description/">LeetCode</a>.
          </span>
        </div>
      </div>
      <style>
        .leetcode-problem-content {
          max-height: 200px;
          overflow-y: auto;
        }
      </style>
    </div>
  </div>
  <div class="row">
    <div class="col-md-6">
      <ul class="nav nav-underline mb-2" id="myTab" role="tablist">
        <li class="nav-item" role="presentation">
          <button
            class="nav-link active"
            id="our-model-tab"
            data-bs-toggle="tab"
            data-bs-target="#our-model-tab-pane"
            type="button"
            role="tab"
            aria-controls="our-model-tab-pane"
            aria-selected="true">
            🦾 Our model
          </button>
        </li>
      </ul>
      <div class="tab-content" id="myTabContent">
        <div
          class="tab-pane fade show active"
          id="our-model-tab-pane"
          role="tabpanel"
          aria-labelledby="our-model-tab"
          tabindex="0">
          <div class="row mb-2">
            <div class="col">
              <div
                class="card border-danger"
                style="border-width: 2px">
                <div class="card-body">
                  <span class="font-emoji">
                    ❌
                  </span>
                  <strong>Compiled</strong>
                </div>
              </div>
            </div>

            <div class="col">
              <div
                class="card border-danger"
                style="border-width: 2px">
                <div class="card-body">
                  <span class="font_emoji">
                    ❌
                  </span>
                  <strong>Executed</strong>
                </div>
              </div>
            </div>

            <div class="col">
              <div
                class="card border-danger"
                style="border-width: 2px">
                <div class="card-body">
                  <span class="font-emoji">
                    ❌
                  </span>
                  <strong>Correct</strong>
                </div>
              </div>
            </div>
          </div>
          <pre><code class="language-fortran model-code">program main
    implicit none

    integer :: i, n, nums(4)

    ! Examples
    n = 4
    nums = (/ 4, 2, 5, 7 /)
    call sort_array(n, nums)
    write (*, '(A, I0, A, 4I0)') 'Example 1: ', n, ' -> ', nums

    n = 2
    nums = (/ 2, 3 /)
    call sort_array(n, nums)
    write (*, '(A, I0, A, 2I0)') 'Example 2: ', n, ' -> ', nums

contains

    subroutine sort_array(n, nums)
        implicit none
        integer, intent(inout) :: n
        integer, intent(inout) :: nums(:)
        integer :: i, j, temp

        do i = 1, n - 1
            do j = i + 1, n
                if (mod(nums(i), 2) == 0 .neqv. mod(j, 2) == 0) then
                    temp = nums(i)
                    nums(i) = nums(j)
                    nums(j) = temp
                end if
            end do
        end do
    end subroutine sort_array

end program main</code></pre>

           
          <div class="alert alert-danger" role="alert">
            <strong>stderr</strong>
            <pre>temp.f95:13:4:

   13 |     nums = (/ 2, 3 /)
      |    1
Error: Different shape for array assignment at (1) on dimension 1 (4 and 2)
</pre>
          </div>
          
        </div>
      </div>
    </div>
    <div class="col-md-6">
      <ul class="nav nav-underline mb-2" id="myTab" role="tablist">
        <li class="nav-item" role="presentation">
          <button
            class="nav-link active"
            id="codellama-tab"
            data-bs-toggle="tab"
            data-bs-target="#codellama-tab-pane"
            type="button"
            role="tab"
            aria-controls="codellama-tab-pane"
            aria-selected="true">
            🦙 CodeLlama-7B
          </button>
        </li>
        <li class="nav-item" role="presentation">
          <button
            class="nav-link"
            id="python-tab"
            data-bs-toggle="tab"
            data-bs-target="#python-tab-pane"
            type="button"
            role="tab"
            aria-controls="python-tab-pane"
            aria-selected="false">
            🐍 Python
          </button>
        </li>
        <li class="nav-item" role="presentation">
          <button
            class="nav-link"
            id="cpp-tab"
            data-bs-toggle="tab"
            data-bs-target="#cpp-tab-pane"
            type="button"
            role="tab"
            aria-controls="cpp-tab-pane"
            aria-selected="false">
            🤠 C++
          </button>
        </li>
      </ul>
      <div class="tab-content" id="myTabContent">
        <div
          class="tab-pane fade show active"
          id="codellama-tab-pane"
          role="tabpanel"
          aria-labelledby="codellama-tab"
          tabindex="0">
          <div class="row mb-2">
            <div class="col">
              <div
                class="card border-danger"
                style="border-width: 2px">
                <div class="card-body">
                  <span class="font-emoji">
                    ❌
                  </span>
                  <strong>Compiled</strong>
                </div>
              </div>
            </div>

            <div class="col">
              <div
                class="card border-danger"
                style="border-width: 2px">
                <div class="card-body">
                  <span class="font-emoji">
                    ❌
                  </span>
                  <strong>Executed</strong>
                </div>
              </div>
            </div>

            <div class="col">
              <div
                class="card border-danger"
                style="border-width: 2px">
                <div class="card-body">
                  <span class="font-emoji">
                    ❌
                  </span>
                  <strong>Correct</strong>
                </div>
              </div>
            </div>
          </div>
          <pre><code class="language-fortran model-code">module sort_array
    implicit none
    private
    public :: sort_array
contains
    subroutine sort_array(nums)
        implicit none
        integer, intent(inout) :: nums(:)
        integer :: i, j, temp

        ! Loop through the array and swap odd and even elements
        do i = 1, size(nums) - 1
            if (mod(nums(i), 2) == 0) then
                do j = i + 1, size(nums)
                    if (mod(nums(j), 2) /= 0) then
                        temp = nums(i)
                        nums(i) = nums(j)
                        nums(j) = temp
                        exit
                    end if
                end do
            end if
        end do
    end subroutine sort_array
end module sort_array

program test_sort_array
    use sort_array
    implicit none
    integer, parameter :: nums(4) = [4, 2, 5, 7]
    integer :: i

    call sort_array(nums)

    do i = 1, size(nums)
        write (*,*) nums(i)
    end do
end program test_sort_array
</code></pre>
           
          <div class="alert alert-danger" role="alert">
            <strong>stderr</strong>
            <pre>temp.f95:4:24:

    4 |     public :: sort_array
      |                        1
Error: PUBLIC attribute applied to MODULE sort_array at (1)
temp.f95:6:25:

    6 |     subroutine sort_array(nums)
      |                         1
Error: MODULE attribute of ‘sort_array’ conflicts with PROCEDURE attribute at (1)
temp.f95:7:21:

    7 |         implicit none
      |                     1
Error: Unexpected IMPLICIT NONE statement in CONTAINS section at (1)
temp.f95:8:41:

    8 |         integer, intent(inout) :: nums(:)
      |                                         1
Error: Unexpected data declaration statement in CONTAINS section at (1)
temp.f95:9:29:

    9 |         integer :: i, j, temp
      |                             1
Error: Unexpected data declaration statement in CONTAINS section at (1)
temp.f95:12:32:

   12 |         do i = 1, size(nums) - 1
      |                                1
Error: Unexpected DO statement in CONTAINS section at (1)
temp.f95:13:42:

   13 |             if (mod(nums(i), 2) == 0) then
      |                                          1
Error: Unexpected block IF statement in CONTAINS section at (1)
temp.f95:14:40:

   14 |                 do j = i + 1, size(nums)
      |                                        1
Error: Unexpected DO statement in CONTAINS section at (1)
temp.f95:15:50:

   15 |                     if (mod(nums(j), 2) /= 0) then
      |                                                  1
Error: Unexpected block IF statement in CONTAINS section at (1)
temp.f95:16:38:

   16 |                         temp = nums(i)
      |                                      1
Error: Unexpected assignment statement in CONTAINS section at (1)
temp.f95:17:41:

   17 |                         nums(i) = nums(j)
      |                                         1
Error: Unexpected assignment statement in CONTAINS section at (1)
temp.f95:18:38:

   18 |                         nums(j) = temp
      |                                      1
Error: Unexpected assignment statement in CONTAINS section at (1)
temp.f95:19:28:

   19 |                         exit
      |                            1
Error: EXIT statement at (1) is not within a construct
temp.f95:20:23:

   20 |                     end if
      |                       1
Error: Expecting END MODULE statement at (1)
temp.f95:21:19:

   21 |                 end do
      |                   1
Error: Expecting END MODULE statement at (1)
temp.f95:22:15:

   22 |             end if
      |               1
Error: Expecting END MODULE statement at (1)
temp.f95:23:11:

   23 |         end do
      |           1
Error: Expecting END MODULE statement at (1)
temp.f95:24:7:

   24 |     end subroutine sort_array
      |       1
Error: Expecting END MODULE statement at (1)
temp.f95:28:9:

   28 |     use sort_array
      |         1
Fatal Error: Cannot open module file ‘sort_array.mod’ for reading at (1): No such file or directory
compilation terminated.
</pre>
          </div>
          
        </div>
        <div
          class="tab-pane fade"
          id="python-tab-pane"
          role="tabpanel"
          aria-labelledby="python-tab"
          tabindex="0">
          <alert class="alert alert-info d-flex">
            <strong>🌐 Data from online sources</strong>
          </alert>
          <pre><code class="language-python">from collections import defaultdict


def possible_bipartition(n, dislikes):
    def dfs(person, group):
        if person in groups:
            return groups[person] == group
        groups[person] = group
        for other in dislike_list[person]:
            if not dfs(other, -group):
                return False
        return True

    groups = {}
    dislike_list = defaultdict(list)
    for p1, p2 in dislikes:
        dislike_list[p1].append(p2)
        dislike_list[p2].append(p1)

    for person in range(1, n + 1):
        if person not in groups and not dfs(person, 1):
            return False

    return True
</code></pre>
<pre><code>The problem can be modeled as a graph where each person is a node and dislikes are edges between nodes. We need to color the graph using two colors (or groups) such that if there is an edge between the nodes, they must have different colors. This is possible if and only if the graph is bipartite.
</code></pre>
<p>We can use Depth First Search (DFS) to check if the graph is bipartite. Start with an uncolored node, color it with group 1, and move to its neighbors. Each neighbor gets the opposite color (group) of the current node. If we find a node that has already been colored and it has the same color as the current node, then the graph is not bipartite, and we return false. If all nodes are successfully colored, the graph is bipartite, and we return true. The time complexity is O(n + e), where n is the number of nodes (people) and e is the number of edges (dislikes).</p>
        </div>
        <div
          class="tab-pane fade"
          id="cpp-tab-pane"
          role="tabpanel"
          aria-labelledby="cpp-tab"
          tabindex="0">
          <alert class="alert alert-info d-flex">
            <strong>🌐 Data from online sources</strong>
          </alert>
          <pre><code class="language-cpp">#include &lt;vector&gt;
using namespace std;

bool dfs(int person, int group, vector&lt;int&gt; &amp;groups, vector&lt;vector&lt;int&gt;&gt; &amp;dislikeList) {
    if (groups[person] != 0) {
        return groups[person] == group;
    }
    groups[person] = group;
    for (int other : dislikeList[person]) {
        if (!dfs(other, -group, groups, dislikeList)) {
            return false;
        }
    }
    return true;
}

bool possible_bipartition(int n, vector&lt;vector&lt;int&gt;&gt; &amp;dislikes) {
    vector&lt;int&gt; groups(n + 1, 0);
    vector&lt;vector&lt;int&gt;&gt; dislikeList(n + 1);

    for (auto &amp;dislikePair : dislikes) {
        dislikeList[dislikePair[0]].push_back(dislikePair[1]);
        dislikeList[dislikePair[1]].push_back(dislikePair[0]);
    }

    for (int person = 1; person &lt;= n; person++) {
        if (groups[person] == 0 &amp;&amp; !dfs(person, 1, groups, dislikeList)) {
            return false;
        }
    }

    return true;
}
</code></pre>
<pre><code>The problem can be modeled as a graph where each person is a node and dislikes are edges between nodes. We need to color the graph using two colors (or groups) such that if there is an edge between the nodes, they must have different colors. This is possible if and only if the graph is bipartite.
</code></pre>
<p>We can use Depth First Search (DFS) to check if the graph is bipartite. Start with an uncolored node, color it with group 1, and move to its neighbors. Each neighbor gets the opposite color (group) of the current node. If we find a node that has already been colored and it has the same color as the current node, then the graph is not bipartite, and we return false. If all nodes are successfully colored, the graph is bipartite, and we return true. The time complexity is O(n + e), where n is the number of nodes (people) and e is the number of edges (dislikes).</p>
        </div>
      </div>
      <style>
        .model-code {
          max-height: 600px;
          overflow-y: auto;
        }

        .font-emoji {
          font-family: emoji;
        }
      </style>
    </div>
  </div>
</div>
<script>
  hljs.addPlugin(new CopyButtonPlugin());
  hljs.highlightAll();
</script>

  </body>
</html>